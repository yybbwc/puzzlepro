src\puzzlepro_core/./card.cc:78:12: warning: function 'card_operation_sort' has cognitive complexity of 46 (threshold 25) [readability-function-cognitive-complexity]
   78 | bool card::card_operation_sort(card *c1, card *c2) {
      |            ^
src\puzzlepro_core/./card.cc:80:36: note: +1, including nesting penalty of 0, nesting level increased to 1
   80 |   int32_t cp1 = c1->overlay_target ? c1->overlay_target->current.controler : c1->current.controler;
      |                                    ^
src\puzzlepro_core/./card.cc:81:36: note: +1, including nesting penalty of 0, nesting level increased to 1
   81 |   int32_t cp2 = c2->overlay_target ? c2->overlay_target->current.controler : c2->current.controler;
      |                                    ^
src\puzzlepro_core/./card.cc:82:3: note: +1, including nesting penalty of 0, nesting level increased to 1
   82 |   if (cp1 != cp2) {
      |   ^
src\puzzlepro_core/./card.cc:83:5: note: +2, including nesting penalty of 1, nesting level increased to 2
   83 |     if (cp1 == PLAYER_NONE || cp2 == PLAYER_NONE) {
      |     ^
src\puzzlepro_core/./card.cc:83:28: note: +1
   83 |     if (cp1 == PLAYER_NONE || cp2 == PLAYER_NONE) {
      |                            ^
src\puzzlepro_core/./card.cc:86:5: note: +2, including nesting penalty of 1, nesting level increased to 2
   86 |     if (pduel->game_field->infos.turn_player == 0) {
      |     ^
src\puzzlepro_core/./card.cc:89:5: note: +1, nesting level increased to 2
   89 |     else {
      |     ^
src\puzzlepro_core/./card.cc:93:3: note: +1, including nesting penalty of 0, nesting level increased to 1
   93 |   if (c1->current.location != c2->current.location) {
      |   ^
src\puzzlepro_core/./card.cc:96:3: note: +1, including nesting penalty of 0, nesting level increased to 1
   96 |   if (c1->current.location == LOCATION_OVERLAY) {
      |   ^
src\puzzlepro_core/./card.cc:97:5: note: +2, including nesting penalty of 1, nesting level increased to 2
   97 |     if (c1->overlay_target && c2->overlay_target && c1->overlay_target->current.sequence != c2->overlay_target->current.sequence) {
      |     ^
src\puzzlepro_core/./card.cc:97:50: note: +1
   97 |     if (c1->overlay_target && c2->overlay_target && c1->overlay_target->current.sequence != c2->overlay_target->current.sequence) {
      |                                                  ^
src\puzzlepro_core/./card.cc:100:5: note: +1, nesting level increased to 2
  100 |     else {
      |     ^
src\puzzlepro_core/./card.cc:104:8: note: +1, nesting level increased to 1
  104 |   else if (c1->current.location == LOCATION_DECK && pduel->game_field->is_select_hide_deck_sequence(cp1)) {
      |        ^
src\puzzlepro_core/./card.cc:104:50: note: +1
  104 |   else if (c1->current.location == LOCATION_DECK && pduel->game_field->is_select_hide_deck_sequence(cp1)) {
      |                                                  ^
src\puzzlepro_core/./card.cc:106:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  106 |     if (pduel->game_field->core.deck_reversed) {
      |     ^
src\puzzlepro_core/./card.cc:107:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  107 |       if (c1 == pduel->game_field->player[cp1].list_main.back()) {
      |       ^
src\puzzlepro_core/./card.cc:110:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  110 |       if (c2 == pduel->game_field->player[cp2].list_main.back()) {
      |       ^
src\puzzlepro_core/./card.cc:117:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  117 |     if (c1_faceup || c2_faceup) {
      |     ^
src\puzzlepro_core/./card.cc:117:19: note: +1
  117 |     if (c1_faceup || c2_faceup) {
      |                   ^
src\puzzlepro_core/./card.cc:118:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  118 |       if (c1_faceup && c2_faceup) {
      |       ^
src\puzzlepro_core/./card.cc:118:21: note: +1
  118 |       if (c1_faceup && c2_faceup) {
      |                     ^
src\puzzlepro_core/./card.cc:121:7: note: +1, nesting level increased to 3
  121 |       else {
      |       ^
src\puzzlepro_core/./card.cc:129:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  129 |     if (c1_type != c2_type) {
      |     ^
src\puzzlepro_core/./card.cc:132:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  132 |     if (c1_type & TYPE_MONSTER) {
      |     ^
src\puzzlepro_core/./card.cc:133:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  133 |       if (c1->data.level != c2->data.level) {
      |       ^
src\puzzlepro_core/./card.cc:138:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  138 |     if (c1->data.code != c2->data.code) {
      |     ^
src\puzzlepro_core/./card.cc:143:3: note: +1, nesting level increased to 1
  143 |   else {
      |   ^
src\puzzlepro_core/./card.cc:144:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  144 |     if (c1->current.location & (LOCATION_DECK | LOCATION_EXTRA | LOCATION_GRAVE | LOCATION_REMOVED)) {
      |     ^
src\puzzlepro_core/./card.cc:147:5: note: +1, nesting level increased to 2
  147 |     else {
      |     ^
src\puzzlepro_core/./card.cc:191:15: warning: function 'get_infos' has cognitive complexity of 111 (threshold 25) [readability-function-cognitive-complexity]
  191 | int32_t card::get_infos(byte *buf, uint32_t query_flag, int32_t use_cache) {
      |               ^
src\puzzlepro_core/./card.cc:195:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  195 |   if ((query_flag & QUERY_ATTACK) || (query_flag & QUERY_DEFENSE)) {
      |   ^
src\puzzlepro_core/./card.cc:195:35: note: +1
  195 |   if ((query_flag & QUERY_ATTACK) || (query_flag & QUERY_DEFENSE)) {
      |                                   ^
src\puzzlepro_core/./card.cc:198:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  198 |   if ((query_flag & QUERY_BASE_ATTACK) || (query_flag & QUERY_BASE_DEFENSE)) {
      |   ^
src\puzzlepro_core/./card.cc:198:40: note: +1
  198 |   if ((query_flag & QUERY_BASE_ATTACK) || (query_flag & QUERY_BASE_DEFENSE)) {
      |                                        ^
src\puzzlepro_core/./card.cc:203:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  203 |   if (query_flag & QUERY_CODE) {
      |   ^
src\puzzlepro_core/./card.cc:206:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  206 |   if (query_flag & QUERY_POSITION) {
      |   ^
src\puzzlepro_core/./card.cc:209:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  209 |     if (q_cache.info_location != tdata) {
      |     ^
src\puzzlepro_core/./card.cc:215:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  215 |   if (!use_cache) {
      |   ^
src\puzzlepro_core/./card.cc:216:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  216 |     if (query_flag & QUERY_ALIAS) {
      |     ^
src\puzzlepro_core/./card.cc:221:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  221 |     if (query_flag & QUERY_TYPE) {
      |     ^
src\puzzlepro_core/./card.cc:226:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  226 |     if (query_flag & QUERY_LEVEL) {
      |     ^
src\puzzlepro_core/./card.cc:231:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  231 |     if (query_flag & QUERY_RANK) {
      |     ^
src\puzzlepro_core/./card.cc:236:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  236 |     if (query_flag & QUERY_ATTRIBUTE) {
      |     ^
src\puzzlepro_core/./card.cc:241:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  241 |     if (query_flag & QUERY_RACE) {
      |     ^
src\puzzlepro_core/./card.cc:246:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  246 |     if (query_flag & QUERY_ATTACK) {
      |     ^
src\puzzlepro_core/./card.cc:250:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  250 |     if (query_flag & QUERY_DEFENSE) {
      |     ^
src\puzzlepro_core/./card.cc:254:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  254 |     if (query_flag & QUERY_BASE_ATTACK) {
      |     ^
src\puzzlepro_core/./card.cc:258:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  258 |     if (query_flag & QUERY_BASE_DEFENSE) {
      |     ^
src\puzzlepro_core/./card.cc:262:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  262 |     if (query_flag & QUERY_REASON) {
      |     ^
src\puzzlepro_core/./card.cc:267:3: note: +1, nesting level increased to 1
  267 |   else {
      |   ^
src\puzzlepro_core/./card.cc:268:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  268 |     if ((query_flag & QUERY_ALIAS)) {
      |     ^
src\puzzlepro_core/./card.cc:272:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  272 |     if ((query_flag & QUERY_TYPE)) {
      |     ^
src\puzzlepro_core/./card.cc:276:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  276 |     if ((query_flag & QUERY_LEVEL)) {
      |     ^
src\puzzlepro_core/./card.cc:280:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  280 |     if ((query_flag & QUERY_RANK)) {
      |     ^
src\puzzlepro_core/./card.cc:284:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  284 |     if ((query_flag & QUERY_ATTRIBUTE)) {
      |     ^
src\puzzlepro_core/./card.cc:288:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  288 |     if ((query_flag & QUERY_RACE)) {
      |     ^
src\puzzlepro_core/./card.cc:292:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  292 |     if ((query_flag & QUERY_ATTACK)) {
      |     ^
src\puzzlepro_core/./card.cc:293:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  293 |       if (atk_def.first != q_cache.attack) {
      |       ^
src\puzzlepro_core/./card.cc:297:7: note: +1, nesting level increased to 3
  297 |       else {
      |       ^
src\puzzlepro_core/./card.cc:301:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  301 |     if ((query_flag & QUERY_DEFENSE)) {
      |     ^
src\puzzlepro_core/./card.cc:302:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  302 |       if (atk_def.second != q_cache.defense) {
      |       ^
src\puzzlepro_core/./card.cc:306:7: note: +1, nesting level increased to 3
  306 |       else {
      |       ^
src\puzzlepro_core/./card.cc:310:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  310 |     if ((query_flag & QUERY_BASE_ATTACK)) {
      |     ^
src\puzzlepro_core/./card.cc:311:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  311 |       if (base_atk_def.first != q_cache.base_attack) {
      |       ^
src\puzzlepro_core/./card.cc:315:7: note: +1, nesting level increased to 3
  315 |       else {
      |       ^
src\puzzlepro_core/./card.cc:319:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  319 |     if ((query_flag & QUERY_BASE_DEFENSE)) {
      |     ^
src\puzzlepro_core/./card.cc:320:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  320 |       if (base_atk_def.second != q_cache.base_defense) {
      |       ^
src\puzzlepro_core/./card.cc:324:7: note: +1, nesting level increased to 3
  324 |       else {
      |       ^
src\puzzlepro_core/./card.cc:328:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  328 |     if ((query_flag & QUERY_REASON)) {
      |     ^
src\puzzlepro_core/./card.cc:333:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  333 |   if (query_flag & QUERY_REASON_CARD) {
      |   ^
src\puzzlepro_core/./card.cc:334:42: note: +2, including nesting penalty of 1, nesting level increased to 2
  334 |     uint32_t tdata = current.reason_card ? current.reason_card->get_info_location() : 0;
      |                                          ^
src\puzzlepro_core/./card.cc:337:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  337 |   if (query_flag & QUERY_EQUIP_CARD) {
      |   ^
src\puzzlepro_core/./card.cc:338:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  338 |     if (equiping_target) {
      |     ^
src\puzzlepro_core/./card.cc:342:5: note: +1, nesting level increased to 2
  342 |     else {
      |     ^
src\puzzlepro_core/./card.cc:346:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  346 |   if (query_flag & QUERY_TARGET_CARD) {
      |   ^
src\puzzlepro_core/./card.cc:348:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  348 |     for (auto &pcard : effect_target_cards) {
      |     ^
src\puzzlepro_core/./card.cc:353:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  353 |   if (query_flag & QUERY_OVERLAY_CARD) {
      |   ^
src\puzzlepro_core/./card.cc:355:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  355 |     for (auto &xcard : xyz_materials) {
      |     ^
src\puzzlepro_core/./card.cc:359:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  359 |   if (query_flag & QUERY_COUNTERS) {
      |   ^
src\puzzlepro_core/./card.cc:361:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  361 |     for (const auto &cmit : counters) {
      |     ^
src\puzzlepro_core/./card.cc:366:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  366 |   if (query_flag & QUERY_OWNER) {
      |   ^
src\puzzlepro_core/./card.cc:370:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  370 |   if (query_flag & QUERY_STATUS) {
      |   ^
src\puzzlepro_core/./card.cc:372:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  372 |     if (!use_cache || (tdata != q_cache.status)) {
      |     ^
src\puzzlepro_core/./card.cc:372:20: note: +1
  372 |     if (!use_cache || (tdata != q_cache.status)) {
      |                    ^
src\puzzlepro_core/./card.cc:376:5: note: +1, nesting level increased to 2
  376 |     else {
      |     ^
src\puzzlepro_core/./card.cc:380:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  380 |   if (!use_cache) {
      |   ^
src\puzzlepro_core/./card.cc:381:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  381 |     if (query_flag & QUERY_LSCALE) {
      |     ^
src\puzzlepro_core/./card.cc:386:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  386 |     if (query_flag & QUERY_RSCALE) {
      |     ^
src\puzzlepro_core/./card.cc:391:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  391 |     if (query_flag & QUERY_LINK) {
      |     ^
src\puzzlepro_core/./card.cc:400:3: note: +1, nesting level increased to 1
  400 |   else {
      |   ^
src\puzzlepro_core/./card.cc:401:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  401 |     if ((query_flag & QUERY_LSCALE)) {
      |     ^
src\puzzlepro_core/./card.cc:405:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  405 |     if ((query_flag & QUERY_RSCALE)) {
      |     ^
src\puzzlepro_core/./card.cc:409:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  409 |     if (query_flag & QUERY_LINK) {
      |     ^
src\puzzlepro_core/./card.cc:412:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  412 |       if ((link != q_cache.link) || (link_marker != q_cache.link_marker)) {
      |       ^
src\puzzlepro_core/./card.cc:412:34: note: +1
  412 |       if ((link != q_cache.link) || (link_marker != q_cache.link_marker)) {
      |                                  ^
src\puzzlepro_core/./card.cc:418:7: note: +1, nesting level increased to 3
  418 |       else {
      |       ^
src\puzzlepro_core/./card.cc:711:35: warning: function 'get_base_atk_def' has cognitive complexity of 34 (threshold 25) [readability-function-cognitive-complexity]
  711 | std::pair<int32_t, int32_t> card::get_base_atk_def() {
      |                                   ^
src\puzzlepro_core/./card.cc:712:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  712 |   if (!(data.type & TYPE_MONSTER) && !(get_type() & TYPE_MONSTER) && !is_affected_by_effect(EFFECT_PRE_MONSTER)) {
      |   ^
src\puzzlepro_core/./card.cc:712:67: note: +1
  712 |   if (!(data.type & TYPE_MONSTER) && !(get_type() & TYPE_MONSTER) && !is_affected_by_effect(EFFECT_PRE_MONSTER)) {
      |                                                                   ^
src\puzzlepro_core/./card.cc:716:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  716 |   if (!(data.type & TYPE_LINK)) {
      |   ^
src\puzzlepro_core/./card.cc:719:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  719 |   if (current.location != LOCATION_MZONE || get_status(STATUS_SUMMONING | STATUS_SPSUMMON_STEP)) {
      |   ^
src\puzzlepro_core/./card.cc:719:42: note: +1
  719 |   if (current.location != LOCATION_MZONE || get_status(STATUS_SUMMONING | STATUS_SPSUMMON_STEP)) {
      |                                          ^
src\puzzlepro_core/./card.cc:722:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  722 |   if (temp.base_attack != -1) {
      |   ^
src\puzzlepro_core/./card.cc:728:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  728 |   if (batk < 0) {
      |   ^
src\puzzlepro_core/./card.cc:732:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  732 |   if (!(data.type & TYPE_LINK)) {
      |   ^
src\puzzlepro_core/./card.cc:734:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  734 |     if (bdef < 0) {
      |     ^
src\puzzlepro_core/./card.cc:743:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  743 |   if (!(data.type & TYPE_LINK)) {
      |   ^
src\puzzlepro_core/./card.cc:750:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  750 |   for (effect_set::size_type i = 0; i < eset.size();) {
      |   ^
src\puzzlepro_core/./card.cc:751:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  751 |     if (eset[i]->type & EFFECT_TYPE_SINGLE) {
      |     ^
src\puzzlepro_core/./card.cc:752:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  752 |       switch (eset[i]->code) {
      |       ^
src\puzzlepro_core/./card.cc:755:11: note: +4, including nesting penalty of 3, nesting level increased to 4
  755 |           if (batk < 0) {
      |           ^
src\puzzlepro_core/./card.cc:764:11: note: +4, including nesting penalty of 3, nesting level increased to 4
  764 |           if (bdef < 0) {
      |           ^
src\puzzlepro_core/./card.cc:775:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  775 |   for (effect_set::size_type i = 0; i < eset.size(); ++i) {
      |   ^
src\puzzlepro_core/./card.cc:776:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  776 |     switch (eset[i]->code) {
      |     ^
src\puzzlepro_core/./card.cc:780:9: note: +3, including nesting penalty of 2, nesting level increased to 3
  780 |         if (batk < 0) {
      |         ^
src\puzzlepro_core/./card.cc:787:9: note: +3, including nesting penalty of 2, nesting level increased to 3
  787 |         if (bdef < 0) {
      |         ^
src\puzzlepro_core/./card.cc:805:35: warning: function 'get_atk_def' has cognitive complexity of 106 (threshold 25) [readability-function-cognitive-complexity]
  805 | std::pair<int32_t, int32_t> card::get_atk_def() {
      |                                   ^
src\puzzlepro_core/./card.cc:806:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  806 |   if (assume_type == ASSUME_ATTACK) {
      |   ^
src\puzzlepro_core/./card.cc:809:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  809 |   if (assume_type == ASSUME_DEFENSE) {
      |   ^
src\puzzlepro_core/./card.cc:810:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  810 |     if (data.type & TYPE_LINK) {
      |     ^
src\puzzlepro_core/./card.cc:813:5: note: +1, nesting level increased to 2
  813 |     else {
      |     ^
src\puzzlepro_core/./card.cc:817:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  817 |   if (!(data.type & TYPE_MONSTER) && !(get_type() & TYPE_MONSTER) && !is_affected_by_effect(EFFECT_PRE_MONSTER)) {
      |   ^
src\puzzlepro_core/./card.cc:817:67: note: +1
  817 |   if (!(data.type & TYPE_MONSTER) && !(get_type() & TYPE_MONSTER) && !is_affected_by_effect(EFFECT_PRE_MONSTER)) {
      |                                                                   ^
src\puzzlepro_core/./card.cc:821:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  821 |   if (!(data.type & TYPE_LINK)) {
      |   ^
src\puzzlepro_core/./card.cc:824:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  824 |   if (current.location != LOCATION_MZONE || get_status(STATUS_SUMMONING | STATUS_SPSUMMON_STEP)) {
      |   ^
src\puzzlepro_core/./card.cc:824:42: note: +1
  824 |   if (current.location != LOCATION_MZONE || get_status(STATUS_SUMMONING | STATUS_SPSUMMON_STEP)) {
      |                                          ^
src\puzzlepro_core/./card.cc:827:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  827 |   if (temp.attack != -1) {
      |   ^
src\puzzlepro_core/./card.cc:841:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  841 |   if (batk < 0) {
      |   ^
src\puzzlepro_core/./card.cc:845:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  845 |   if (!(data.type & TYPE_LINK)) {
      |   ^
src\puzzlepro_core/./card.cc:847:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  847 |     if (bdef < 0) {
      |     ^
src\puzzlepro_core/./card.cc:861:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  861 |   if (!(data.type & TYPE_LINK)) {
      |   ^
src\puzzlepro_core/./card.cc:869:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  869 |   if (is_affected_by_effect(EFFECT_REVERSE_UPDATE)) {
      |   ^
src\puzzlepro_core/./card.cc:872:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  872 |   for (effect_set::size_type i = 0; i < eset.size();) {
      |   ^
src\puzzlepro_core/./card.cc:873:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  873 |     if (eset[i]->type & EFFECT_TYPE_SINGLE) {
      |     ^
src\puzzlepro_core/./card.cc:874:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  874 |       switch (eset[i]->code) {
      |       ^
src\puzzlepro_core/./card.cc:877:11: note: +4, including nesting penalty of 3, nesting level increased to 4
  877 |           if (atk < 0) {
      |           ^
src\puzzlepro_core/./card.cc:886:11: note: +4, including nesting penalty of 3, nesting level increased to 4
  886 |           if (def < 0) {
      |           ^
src\puzzlepro_core/./card.cc:897:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  897 |   for (effect_set::size_type i = 0; i < eset.size(); ++i) {
      |   ^
src\puzzlepro_core/./card.cc:898:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  898 |     switch (eset[i]->code) {
      |     ^
src\puzzlepro_core/./card.cc:900:9: note: +3, including nesting penalty of 2, nesting level increased to 3
  900 |         if (eset[i]->is_flag(EFFECT_FLAG2_REPEAT_UPDATE)) {
      |         ^
src\puzzlepro_core/./card.cc:903:14: note: +1, nesting level increased to 3
  903 |         else if ((eset[i]->type & EFFECT_TYPE_SINGLE) && !eset[i]->is_flag(EFFECT_FLAG_SINGLE_RANGE)) {
      |              ^
src\puzzlepro_core/./card.cc:903:55: note: +1
  903 |         else if ((eset[i]->type & EFFECT_TYPE_SINGLE) && !eset[i]->is_flag(EFFECT_FLAG_SINGLE_RANGE)) {
      |                                                       ^
src\puzzlepro_core/./card.cc:906:9: note: +1, nesting level increased to 3
  906 |         else {
      |         ^
src\puzzlepro_core/./card.cc:912:9: note: +3, including nesting penalty of 2, nesting level increased to 3
  912 |         if (atk < 0) {
      |         ^
src\puzzlepro_core/./card.cc:918:9: note: +3, including nesting penalty of 2, nesting level increased to 3
  918 |         if ((eset[i]->type & EFFECT_TYPE_SINGLE) && !eset[i]->is_flag(EFFECT_FLAG_SINGLE_RANGE)) {
      |         ^
src\puzzlepro_core/./card.cc:918:50: note: +1
  918 |         if ((eset[i]->type & EFFECT_TYPE_SINGLE) && !eset[i]->is_flag(EFFECT_FLAG_SINGLE_RANGE)) {
      |                                                  ^
src\puzzlepro_core/./card.cc:920:11: note: +4, including nesting penalty of 3, nesting level increased to 4
  920 |           if (atk < 0) {
      |           ^
src\puzzlepro_core/./card.cc:926:14: note: +1, nesting level increased to 3
  926 |         else if (eset[i]->is_flag(EFFECT_FLAG2_OPTION)) {
      |              ^
src\puzzlepro_core/./card.cc:929:14: note: +1, nesting level increased to 3
  929 |         else if (eset[i]->is_flag(EFFECT_FLAG2_WICKED)) {
      |              ^
src\puzzlepro_core/./card.cc:932:9: note: +1, nesting level increased to 3
  932 |         else {
      |         ^
src\puzzlepro_core/./card.cc:938:9: note: +3, including nesting penalty of 2, nesting level increased to 3
  938 |         if (eset[i]->is_flag(EFFECT_FLAG2_REPEAT_UPDATE)) {
      |         ^
src\puzzlepro_core/./card.cc:941:14: note: +1, nesting level increased to 3
  941 |         else if ((eset[i]->type & EFFECT_TYPE_SINGLE) && !eset[i]->is_flag(EFFECT_FLAG_SINGLE_RANGE)) {
      |              ^
src\puzzlepro_core/./card.cc:941:55: note: +1
  941 |         else if ((eset[i]->type & EFFECT_TYPE_SINGLE) && !eset[i]->is_flag(EFFECT_FLAG_SINGLE_RANGE)) {
      |                                                       ^
src\puzzlepro_core/./card.cc:944:9: note: +1, nesting level increased to 3
  944 |         else {
      |         ^
src\puzzlepro_core/./card.cc:950:9: note: +3, including nesting penalty of 2, nesting level increased to 3
  950 |         if (def < 0) {
      |         ^
src\puzzlepro_core/./card.cc:956:9: note: +3, including nesting penalty of 2, nesting level increased to 3
  956 |         if ((eset[i]->type & EFFECT_TYPE_SINGLE) && !eset[i]->is_flag(EFFECT_FLAG_SINGLE_RANGE)) {
      |         ^
src\puzzlepro_core/./card.cc:956:50: note: +1
  956 |         if ((eset[i]->type & EFFECT_TYPE_SINGLE) && !eset[i]->is_flag(EFFECT_FLAG_SINGLE_RANGE)) {
      |                                                  ^
src\puzzlepro_core/./card.cc:958:11: note: +4, including nesting penalty of 3, nesting level increased to 4
  958 |           if (def < 0) {
      |           ^
src\puzzlepro_core/./card.cc:964:14: note: +1, nesting level increased to 3
  964 |         else if (eset[i]->is_flag(EFFECT_FLAG2_OPTION)) {
      |              ^
src\puzzlepro_core/./card.cc:967:14: note: +1, nesting level increased to 3
  967 |         else if (eset[i]->is_flag(EFFECT_FLAG2_WICKED)) {
      |              ^
src\puzzlepro_core/./card.cc:970:9: note: +1, nesting level increased to 3
  970 |         else {
      |         ^
src\puzzlepro_core/./card.cc:978:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  978 |     if (!rev) {
      |     ^
src\puzzlepro_core/./card.cc:982:5: note: +1, nesting level increased to 2
  982 |     else {
      |     ^
src\puzzlepro_core/./card.cc:986:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  986 |     if (temp.attack < 0) {
      |     ^
src\puzzlepro_core/./card.cc:989:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  989 |     if (temp.defense < 0) {
      |     ^
src\puzzlepro_core/./card.cc:993:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  993 |   for (effect_set::size_type i = 0; i < effects_repeat_update_atk.size(); ++i) {
      |   ^
src\puzzlepro_core/./card.cc:995:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  995 |     if (temp.attack < 0) {
      |     ^
src\puzzlepro_core/./card.cc:999:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  999 |   for (effect_set::size_type i = 0; i < effects_repeat_update_def.size(); ++i) {
      |   ^
src\puzzlepro_core/./card.cc:1001:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1001 |     if (temp.defense < 0) {
      |     ^
src\puzzlepro_core/./card.cc:1005:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1005 |   for (effect_set::size_type i = 0; i < effects_atk_final.size(); ++i) {
      |   ^
src\puzzlepro_core/./card.cc:1007:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1007 |     if (atk < 0) {
      |     ^
src\puzzlepro_core/./card.cc:1012:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1012 |   for (effect_set::size_type i = 0; i < effects_def_final.size(); ++i) {
      |   ^
src\puzzlepro_core/./card.cc:1014:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1014 |     if (def < 0) {
      |     ^
src\puzzlepro_core/./card.cc:1019:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1019 |   if (swap_final) {
      |   ^
src\puzzlepro_core/./card.cc:1023:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1023 |   for (effect_set::size_type i = 0; i < effects_atk_wicked.size(); ++i) {
      |   ^
src\puzzlepro_core/./card.cc:1025:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1025 |     if (atk < 0) {
      |     ^
src\puzzlepro_core/./card.cc:1030:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1030 |   for (effect_set::size_type i = 0; i < effects_def_wicked.size(); ++i) {
      |   ^
src\puzzlepro_core/./card.cc:1032:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1032 |     if (def < 0) {
      |     ^
src\puzzlepro_core/./card.cc:1038:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1038 |   for (effect_set::size_type i = 0; i < effects_atk_option.size(); ++i) {
      |   ^
src\puzzlepro_core/./card.cc:1040:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1040 |     if (atk < 0) {
      |     ^
src\puzzlepro_core/./card.cc:1045:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1045 |   for (effect_set::size_type i = 0; i < effects_def_option.size(); ++i) {
      |   ^
src\puzzlepro_core/./card.cc:1047:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1047 |     if (def < 0) {
      |     ^
src\puzzlepro_core/./card.cc:1506:16: warning: function 'get_linked_zone' has cognitive complexity of 42 (threshold 25) [readability-function-cognitive-complexity]
 1506 | uint32_t card::get_linked_zone() {
      |                ^
src\puzzlepro_core/./card.cc:1507:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1507 |   if (!(data.type & TYPE_LINK) || current.location != LOCATION_MZONE || is_treated_as_not_on_field()) {
      |   ^
src\puzzlepro_core/./card.cc:1507:70: note: +1
 1507 |   if (!(data.type & TYPE_LINK) || current.location != LOCATION_MZONE || is_treated_as_not_on_field()) {
      |                                                                      ^
src\puzzlepro_core/./card.cc:1512:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1512 |   if (s > 0 && s <= 4 && is_link_marker(LINK_MARKER_LEFT)) {
      |   ^
src\puzzlepro_core/./card.cc:1512:23: note: +1
 1512 |   if (s > 0 && s <= 4 && is_link_marker(LINK_MARKER_LEFT)) {
      |                       ^
src\puzzlepro_core/./card.cc:1515:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1515 |   if (s <= 3 && is_link_marker(LINK_MARKER_RIGHT)) {
      |   ^
src\puzzlepro_core/./card.cc:1515:14: note: +1
 1515 |   if (s <= 3 && is_link_marker(LINK_MARKER_RIGHT)) {
      |              ^
src\puzzlepro_core/./card.cc:1518:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1518 |   if ((s == 0 && is_link_marker(LINK_MARKER_TOP_RIGHT)) || (s == 1 && is_link_marker(LINK_MARKER_TOP)) || (s == 2 && is_link_marker(LINK_MARKER_TOP_LEFT))) {
      |   ^
src\puzzlepro_core/./card.cc:1518:104: note: +1
 1518 |   if ((s == 0 && is_link_marker(LINK_MARKER_TOP_RIGHT)) || (s == 1 && is_link_marker(LINK_MARKER_TOP)) || (s == 2 && is_link_marker(LINK_MARKER_TOP_LEFT))) {
      |                                                                                                        ^
src\puzzlepro_core/./card.cc:1518:15: note: +1
 1518 |   if ((s == 0 && is_link_marker(LINK_MARKER_TOP_RIGHT)) || (s == 1 && is_link_marker(LINK_MARKER_TOP)) || (s == 2 && is_link_marker(LINK_MARKER_TOP_LEFT))) {
      |               ^
src\puzzlepro_core/./card.cc:1518:68: note: +1
 1518 |   if ((s == 0 && is_link_marker(LINK_MARKER_TOP_RIGHT)) || (s == 1 && is_link_marker(LINK_MARKER_TOP)) || (s == 2 && is_link_marker(LINK_MARKER_TOP_LEFT))) {
      |                                                                    ^
src\puzzlepro_core/./card.cc:1518:115: note: +1
 1518 |   if ((s == 0 && is_link_marker(LINK_MARKER_TOP_RIGHT)) || (s == 1 && is_link_marker(LINK_MARKER_TOP)) || (s == 2 && is_link_marker(LINK_MARKER_TOP_LEFT))) {
      |                                                                                                                   ^
src\puzzlepro_core/./card.cc:1521:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1521 |   if ((s == 2 && is_link_marker(LINK_MARKER_TOP_RIGHT)) || (s == 3 && is_link_marker(LINK_MARKER_TOP)) || (s == 4 && is_link_marker(LINK_MARKER_TOP_LEFT))) {
      |   ^
src\puzzlepro_core/./card.cc:1521:104: note: +1
 1521 |   if ((s == 2 && is_link_marker(LINK_MARKER_TOP_RIGHT)) || (s == 3 && is_link_marker(LINK_MARKER_TOP)) || (s == 4 && is_link_marker(LINK_MARKER_TOP_LEFT))) {
      |                                                                                                        ^
src\puzzlepro_core/./card.cc:1521:15: note: +1
 1521 |   if ((s == 2 && is_link_marker(LINK_MARKER_TOP_RIGHT)) || (s == 3 && is_link_marker(LINK_MARKER_TOP)) || (s == 4 && is_link_marker(LINK_MARKER_TOP_LEFT))) {
      |               ^
src\puzzlepro_core/./card.cc:1521:68: note: +1
 1521 |   if ((s == 2 && is_link_marker(LINK_MARKER_TOP_RIGHT)) || (s == 3 && is_link_marker(LINK_MARKER_TOP)) || (s == 4 && is_link_marker(LINK_MARKER_TOP_LEFT))) {
      |                                                                    ^
src\puzzlepro_core/./card.cc:1521:115: note: +1
 1521 |   if ((s == 2 && is_link_marker(LINK_MARKER_TOP_RIGHT)) || (s == 3 && is_link_marker(LINK_MARKER_TOP)) || (s == 4 && is_link_marker(LINK_MARKER_TOP_LEFT))) {
      |                                                                                                                   ^
src\puzzlepro_core/./card.cc:1524:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1524 |   if (s == 5) {
      |   ^
src\puzzlepro_core/./card.cc:1525:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1525 |     if (is_link_marker(LINK_MARKER_BOTTOM_LEFT)) {
      |     ^
src\puzzlepro_core/./card.cc:1528:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1528 |     if (is_link_marker(LINK_MARKER_BOTTOM)) {
      |     ^
src\puzzlepro_core/./card.cc:1531:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1531 |     if (is_link_marker(LINK_MARKER_BOTTOM_RIGHT)) {
      |     ^
src\puzzlepro_core/./card.cc:1534:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1534 |     if (is_link_marker(LINK_MARKER_TOP_LEFT)) {
      |     ^
src\puzzlepro_core/./card.cc:1537:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1537 |     if (is_link_marker(LINK_MARKER_TOP)) {
      |     ^
src\puzzlepro_core/./card.cc:1540:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1540 |     if (is_link_marker(LINK_MARKER_TOP_RIGHT)) {
      |     ^
src\puzzlepro_core/./card.cc:1544:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1544 |   if (s == 6) {
      |   ^
src\puzzlepro_core/./card.cc:1545:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1545 |     if (is_link_marker(LINK_MARKER_BOTTOM_LEFT)) {
      |     ^
src\puzzlepro_core/./card.cc:1548:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1548 |     if (is_link_marker(LINK_MARKER_BOTTOM)) {
      |     ^
src\puzzlepro_core/./card.cc:1551:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1551 |     if (is_link_marker(LINK_MARKER_BOTTOM_RIGHT)) {
      |     ^
src\puzzlepro_core/./card.cc:1554:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1554 |     if (is_link_marker(LINK_MARKER_TOP_LEFT)) {
      |     ^
src\puzzlepro_core/./card.cc:1557:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1557 |     if (is_link_marker(LINK_MARKER_TOP)) {
      |     ^
src\puzzlepro_core/./card.cc:1560:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1560 |     if (is_link_marker(LINK_MARKER_TOP_RIGHT)) {
      |     ^
src\puzzlepro_core/./card.cc:1705:16: warning: function 'get_column_zone' has cognitive complexity of 30 (threshold 25) [readability-function-cognitive-complexity]
 1705 | uint32_t card::get_column_zone(int32_t location) {
      |                ^
src\puzzlepro_core/./card.cc:1708:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1708 |   if (!(location & LOCATION_ONFIELD) || !(current.location & LOCATION_ONFIELD) || current.location == LOCATION_SZONE && seq >= 5) {
      |   ^
src\puzzlepro_core/./card.cc:1708:80: note: +1
 1708 |   if (!(location & LOCATION_ONFIELD) || !(current.location & LOCATION_ONFIELD) || current.location == LOCATION_SZONE && seq >= 5) {
      |                                                                                ^
src\puzzlepro_core/./card.cc:1708:118: note: +1
 1708 |   if (!(location & LOCATION_ONFIELD) || !(current.location & LOCATION_ONFIELD) || current.location == LOCATION_SZONE && seq >= 5) {
      |                                                                                                                      ^
src\puzzlepro_core/./card.cc:1711:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1711 |   if (seq <= 4) {
      |   ^
src\puzzlepro_core/./card.cc:1712:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1712 |     if (location & LOCATION_MZONE) {
      |     ^
src\puzzlepro_core/./card.cc:1713:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 1713 |       if (!(current.location & LOCATION_MZONE)) {
      |       ^
src\puzzlepro_core/./card.cc:1717:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 1717 |       if (seq == 1) {
      |       ^
src\puzzlepro_core/./card.cc:1720:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 1720 |       if (seq == 3) {
      |       ^
src\puzzlepro_core/./card.cc:1724:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1724 |     if (location & LOCATION_SZONE) {
      |     ^
src\puzzlepro_core/./card.cc:1725:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 1725 |       if (!(current.location & LOCATION_SZONE)) {
      |       ^
src\puzzlepro_core/./card.cc:1731:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1731 |   if (seq == 5) {
      |   ^
src\puzzlepro_core/./card.cc:1732:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1732 |     if (location & LOCATION_MZONE) {
      |     ^
src\puzzlepro_core/./card.cc:1735:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1735 |     if (location & LOCATION_SZONE) {
      |     ^
src\puzzlepro_core/./card.cc:1739:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1739 |   if (seq == 6) {
      |   ^
src\puzzlepro_core/./card.cc:1740:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1740 |     if (location & LOCATION_MZONE) {
      |     ^
src\puzzlepro_core/./card.cc:1743:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1743 |     if (location & LOCATION_SZONE) {
      |     ^
src\puzzlepro_core/./card.cc:1860:12: warning: function 'xyz_overlay' has cognitive complexity of 63 (threshold 25) [readability-function-cognitive-complexity]
 1860 | void card::xyz_overlay(const card_set &materials) {
      |            ^
src\puzzlepro_core/./card.cc:1861:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1861 |   if (materials.empty()) {
      |   ^
src\puzzlepro_core/./card.cc:1867:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1867 |   if (pduel->game_field->core.global_flag & GLOBALFLAG_DECK_REVERSE_CHECK) {
      |   ^
src\puzzlepro_core/./card.cc:1870:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1870 |     for (auto &pcard : cv) {
      |     ^
src\puzzlepro_core/./card.cc:1871:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 1871 |       if (pcard->current.location != LOCATION_DECK) {
      |       ^
src\puzzlepro_core/./card.cc:1874:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 1874 |       if ((pcard->current.controler == 0) && (pcard->current.sequence == s0)) {
      |       ^
src\puzzlepro_core/./card.cc:1874:43: note: +1
 1874 |       if ((pcard->current.controler == 0) && (pcard->current.sequence == s0)) {
      |                                           ^
src\puzzlepro_core/./card.cc:1877:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 1877 |       if ((pcard->current.controler == 1) && (pcard->current.sequence == s1)) {
      |       ^
src\puzzlepro_core/./card.cc:1877:43: note: +1
 1877 |       if ((pcard->current.controler == 1) && (pcard->current.sequence == s1)) {
      |                                           ^
src\puzzlepro_core/./card.cc:1881:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1881 |     if ((s0 != d0) && (s0 > 0)) {
      |     ^
src\puzzlepro_core/./card.cc:1881:20: note: +1
 1881 |     if ((s0 != d0) && (s0 > 0)) {
      |                    ^
src\puzzlepro_core/./card.cc:1883:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 1883 |       if (pduel->game_field->core.deck_reversed || (ptop->current.position == POS_FACEUP_DEFENSE)) {
      |       ^
src\puzzlepro_core/./card.cc:1883:49: note: +1
 1883 |       if (pduel->game_field->core.deck_reversed || (ptop->current.position == POS_FACEUP_DEFENSE)) {
      |                                                 ^
src\puzzlepro_core/./card.cc:1887:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 1887 |         if (ptop->current.position != POS_FACEUP_DEFENSE) {
      |         ^
src\puzzlepro_core/./card.cc:1890:9: note: +1, nesting level increased to 4
 1890 |         else {
      |         ^
src\puzzlepro_core/./card.cc:1895:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1895 |     if ((s1 != d1) && (s1 > 0)) {
      |     ^
src\puzzlepro_core/./card.cc:1895:20: note: +1
 1895 |     if ((s1 != d1) && (s1 > 0)) {
      |                    ^
src\puzzlepro_core/./card.cc:1897:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 1897 |       if (pduel->game_field->core.deck_reversed || (ptop->current.position == POS_FACEUP_DEFENSE)) {
      |       ^
src\puzzlepro_core/./card.cc:1897:49: note: +1
 1897 |       if (pduel->game_field->core.deck_reversed || (ptop->current.position == POS_FACEUP_DEFENSE)) {
      |                                                 ^
src\puzzlepro_core/./card.cc:1901:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 1901 |         if (ptop->current.position != POS_FACEUP_DEFENSE) {
      |         ^
src\puzzlepro_core/./card.cc:1904:9: note: +1, nesting level increased to 4
 1904 |         else {
      |         ^
src\puzzlepro_core/./card.cc:1910:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1910 |   for (auto &pcard : cv) {
      |   ^
src\puzzlepro_core/./card.cc:1911:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1911 |     if (pcard->overlay_target == this) {
      |     ^
src\puzzlepro_core/./card.cc:1916:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1916 |     if (pcard->unique_code) {
      |     ^
src\puzzlepro_core/./card.cc:1919:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1919 |     if (pcard->equiping_target) {
      |     ^
src\puzzlepro_core/./card.cc:1923:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1923 |     for (auto cit = pcard->equiping_cards.begin(); cit != pcard->equiping_cards.end();) {
      |     ^
src\puzzlepro_core/./card.cc:1931:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1931 |     if (pcard->overlay_target) {
      |     ^
src\puzzlepro_core/./card.cc:1934:5: note: +1, nesting level increased to 2
 1934 |     else {
      |     ^
src\puzzlepro_core/./card.cc:1940:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1940 |     if (pcard->previous.location == LOCATION_GRAVE) {
      |     ^
src\puzzlepro_core/./card.cc:1944:10: note: +1, nesting level increased to 2
 1944 |     else if (pcard->previous.location == LOCATION_DECK || pcard->previous.location == LOCATION_EXTRA) {
      |          ^
src\puzzlepro_core/./card.cc:1944:56: note: +1
 1944 |     else if (pcard->previous.location == LOCATION_DECK || pcard->previous.location == LOCATION_EXTRA) {
      |                                                        ^
src\puzzlepro_core/./card.cc:1951:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1951 |   if (leave_grave.size() || leave_deck.size()) {
      |   ^
src\puzzlepro_core/./card.cc:1951:26: note: +1
 1951 |   if (leave_grave.size() || leave_deck.size()) {
      |                          ^
src\puzzlepro_core/./card.cc:1952:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1952 |     if (leave_grave.size()) {
      |     ^
src\puzzlepro_core/./card.cc:1955:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1955 |     if (leave_deck.size()) {
      |     ^
src\puzzlepro_core/./card.cc:1961:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1961 |   if (des.size()) {
      |   ^
src\puzzlepro_core/./card.cc:1964:3: note: +1, nesting level increased to 1
 1964 |   else {
      |   ^
src\puzzlepro_core/./card.cc:2043:12: warning: function 'enable_field_effect' has cognitive complexity of 31 (threshold 25) [readability-function-cognitive-complexity]
 2043 | void card::enable_field_effect(bool enabled) {
      |            ^
src\puzzlepro_core/./card.cc:2044:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2044 |   if (current.location == 0) {
      |   ^
src\puzzlepro_core/./card.cc:2047:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2047 |   if ((enabled && get_status(STATUS_EFFECT_ENABLED)) || (!enabled && !get_status(STATUS_EFFECT_ENABLED))) {
      |   ^
src\puzzlepro_core/./card.cc:2047:54: note: +1
 2047 |   if ((enabled && get_status(STATUS_EFFECT_ENABLED)) || (!enabled && !get_status(STATUS_EFFECT_ENABLED))) {
      |                                                      ^
src\puzzlepro_core/./card.cc:2047:16: note: +1
 2047 |   if ((enabled && get_status(STATUS_EFFECT_ENABLED)) || (!enabled && !get_status(STATUS_EFFECT_ENABLED))) {
      |                ^
src\puzzlepro_core/./card.cc:2047:67: note: +1
 2047 |   if ((enabled && get_status(STATUS_EFFECT_ENABLED)) || (!enabled && !get_status(STATUS_EFFECT_ENABLED))) {
      |                                                                   ^
src\puzzlepro_core/./card.cc:2051:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2051 |   if (enabled) {
      |   ^
src\puzzlepro_core/./card.cc:2053:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2053 |     for (auto &it : single_effect) {
      |     ^
src\puzzlepro_core/./card.cc:2054:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2054 |       if (it.second->is_flag(EFFECT_FLAG_SINGLE_RANGE) && it.second->in_range(this)) {
      |       ^
src\puzzlepro_core/./card.cc:2054:56: note: +1
 2054 |       if (it.second->is_flag(EFFECT_FLAG_SINGLE_RANGE) && it.second->in_range(this)) {
      |                                                        ^
src\puzzlepro_core/./card.cc:2058:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2058 |     for (auto &it : field_effect) {
      |     ^
src\puzzlepro_core/./card.cc:2059:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2059 |       if (it.second->in_range(this)) {
      |       ^
src\puzzlepro_core/./card.cc:2063:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2063 |     if (current.location == LOCATION_SZONE) {
      |     ^
src\puzzlepro_core/./card.cc:2064:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2064 |       for (auto &it : equip_effect) {
      |       ^
src\puzzlepro_core/./card.cc:2068:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2068 |     for (auto &it : target_effect) {
      |     ^
src\puzzlepro_core/./card.cc:2069:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2069 |       if (it.second->in_range(this)) {
      |       ^
src\puzzlepro_core/./card.cc:2073:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2073 |     if (get_status(STATUS_DISABLED)) {
      |     ^
src\puzzlepro_core/./card.cc:2077:3: note: +1, nesting level increased to 1
 2077 |   else {
      |   ^
src\puzzlepro_core/./card.cc:2080:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2080 |   if (get_status(STATUS_DISABLED | STATUS_FORBIDDEN)) {
      |   ^
src\puzzlepro_core/./card.cc:2086:15: warning: function 'add_effect' has cognitive complexity of 146 (threshold 25) [readability-function-cognitive-complexity]
 2086 | int32_t card::add_effect(effect *peffect) {
      |               ^
src\puzzlepro_core/./card.cc:2087:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2087 |   if (!peffect) {
      |   ^
src\puzzlepro_core/./card.cc:2090:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2090 |   if (get_status(STATUS_COPYING_EFFECT) && peffect->is_flag(EFFECT_FLAG_UNCOPYABLE)) {
      |   ^
src\puzzlepro_core/./card.cc:2090:41: note: +1
 2090 |   if (get_status(STATUS_COPYING_EFFECT) && peffect->is_flag(EFFECT_FLAG_UNCOPYABLE)) {
      |                                         ^
src\puzzlepro_core/./card.cc:2094:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2094 |   if (indexer.find(peffect) != indexer.end()) {
      |   ^
src\puzzlepro_core/./card.cc:2097:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2097 |   if (peffect->type & EFFECT_TYPE_SINGLE && !peffect->is_flag(EFFECT_FLAG_SINGLE_RANGE) && peffect->owner == this && get_status(STATUS_DISABLED) && (peffect->reset_flag & RESET_DISABLE)) {
      |   ^
src\puzzlepro_core/./card.cc:2097:146: note: +1
 2097 |   if (peffect->type & EFFECT_TYPE_SINGLE && !peffect->is_flag(EFFECT_FLAG_SINGLE_RANGE) && peffect->owner == this && get_status(STATUS_DISABLED) && (peffect->reset_flag & RESET_DISABLE)) {
      |                                                                                                                                                  ^
src\puzzlepro_core/./card.cc:2100:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2100 |   if (peffect->type & EFFECT_TYPES_TRIGGER_LIKE && is_continuous_event(peffect->code)) {
      |   ^
src\puzzlepro_core/./card.cc:2100:49: note: +1
 2100 |   if (peffect->type & EFFECT_TYPES_TRIGGER_LIKE && is_continuous_event(peffect->code)) {
      |                                                 ^
src\puzzlepro_core/./card.cc:2104:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2104 |   if (peffect->get_code_type() == CODE_PHASE && peffect->code & (PHASE_DRAW | PHASE_STANDBY | PHASE_END) && peffect->type & (EFFECT_TYPE_TRIGGER_O | EFFECT_TYPE_TRIGGER_F) && !peffect->is_flag(EFFECT_FLAG_COUNT_LIMIT)) {
      |   ^
src\puzzlepro_core/./card.cc:2104:173: note: +1
 2104 |   if (peffect->get_code_type() == CODE_PHASE && peffect->code & (PHASE_DRAW | PHASE_STANDBY | PHASE_END) && peffect->type & (EFFECT_TYPE_TRIGGER_O | EFFECT_TYPE_TRIGGER_F) && !peffect->is_flag(EFFECT_FLAG_COUNT_LIMIT)) {
      |                                                                                                                                                                             ^
src\puzzlepro_core/./card.cc:2110:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2110 |   if (peffect->code == EFFECT_CANNOT_TRIGGER) {
      |   ^
src\puzzlepro_core/./card.cc:2115:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2115 |   if (peffect->type & EFFECT_TYPE_SINGLE) {
      |   ^
src\puzzlepro_core/./card.cc:2117:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2117 |     if (peffect->code == EFFECT_SET_ATTACK && !peffect->is_flag(EFFECT_FLAG_SINGLE_RANGE)) {
      |     ^
src\puzzlepro_core/./card.cc:2117:44: note: +1
 2117 |     if (peffect->code == EFFECT_SET_ATTACK && !peffect->is_flag(EFFECT_FLAG_SINGLE_RANGE)) {
      |                                            ^
src\puzzlepro_core/./card.cc:2118:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2118 |       for (auto it = single_effect.begin(); it != single_effect.end();) {
      |       ^
src\puzzlepro_core/./card.cc:2120:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 2120 |         if (rm->second->code == EFFECT_SET_ATTACK && !rm->second->is_flag(EFFECT_FLAG_SINGLE_RANGE)) {
      |         ^
src\puzzlepro_core/./card.cc:2120:51: note: +1
 2120 |         if (rm->second->code == EFFECT_SET_ATTACK && !rm->second->is_flag(EFFECT_FLAG_SINGLE_RANGE)) {
      |                                                   ^
src\puzzlepro_core/./card.cc:2125:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2125 |     if (peffect->code == EFFECT_SET_ATTACK_FINAL && !peffect->is_flag(EFFECT_FLAG_SINGLE_RANGE)) {
      |     ^
src\puzzlepro_core/./card.cc:2125:50: note: +1
 2125 |     if (peffect->code == EFFECT_SET_ATTACK_FINAL && !peffect->is_flag(EFFECT_FLAG_SINGLE_RANGE)) {
      |                                                  ^
src\puzzlepro_core/./card.cc:2126:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2126 |       for (auto it = single_effect.begin(); it != single_effect.end();) {
      |       ^
src\puzzlepro_core/./card.cc:2129:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 2129 |         if ((code == EFFECT_UPDATE_ATTACK || code == EFFECT_SET_ATTACK || code == EFFECT_SET_ATTACK_FINAL) && !rm->second->is_flag(EFFECT_FLAG_SINGLE_RANGE)) {
      |         ^
src\puzzlepro_core/./card.cc:2129:108: note: +1
 2129 |         if ((code == EFFECT_UPDATE_ATTACK || code == EFFECT_SET_ATTACK || code == EFFECT_SET_ATTACK_FINAL) && !rm->second->is_flag(EFFECT_FLAG_SINGLE_RANGE)) {
      |                                                                                                            ^
src\puzzlepro_core/./card.cc:2129:72: note: +1
 2129 |         if ((code == EFFECT_UPDATE_ATTACK || code == EFFECT_SET_ATTACK || code == EFFECT_SET_ATTACK_FINAL) && !rm->second->is_flag(EFFECT_FLAG_SINGLE_RANGE)) {
      |                                                                        ^
src\puzzlepro_core/./card.cc:2134:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2134 |     if (peffect->code == EFFECT_SET_DEFENSE && !peffect->is_flag(EFFECT_FLAG_SINGLE_RANGE)) {
      |     ^
src\puzzlepro_core/./card.cc:2134:45: note: +1
 2134 |     if (peffect->code == EFFECT_SET_DEFENSE && !peffect->is_flag(EFFECT_FLAG_SINGLE_RANGE)) {
      |                                             ^
src\puzzlepro_core/./card.cc:2135:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2135 |       for (auto it = single_effect.begin(); it != single_effect.end();) {
      |       ^
src\puzzlepro_core/./card.cc:2137:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 2137 |         if (rm->second->code == EFFECT_SET_DEFENSE && !rm->second->is_flag(EFFECT_FLAG_SINGLE_RANGE)) {
      |         ^
src\puzzlepro_core/./card.cc:2137:52: note: +1
 2137 |         if (rm->second->code == EFFECT_SET_DEFENSE && !rm->second->is_flag(EFFECT_FLAG_SINGLE_RANGE)) {
      |                                                    ^
src\puzzlepro_core/./card.cc:2142:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2142 |     if (peffect->code == EFFECT_SET_DEFENSE_FINAL && !peffect->is_flag(EFFECT_FLAG_SINGLE_RANGE)) {
      |     ^
src\puzzlepro_core/./card.cc:2142:51: note: +1
 2142 |     if (peffect->code == EFFECT_SET_DEFENSE_FINAL && !peffect->is_flag(EFFECT_FLAG_SINGLE_RANGE)) {
      |                                                   ^
src\puzzlepro_core/./card.cc:2143:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2143 |       for (auto it = single_effect.begin(); it != single_effect.end();) {
      |       ^
src\puzzlepro_core/./card.cc:2146:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 2146 |         if ((code == EFFECT_UPDATE_DEFENSE || code == EFFECT_SET_DEFENSE || code == EFFECT_SET_DEFENSE_FINAL) && !rm->second->is_flag(EFFECT_FLAG_SINGLE_RANGE)) {
      |         ^
src\puzzlepro_core/./card.cc:2146:111: note: +1
 2146 |         if ((code == EFFECT_UPDATE_DEFENSE || code == EFFECT_SET_DEFENSE || code == EFFECT_SET_DEFENSE_FINAL) && !rm->second->is_flag(EFFECT_FLAG_SINGLE_RANGE)) {
      |                                                                                                               ^
src\puzzlepro_core/./card.cc:2146:74: note: +1
 2146 |         if ((code == EFFECT_UPDATE_DEFENSE || code == EFFECT_SET_DEFENSE || code == EFFECT_SET_DEFENSE_FINAL) && !rm->second->is_flag(EFFECT_FLAG_SINGLE_RANGE)) {
      |                                                                          ^
src\puzzlepro_core/./card.cc:2152:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2152 |     if (peffect->code == EFFECT_SET_BASE_ATTACK && !peffect->is_flag(EFFECT_FLAG_SINGLE_RANGE)) {
      |     ^
src\puzzlepro_core/./card.cc:2152:49: note: +1
 2152 |     if (peffect->code == EFFECT_SET_BASE_ATTACK && !peffect->is_flag(EFFECT_FLAG_SINGLE_RANGE)) {
      |                                                 ^
src\puzzlepro_core/./card.cc:2153:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2153 |       for (auto it = single_effect.begin(); it != single_effect.end();) {
      |       ^
src\puzzlepro_core/./card.cc:2155:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 2155 |         if (rm->second->code == EFFECT_SET_BASE_ATTACK && !rm->second->is_flag(EFFECT_FLAG_SINGLE_RANGE)) {
      |         ^
src\puzzlepro_core/./card.cc:2155:56: note: +1
 2155 |         if (rm->second->code == EFFECT_SET_BASE_ATTACK && !rm->second->is_flag(EFFECT_FLAG_SINGLE_RANGE)) {
      |                                                        ^
src\puzzlepro_core/./card.cc:2160:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2160 |     if (peffect->code == EFFECT_SET_BASE_ATTACK_FINAL && !peffect->is_flag(EFFECT_FLAG_SINGLE_RANGE)) {
      |     ^
src\puzzlepro_core/./card.cc:2160:55: note: +1
 2160 |     if (peffect->code == EFFECT_SET_BASE_ATTACK_FINAL && !peffect->is_flag(EFFECT_FLAG_SINGLE_RANGE)) {
      |                                                       ^
src\puzzlepro_core/./card.cc:2161:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2161 |       for (auto it = single_effect.begin(); it != single_effect.end();) {
      |       ^
src\puzzlepro_core/./card.cc:2164:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 2164 |         if ((code == EFFECT_SET_BASE_ATTACK || code == EFFECT_SET_BASE_ATTACK_FINAL || code == EFFECT_SET_ATTACK || code == EFFECT_SET_ATTACK_FINAL) && !rm->second->is_flag(EFFECT_FLAG_SINGLE_RANGE)) {
      |         ^
src\puzzlepro_core/./card.cc:2164:150: note: +1
 2164 |         if ((code == EFFECT_SET_BASE_ATTACK || code == EFFECT_SET_BASE_ATTACK_FINAL || code == EFFECT_SET_ATTACK || code == EFFECT_SET_ATTACK_FINAL) && !rm->second->is_flag(EFFECT_FLAG_SINGLE_RANGE)) {
      |                                                                                                                                                      ^
src\puzzlepro_core/./card.cc:2164:114: note: +1
 2164 |         if ((code == EFFECT_SET_BASE_ATTACK || code == EFFECT_SET_BASE_ATTACK_FINAL || code == EFFECT_SET_ATTACK || code == EFFECT_SET_ATTACK_FINAL) && !rm->second->is_flag(EFFECT_FLAG_SINGLE_RANGE)) {
      |                                                                                                                  ^
src\puzzlepro_core/./card.cc:2169:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2169 |     if (peffect->code == EFFECT_SET_BASE_DEFENSE && !peffect->is_flag(EFFECT_FLAG_SINGLE_RANGE)) {
      |     ^
src\puzzlepro_core/./card.cc:2169:50: note: +1
 2169 |     if (peffect->code == EFFECT_SET_BASE_DEFENSE && !peffect->is_flag(EFFECT_FLAG_SINGLE_RANGE)) {
      |                                                  ^
src\puzzlepro_core/./card.cc:2170:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2170 |       for (auto it = single_effect.begin(); it != single_effect.end();) {
      |       ^
src\puzzlepro_core/./card.cc:2172:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 2172 |         if (rm->second->code == EFFECT_SET_BASE_DEFENSE && !rm->second->is_flag(EFFECT_FLAG_SINGLE_RANGE)) {
      |         ^
src\puzzlepro_core/./card.cc:2172:57: note: +1
 2172 |         if (rm->second->code == EFFECT_SET_BASE_DEFENSE && !rm->second->is_flag(EFFECT_FLAG_SINGLE_RANGE)) {
      |                                                         ^
src\puzzlepro_core/./card.cc:2177:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2177 |     if (peffect->code == EFFECT_SET_BASE_DEFENSE_FINAL && !peffect->is_flag(EFFECT_FLAG_SINGLE_RANGE)) {
      |     ^
src\puzzlepro_core/./card.cc:2177:56: note: +1
 2177 |     if (peffect->code == EFFECT_SET_BASE_DEFENSE_FINAL && !peffect->is_flag(EFFECT_FLAG_SINGLE_RANGE)) {
      |                                                        ^
src\puzzlepro_core/./card.cc:2178:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2178 |       for (auto it = single_effect.begin(); it != single_effect.end();) {
      |       ^
src\puzzlepro_core/./card.cc:2181:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 2181 |         if ((code == EFFECT_SET_BASE_DEFENSE || code == EFFECT_SET_BASE_DEFENSE_FINAL || code == EFFECT_SET_DEFENSE || code == EFFECT_SET_DEFENSE_FINAL) && !rm->second->is_flag(EFFECT_FLAG_SINGLE_RANGE)) {
      |         ^
src\puzzlepro_core/./card.cc:2181:154: note: +1
 2181 |         if ((code == EFFECT_SET_BASE_DEFENSE || code == EFFECT_SET_BASE_DEFENSE_FINAL || code == EFFECT_SET_DEFENSE || code == EFFECT_SET_DEFENSE_FINAL) && !rm->second->is_flag(EFFECT_FLAG_SINGLE_RANGE)) {
      |                                                                                                                                                          ^
src\puzzlepro_core/./card.cc:2181:117: note: +1
 2181 |         if ((code == EFFECT_SET_BASE_DEFENSE || code == EFFECT_SET_BASE_DEFENSE_FINAL || code == EFFECT_SET_DEFENSE || code == EFFECT_SET_DEFENSE_FINAL) && !rm->second->is_flag(EFFECT_FLAG_SINGLE_RANGE)) {
      |                                                                                                                     ^
src\puzzlepro_core/./card.cc:2188:8: note: +1, nesting level increased to 1
 2188 |   else if (peffect->type & EFFECT_TYPE_EQUIP) {
      |        ^
src\puzzlepro_core/./card.cc:2190:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2190 |     if (equiping_target) {
      |     ^
src\puzzlepro_core/./card.cc:2193:5: note: +1, nesting level increased to 2
 2193 |     else {
      |     ^
src\puzzlepro_core/./card.cc:2197:8: note: +1, nesting level increased to 1
 2197 |   else if (peffect->type & EFFECT_TYPE_TARGET) {
      |        ^
src\puzzlepro_core/./card.cc:2199:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2199 |     if (!effect_target_cards.empty()) {
      |     ^
src\puzzlepro_core/./card.cc:2202:5: note: +1, nesting level increased to 2
 2202 |     else {
      |     ^
src\puzzlepro_core/./card.cc:2206:8: note: +1, nesting level increased to 1
 2206 |   else if (peffect->type & EFFECT_TYPE_XMATERIAL) {
      |        ^
src\puzzlepro_core/./card.cc:2208:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2208 |     if (overlay_target) {
      |     ^
src\puzzlepro_core/./card.cc:2211:5: note: +1, nesting level increased to 2
 2211 |     else {
      |     ^
src\puzzlepro_core/./card.cc:2215:8: note: +1, nesting level increased to 1
 2215 |   else if (peffect->type & EFFECT_TYPE_FIELD) {
      |        ^
src\puzzlepro_core/./card.cc:2218:3: note: +1, nesting level increased to 1
 2218 |   else {
      |   ^
src\puzzlepro_core/./card.cc:2223:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2223 |   if (get_status(STATUS_INITIALIZING)) {
      |   ^
src\puzzlepro_core/./card.cc:2226:8: note: +1, nesting level increased to 1
 2226 |   else if (get_status(STATUS_COPYING_EFFECT)) {
      |        ^
src\puzzlepro_core/./card.cc:2229:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2229 |   if (get_status(STATUS_COPYING_EFFECT)) {
      |   ^
src\puzzlepro_core/./card.cc:2237:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2237 |   if (peffect->is_flag(EFFECT_FLAG_INITIAL)) {
      |   ^
src\puzzlepro_core/./card.cc:2240:8: note: +1, nesting level increased to 1
 2240 |   else if (peffect->is_flag(EFFECT_FLAG_COPY)) {
      |        ^
src\puzzlepro_core/./card.cc:2243:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2243 |   if ((peffect->type & EFFECT_TYPE_FIELD)) {
      |   ^
src\puzzlepro_core/./card.cc:2244:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2244 |     if (peffect->in_range(this) || current.controler != PLAYER_NONE && peffect->is_hand_trigger()) {
      |     ^
src\puzzlepro_core/./card.cc:2244:33: note: +1
 2244 |     if (peffect->in_range(this) || current.controler != PLAYER_NONE && peffect->is_hand_trigger()) {
      |                                 ^
src\puzzlepro_core/./card.cc:2244:69: note: +1
 2244 |     if (peffect->in_range(this) || current.controler != PLAYER_NONE && peffect->is_hand_trigger()) {
      |                                                                     ^
src\puzzlepro_core/./card.cc:2248:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2248 |   if (current.controler != PLAYER_NONE && !check_target.empty()) {
      |   ^
src\puzzlepro_core/./card.cc:2248:40: note: +1
 2248 |   if (current.controler != PLAYER_NONE && !check_target.empty()) {
      |                                        ^
src\puzzlepro_core/./card.cc:2249:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2249 |     if (peffect->is_disable_related()) {
      |     ^
src\puzzlepro_core/./card.cc:2250:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2250 |       for (auto &target : check_target) {
      |       ^
src\puzzlepro_core/./card.cc:2255:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2255 |   if (peffect->is_flag(EFFECT_FLAG_OATH)) {
      |   ^
src\puzzlepro_core/./card.cc:2258:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2258 |   if (peffect->reset_flag & RESET_PHASE) {
      |   ^
src\puzzlepro_core/./card.cc:2260:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2260 |     if (peffect->reset_count == 0) {
      |     ^
src\puzzlepro_core/./card.cc:2264:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2264 |   if (peffect->reset_flag & RESET_CHAIN) {
      |   ^
src\puzzlepro_core/./card.cc:2267:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2267 |   if (peffect->is_flag(EFFECT_FLAG_COUNT_LIMIT)) {
      |   ^
src\puzzlepro_core/./card.cc:2270:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2270 |   if (peffect->is_flag(EFFECT_FLAG_CLIENT_HINT)) {
      |   ^
src\puzzlepro_core/./card.cc:2276:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2276 |   if (peffect->type & EFFECT_TYPE_SINGLE && peffect->code == EFFECT_UPDATE_LEVEL && !peffect->is_flag(EFFECT_FLAG_SINGLE_RANGE)) {
      |   ^
src\puzzlepro_core/./card.cc:2276:82: note: +1
 2276 |   if (peffect->type & EFFECT_TYPE_SINGLE && peffect->code == EFFECT_UPDATE_LEVEL && !peffect->is_flag(EFFECT_FLAG_SINGLE_RANGE)) {
      |                                                                                  ^
src\puzzlepro_core/./card.cc:2278:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2278 |     if (val > 0) {
      |     ^
src\puzzlepro_core/./card.cc:2286:32: warning: function 'remove_effect' has cognitive complexity of 37 (threshold 25) [readability-function-cognitive-complexity]
 2286 | effect_indexer::iterator card::remove_effect(effect *peffect) {
      |                                ^
src\puzzlepro_core/./card.cc:2288:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2288 |   if (index == indexer.end()) {
      |   ^
src\puzzlepro_core/./card.cc:2293:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2293 |   if (peffect->type & EFFECT_TYPE_SINGLE) {
      |   ^
src\puzzlepro_core/./card.cc:2296:8: note: +1, nesting level increased to 1
 2296 |   else if (peffect->type & EFFECT_TYPE_EQUIP) {
      |        ^
src\puzzlepro_core/./card.cc:2298:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2298 |     if (equiping_target) {
      |     ^
src\puzzlepro_core/./card.cc:2301:5: note: +1, nesting level increased to 2
 2301 |     else {
      |     ^
src\puzzlepro_core/./card.cc:2305:8: note: +1, nesting level increased to 1
 2305 |   else if (peffect->type & EFFECT_TYPE_TARGET) {
      |        ^
src\puzzlepro_core/./card.cc:2307:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2307 |     if (!effect_target_cards.empty()) {
      |     ^
src\puzzlepro_core/./card.cc:2310:5: note: +1, nesting level increased to 2
 2310 |     else {
      |     ^
src\puzzlepro_core/./card.cc:2314:8: note: +1, nesting level increased to 1
 2314 |   else if (peffect->type & EFFECT_TYPE_XMATERIAL) {
      |        ^
src\puzzlepro_core/./card.cc:2316:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2316 |     if (overlay_target) {
      |     ^
src\puzzlepro_core/./card.cc:2319:5: note: +1, nesting level increased to 2
 2319 |     else {
      |     ^
src\puzzlepro_core/./card.cc:2323:8: note: +1, nesting level increased to 1
 2323 |   else if (peffect->type & EFFECT_TYPE_FIELD) {
      |        ^
src\puzzlepro_core/./card.cc:2325:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2325 |     if (peffect->is_available() && peffect->is_disable_related()) {
      |     ^
src\puzzlepro_core/./card.cc:2325:33: note: +1
 2325 |     if (peffect->is_available() && peffect->is_disable_related()) {
      |                                 ^
src\puzzlepro_core/./card.cc:2331:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2331 |   if ((current.controler != PLAYER_NONE) && !get_status(STATUS_DISABLED | STATUS_FORBIDDEN) && !check_target.empty()) {
      |   ^
src\puzzlepro_core/./card.cc:2331:93: note: +1
 2331 |   if ((current.controler != PLAYER_NONE) && !get_status(STATUS_DISABLED | STATUS_FORBIDDEN) && !check_target.empty()) {
      |                                                                                             ^
src\puzzlepro_core/./card.cc:2332:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2332 |     if (peffect->is_disable_related()) {
      |     ^
src\puzzlepro_core/./card.cc:2333:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2333 |       for (auto &target : check_target) {
      |       ^
src\puzzlepro_core/./card.cc:2339:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2339 |   if (peffect->is_flag(EFFECT_FLAG_INITIAL)) {
      |   ^
src\puzzlepro_core/./card.cc:2342:8: note: +1, nesting level increased to 1
 2342 |   else if (peffect->is_flag(EFFECT_FLAG_COPY)) {
      |        ^
src\puzzlepro_core/./card.cc:2345:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2345 |   if (peffect->is_flag(EFFECT_FLAG_OATH)) {
      |   ^
src\puzzlepro_core/./card.cc:2348:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2348 |   if (peffect->reset_flag & RESET_PHASE) {
      |   ^
src\puzzlepro_core/./card.cc:2351:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2351 |   if (peffect->reset_flag & RESET_CHAIN) {
      |   ^
src\puzzlepro_core/./card.cc:2354:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2354 |   if (peffect->is_flag(EFFECT_FLAG_COUNT_LIMIT)) {
      |   ^
src\puzzlepro_core/./card.cc:2357:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2357 |   if (peffect->get_code_type() == CODE_COUNTER && (peffect->code & 0xf0000) == EFFECT_COUNTER_PERMIT && (peffect->type & EFFECT_TYPE_SINGLE)) {
      |   ^
src\puzzlepro_core/./card.cc:2357:102: note: +1
 2357 |   if (peffect->get_code_type() == CODE_COUNTER && (peffect->code & 0xf0000) == EFFECT_COUNTER_PERMIT && (peffect->type & EFFECT_TYPE_SINGLE)) {
      |                                                                                                      ^
src\puzzlepro_core/./card.cc:2359:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2359 |     if (cmit != counters.end()) {
      |     ^
src\puzzlepro_core/./card.cc:2369:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2369 |   if (peffect->is_flag(EFFECT_FLAG_CLIENT_HINT)) {
      |   ^
src\puzzlepro_core/./card.cc:2375:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2375 |   if (peffect->code == EFFECT_UNIQUE_CHECK) {
      |   ^
src\puzzlepro_core/./card.cc:2485:12: warning: function 'reset' has cognitive complexity of 55 (threshold 25) [readability-function-cognitive-complexity]
 2485 | void card::reset(uint32_t id, uint32_t reset_type) {
      |            ^
src\puzzlepro_core/./card.cc:2486:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2486 |   if (reset_type != RESET_EVENT && reset_type != RESET_PHASE && reset_type != RESET_CODE && reset_type != RESET_COPY && reset_type != RESET_CARD) {
      |   ^
src\puzzlepro_core/./card.cc:2486:118: note: +1
 2486 |   if (reset_type != RESET_EVENT && reset_type != RESET_PHASE && reset_type != RESET_CODE && reset_type != RESET_COPY && reset_type != RESET_CARD) {
      |                                                                                                                      ^
src\puzzlepro_core/./card.cc:2489:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2489 |   if (reset_type == RESET_EVENT) {
      |   ^
src\puzzlepro_core/./card.cc:2490:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2490 |     for (auto rit = relations.begin(); rit != relations.end();) {
      |     ^
src\puzzlepro_core/./card.cc:2491:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2491 |       if (rit->second & 0xffff0000 & id) {
      |       ^
src\puzzlepro_core/./card.cc:2494:7: note: +1, nesting level increased to 3
 2494 |       else {
      |       ^
src\puzzlepro_core/./card.cc:2498:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2498 |     if (id & (RESET_TODECK | RESET_TOHAND | RESET_TOGRAVE | RESET_REMOVE | RESET_TEMP_REMOVE | RESET_OVERLAY | RESET_MSCHANGE)) {
      |     ^
src\puzzlepro_core/./card.cc:2501:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2501 |     if (id & (RESET_TODECK | RESET_TOHAND | RESET_TOGRAVE | RESET_REMOVE | RESET_TEMP_REMOVE | RESET_OVERLAY | RESET_MSCHANGE | RESET_LEAVE | RESET_TOFIELD)) {
      |     ^
src\puzzlepro_core/./card.cc:2510:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2510 |     if (id & (RESET_TODECK | RESET_TOHAND | RESET_TOGRAVE | RESET_REMOVE | RESET_TEMP_REMOVE | RESET_OVERLAY | RESET_MSCHANGE | RESET_LEAVE | RESET_TOFIELD | RESET_TURN_SET)) {
      |     ^
src\puzzlepro_core/./card.cc:2514:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2514 |       for (; pr.first != pr.second; ++pr.first) {
      |       ^
src\puzzlepro_core/./card.cc:2515:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 2515 |         if (!pr.first->second->is_flag(EFFECT_FLAG_FUNC_VALUE)) {
      |         ^
src\puzzlepro_core/./card.cc:2520:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2520 |     if (id & (RESET_TODECK | RESET_TOHAND | RESET_TOGRAVE | RESET_REMOVE | RESET_TEMP_REMOVE | RESET_OVERLAY | RESET_MSCHANGE | RESET_TOFIELD | RESET_TURN_SET)) {
      |     ^
src\puzzlepro_core/./card.cc:2523:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2523 |     if (id & (RESET_TODECK | RESET_TOHAND | RESET_TOGRAVE | RESET_REMOVE | RESET_TEMP_REMOVE | RESET_LEAVE | RESET_TOFIELD | RESET_TURN_SET | RESET_CONTROL)) {
      |     ^
src\puzzlepro_core/./card.cc:2525:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2525 |       for (; pr.first != pr.second; ++pr.first) {
      |       ^
src\puzzlepro_core/./card.cc:2529:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2529 |       for (; pr.first != pr.second; ++pr.first) {
      |       ^
src\puzzlepro_core/./card.cc:2533:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2533 |     if (id & RESET_TOFIELD) {
      |     ^
src\puzzlepro_core/./card.cc:2536:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2536 |     if (id & RESET_DISABLE) {
      |     ^
src\puzzlepro_core/./card.cc:2537:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2537 |       for (auto cmit = counters.begin(); cmit != counters.end();) {
      |       ^
src\puzzlepro_core/./card.cc:2538:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 2538 |         if (cmit->first & COUNTER_WITHOUT_PERMIT) {
      |         ^
src\puzzlepro_core/./card.cc:2552:8: note: +1, nesting level increased to 1
 2552 |   else if (reset_type == RESET_COPY) {
      |        ^
src\puzzlepro_core/./card.cc:2557:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2557 |   for (auto it = indexer.begin(); it != indexer.end();) {
      |   ^
src\puzzlepro_core/./card.cc:2559:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2559 |     if (peffect->reset(id, reset_type)) {
      |     ^
src\puzzlepro_core/./card.cc:2560:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2560 |       if (is_status(STATUS_EFFECT_REPLACED) && peffect->is_flag(EFFECT_FLAG_INITIAL) && peffect->copy_id) {
      |       ^
src\puzzlepro_core/./card.cc:2560:86: note: +1
 2560 |       if (is_status(STATUS_EFFECT_REPLACED) && peffect->is_flag(EFFECT_FLAG_INITIAL) && peffect->copy_id) {
      |                                                                                      ^
src\puzzlepro_core/./card.cc:2565:5: note: +1, nesting level increased to 2
 2565 |     else {
      |     ^
src\puzzlepro_core/./card.cc:2569:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2569 |   if (reload) {
      |   ^
src\puzzlepro_core/./card.cc:2571:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2571 |     if (interpreter::is_load_script(data)) {
      |     ^
src\puzzlepro_core/./card.cc:3223:15: warning: function 'filter_summon_procedure' has cognitive complexity of 40 (threshold 25) [readability-function-cognitive-complexity]
 3223 | int32_t card::filter_summon_procedure(uint8_t playerid, effect_set *peset, uint8_t ignore_count, uint8_t min_tribute, uint32_t zone) {
      |               ^
src\puzzlepro_core/./card.cc:3226:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 3226 |   if (eset.size()) {
      |   ^
src\puzzlepro_core/./card.cc:3227:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 3227 |     for (effect_set::size_type i = 0; i < eset.size(); ++i) {
      |     ^
src\puzzlepro_core/./card.cc:3228:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 3228 |       if (check_summon_procedure(eset[i], playerid, ignore_count, min_tribute, zone)) {
      |       ^
src\puzzlepro_core/./card.cc:3232:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 3232 |     if (peset->size()) {
      |     ^
src\puzzlepro_core/./card.cc:3239:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 3239 |   for (effect_set::size_type i = 0; i < eset.size(); ++i) {
      |   ^
src\puzzlepro_core/./card.cc:3240:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 3240 |     if (check_summon_procedure(eset[i], playerid, ignore_count, min_tribute, zone)) {
      |     ^
src\puzzlepro_core/./card.cc:3245:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 3245 |   if (!pduel->game_field->is_player_can_summon(SUMMON_TYPE_NORMAL, playerid, this, playerid)) {
      |   ^
src\puzzlepro_core/./card.cc:3248:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 3248 |   if (pduel->game_field->check_unique_onfield(this, playerid, LOCATION_MZONE)) {
      |   ^
src\puzzlepro_core/./card.cc:3254:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 3254 |   if (!pduel->game_field->is_player_can_summon(SUMMON_TYPE_ADVANCE, playerid, this, playerid)) {
      |   ^
src\puzzlepro_core/./card.cc:3257:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 3257 |   if (min < min_tribute) {
      |   ^
src\puzzlepro_core/./card.cc:3260:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 3260 |   if (max < min) {
      |   ^
src\puzzlepro_core/./card.cc:3263:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 3263 |   if (!ignore_count && !pduel->game_field->core.extra_summon[playerid] && pduel->game_field->core.summon_count[playerid] >= pduel->game_field->get_summon_count_limit(playerid)) {
      |   ^
src\puzzlepro_core/./card.cc:3263:72: note: +1
 3263 |   if (!ignore_count && !pduel->game_field->core.extra_summon[playerid] && pduel->game_field->core.summon_count[playerid] >= pduel->game_field->get_summon_count_limit(playerid)) {
      |                                                                        ^
src\puzzlepro_core/./card.cc:3266:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 3266 |     for (int32_t i = 0; i < extra_count.size(); ++i) {
      |     ^
src\puzzlepro_core/./card.cc:3269:43: note: +3, including nesting penalty of 2, nesting level increased to 3
 3269 |       int32_t new_min = retval.size() > 0 ? static_cast<int32_t>(retval[0]) : 0;
      |                                           ^
src\puzzlepro_core/./card.cc:3270:45: note: +3, including nesting penalty of 2, nesting level increased to 3
 3270 |       uint32_t new_zone = retval.size() > 1 ? static_cast<uint32_t>(retval[1]) : 0x1f;
      |                                             ^
src\puzzlepro_core/./card.cc:3271:46: note: +3, including nesting penalty of 2, nesting level increased to 3
 3271 |       int32_t releasable = retval.size() > 2 ? (retval[2] < 0 ? 0xff00ff + static_cast<int32_t>(retval[2]) : static_cast<int32_t>(retval[2])) : 0xff00ff;
      |                                              ^
src\puzzlepro_core/./card.cc:3271:63: note: +4, including nesting penalty of 3, nesting level increased to 4
 3271 |       int32_t releasable = retval.size() > 2 ? (retval[2] < 0 ? 0xff00ff + static_cast<int32_t>(retval[2]) : static_cast<int32_t>(retval[2])) : 0xff00ff;
      |                                                               ^
src\puzzlepro_core/./card.cc:3272:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 3272 |       if (new_min < min) {
      |       ^
src\puzzlepro_core/./card.cc:3276:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 3276 |       if (pduel->game_field->check_tribute(this, new_min, max, 0, current.controler, new_zone, releasable)) {
      |       ^
src\puzzlepro_core/./card.cc:3281:3: note: +1, nesting level increased to 1
 3281 |   else {
      |   ^
src\puzzlepro_core/./card.cc:3287:15: warning: function 'check_summon_procedure' has cognitive complexity of 30 (threshold 25) [readability-function-cognitive-complexity]
 3287 | int32_t card::check_summon_procedure(effect *proc, uint8_t playerid, uint8_t ignore_count, uint8_t min_tribute, uint32_t zone) {
      |               ^
src\puzzlepro_core/./card.cc:3288:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 3288 |   if (!proc->check_count_limit(playerid)) {
      |   ^
src\puzzlepro_core/./card.cc:3292:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 3292 |   if (proc->is_flag(EFFECT_FLAG_SPSUM_PARAM)) {
      |   ^
src\puzzlepro_core/./card.cc:3293:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 3293 |     if (proc->o_range) {
      |     ^
src\puzzlepro_core/./card.cc:3297:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 3297 |   if (!pduel->game_field->is_player_can_summon(proc->get_value(this), playerid, this, toplayer)) {
      |   ^
src\puzzlepro_core/./card.cc:3300:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 3300 |   if (pduel->game_field->check_unique_onfield(this, toplayer, LOCATION_MZONE)) {
      |   ^
src\puzzlepro_core/./card.cc:3304:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 3304 |   if (!ignore_count && !pduel->game_field->core.extra_summon[playerid] && pduel->game_field->core.summon_count[playerid] >= pduel->game_field->get_summon_count_limit(playerid)) {
      |   ^
src\puzzlepro_core/./card.cc:3304:72: note: +1
 3304 |   if (!ignore_count && !pduel->game_field->core.extra_summon[playerid] && pduel->game_field->core.summon_count[playerid] >= pduel->game_field->get_summon_count_limit(playerid)) {
      |                                                                        ^
src\puzzlepro_core/./card.cc:3307:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 3307 |     for (effect_set::size_type i = 0; i < eset.size(); ++i) {
      |     ^
src\puzzlepro_core/./card.cc:3310:51: note: +3, including nesting penalty of 2, nesting level increased to 3
 3310 |       int32_t new_min_tribute = retval.size() > 0 ? static_cast<int32_t>(retval[0]) : 0;
      |                                                   ^
src\puzzlepro_core/./card.cc:3311:45: note: +3, including nesting penalty of 2, nesting level increased to 3
 3311 |       uint32_t new_zone = retval.size() > 1 ? static_cast<uint32_t>(retval[1]) : 0x1f;
      |                                             ^
src\puzzlepro_core/./card.cc:3312:46: note: +3, including nesting penalty of 2, nesting level increased to 3
 3312 |       int32_t releasable = retval.size() > 2 ? (retval[2] < 0 ? 0xff00ff + static_cast<int32_t>(retval[2]) : static_cast<int32_t>(retval[2])) : 0xff00ff;
      |                                              ^
src\puzzlepro_core/./card.cc:3312:63: note: +4, including nesting penalty of 3, nesting level increased to 4
 3312 |       int32_t releasable = retval.size() > 2 ? (retval[2] < 0 ? 0xff00ff + static_cast<int32_t>(retval[2]) : static_cast<int32_t>(retval[2])) : 0xff00ff;
      |                                                               ^
src\puzzlepro_core/./card.cc:3313:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 3313 |       if (new_min_tribute < min_tribute) {
      |       ^
src\puzzlepro_core/./card.cc:3317:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 3317 |       if (is_summonable(proc, new_min_tribute, new_zone, releasable)) {
      |       ^
src\puzzlepro_core/./card.cc:3322:3: note: +1, nesting level increased to 1
 3322 |   else {
      |   ^
src\puzzlepro_core/./card.cc:3329:15: warning: function 'filter_set_procedure' has cognitive complexity of 39 (threshold 25) [readability-function-cognitive-complexity]
 3329 | int32_t card::filter_set_procedure(uint8_t playerid, effect_set *peset, uint8_t ignore_count, uint8_t min_tribute, uint32_t zone) {
      |               ^
src\puzzlepro_core/./card.cc:3332:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 3332 |   if (eset.size()) {
      |   ^
src\puzzlepro_core/./card.cc:3333:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 3333 |     for (effect_set::size_type i = 0; i < eset.size(); ++i) {
      |     ^
src\puzzlepro_core/./card.cc:3334:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 3334 |       if (check_set_procedure(eset[i], playerid, ignore_count, min_tribute, zone)) {
      |       ^
src\puzzlepro_core/./card.cc:3338:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 3338 |     if (peset->size()) {
      |     ^
src\puzzlepro_core/./card.cc:3345:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 3345 |   for (effect_set::size_type i = 0; i < eset.size(); ++i) {
      |   ^
src\puzzlepro_core/./card.cc:3346:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 3346 |     if (check_set_procedure(eset[i], playerid, ignore_count, min_tribute, zone)) {
      |     ^
src\puzzlepro_core/./card.cc:3350:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 3350 |   if (!pduel->game_field->is_player_can_mset(SUMMON_TYPE_NORMAL, playerid, this, playerid)) {
      |   ^
src\puzzlepro_core/./card.cc:3356:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 3356 |   if (!pduel->game_field->is_player_can_mset(SUMMON_TYPE_ADVANCE, playerid, this, playerid)) {
      |   ^
src\puzzlepro_core/./card.cc:3359:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 3359 |   if (min < min_tribute) {
      |   ^
src\puzzlepro_core/./card.cc:3362:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 3362 |   if (max < min) {
      |   ^
src\puzzlepro_core/./card.cc:3365:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 3365 |   if (!ignore_count && !pduel->game_field->core.extra_summon[playerid] && pduel->game_field->core.summon_count[playerid] >= pduel->game_field->get_summon_count_limit(playerid)) {
      |   ^
src\puzzlepro_core/./card.cc:3365:72: note: +1
 3365 |   if (!ignore_count && !pduel->game_field->core.extra_summon[playerid] && pduel->game_field->core.summon_count[playerid] >= pduel->game_field->get_summon_count_limit(playerid)) {
      |                                                                        ^
src\puzzlepro_core/./card.cc:3368:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 3368 |     for (int32_t i = 0; i < extra_count.size(); ++i) {
      |     ^
src\puzzlepro_core/./card.cc:3371:43: note: +3, including nesting penalty of 2, nesting level increased to 3
 3371 |       int32_t new_min = retval.size() > 0 ? static_cast<int32_t>(retval[0]) : 0;
      |                                           ^
src\puzzlepro_core/./card.cc:3372:45: note: +3, including nesting penalty of 2, nesting level increased to 3
 3372 |       uint32_t new_zone = retval.size() > 1 ? static_cast<uint32_t>(retval[1]) : 0x1f;
      |                                             ^
src\puzzlepro_core/./card.cc:3373:46: note: +3, including nesting penalty of 2, nesting level increased to 3
 3373 |       int32_t releasable = retval.size() > 2 ? (retval[2] < 0 ? 0xff00ff + static_cast<int32_t>(retval[2]) : static_cast<int32_t>(retval[2])) : 0xff00ff;
      |                                              ^
src\puzzlepro_core/./card.cc:3373:63: note: +4, including nesting penalty of 3, nesting level increased to 4
 3373 |       int32_t releasable = retval.size() > 2 ? (retval[2] < 0 ? 0xff00ff + static_cast<int32_t>(retval[2]) : static_cast<int32_t>(retval[2])) : 0xff00ff;
      |                                                               ^
src\puzzlepro_core/./card.cc:3374:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 3374 |       if (new_min < min) {
      |       ^
src\puzzlepro_core/./card.cc:3378:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 3378 |       if (pduel->game_field->check_tribute(this, new_min, max, 0, current.controler, new_zone, releasable, POS_FACEDOWN_DEFENSE)) {
      |       ^
src\puzzlepro_core/./card.cc:3383:3: note: +1, nesting level increased to 1
 3383 |   else {
      |   ^
src\puzzlepro_core/./card.cc:3389:15: warning: function 'check_set_procedure' has cognitive complexity of 29 (threshold 25) [readability-function-cognitive-complexity]
 3389 | int32_t card::check_set_procedure(effect *proc, uint8_t playerid, uint8_t ignore_count, uint8_t min_tribute, uint32_t zone) {
      |               ^
src\puzzlepro_core/./card.cc:3390:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 3390 |   if (!proc->check_count_limit(playerid)) {
      |   ^
src\puzzlepro_core/./card.cc:3394:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 3394 |   if (proc->is_flag(EFFECT_FLAG_SPSUM_PARAM)) {
      |   ^
src\puzzlepro_core/./card.cc:3395:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 3395 |     if (proc->o_range) {
      |     ^
src\puzzlepro_core/./card.cc:3399:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 3399 |   if (!pduel->game_field->is_player_can_mset(proc->get_value(this), playerid, this, toplayer)) {
      |   ^
src\puzzlepro_core/./card.cc:3402:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 3402 |   if (!ignore_count && !pduel->game_field->core.extra_summon[playerid] && pduel->game_field->core.summon_count[playerid] >= pduel->game_field->get_summon_count_limit(playerid)) {
      |   ^
src\puzzlepro_core/./card.cc:3402:72: note: +1
 3402 |   if (!ignore_count && !pduel->game_field->core.extra_summon[playerid] && pduel->game_field->core.summon_count[playerid] >= pduel->game_field->get_summon_count_limit(playerid)) {
      |                                                                        ^
src\puzzlepro_core/./card.cc:3405:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 3405 |     for (effect_set::size_type i = 0; i < eset.size(); ++i) {
      |     ^
src\puzzlepro_core/./card.cc:3408:51: note: +3, including nesting penalty of 2, nesting level increased to 3
 3408 |       int32_t new_min_tribute = retval.size() > 0 ? static_cast<int32_t>(retval[0]) : 0;
      |                                                   ^
src\puzzlepro_core/./card.cc:3409:45: note: +3, including nesting penalty of 2, nesting level increased to 3
 3409 |       uint32_t new_zone = retval.size() > 1 ? static_cast<uint32_t>(retval[1]) : 0x1f;
      |                                             ^
src\puzzlepro_core/./card.cc:3410:46: note: +3, including nesting penalty of 2, nesting level increased to 3
 3410 |       int32_t releasable = retval.size() > 2 ? (retval[2] < 0 ? 0xff00ff + static_cast<int32_t>(retval[2]) : static_cast<int32_t>(retval[2])) : 0xff00ff;
      |                                              ^
src\puzzlepro_core/./card.cc:3410:63: note: +4, including nesting penalty of 3, nesting level increased to 4
 3410 |       int32_t releasable = retval.size() > 2 ? (retval[2] < 0 ? 0xff00ff + static_cast<int32_t>(retval[2]) : static_cast<int32_t>(retval[2])) : 0xff00ff;
      |                                                               ^
src\puzzlepro_core/./card.cc:3411:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 3411 |       if (new_min_tribute < min_tribute) {
      |       ^
src\puzzlepro_core/./card.cc:3415:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 3415 |       if (is_summonable(proc, new_min_tribute, new_zone, releasable)) {
      |       ^
src\puzzlepro_core/./card.cc:3420:3: note: +1, nesting level increased to 1
 3420 |   else {
      |   ^
src\puzzlepro_core/./card.cc:4174:15: warning: function 'is_can_be_special_summoned' has cognitive complexity of 38 (threshold 25) [readability-function-cognitive-complexity]
 4174 | int32_t card::is_can_be_special_summoned(effect *reason_effect, uint32_t sumtype, uint8_t sumpos, uint8_t sumplayer, uint8_t toplayer, uint8_t nocheck, uint8_t nolimit, uint32_t zone) {
      |               ^
src\puzzlepro_core/./card.cc:4175:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 4175 |   if (reason_effect->get_handler() == this) {
      |   ^
src\puzzlepro_core/./card.cc:4178:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 4178 |   if (current.location == LOCATION_MZONE) {
      |   ^
src\puzzlepro_core/./card.cc:4181:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 4181 |   if (current.location == LOCATION_REMOVED && (current.position & POS_FACEDOWN)) {
      |   ^
src\puzzlepro_core/./card.cc:4181:44: note: +1
 4181 |   if (current.location == LOCATION_REMOVED && (current.position & POS_FACEDOWN)) {
      |                                            ^
src\puzzlepro_core/./card.cc:4184:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 4184 |   if (is_affected_by_effect(EFFECT_REVIVE_LIMIT) && !is_status(STATUS_PROC_COMPLETE)) {
      |   ^
src\puzzlepro_core/./card.cc:4184:50: note: +1
 4184 |   if (is_affected_by_effect(EFFECT_REVIVE_LIMIT) && !is_status(STATUS_PROC_COMPLETE)) {
      |                                                  ^
src\puzzlepro_core/./card.cc:4185:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 4185 |     if ((!nolimit && (current.location & (LOCATION_GRAVE | LOCATION_REMOVED | LOCATION_SZONE))) || (!nocheck && !nolimit && (current.location & (LOCATION_DECK | LOCATION_HAND)))) {
      |     ^
src\puzzlepro_core/./card.cc:4185:97: note: +1
 4185 |     if ((!nolimit && (current.location & (LOCATION_GRAVE | LOCATION_REMOVED | LOCATION_SZONE))) || (!nocheck && !nolimit && (current.location & (LOCATION_DECK | LOCATION_HAND)))) {
      |                                                                                                 ^
src\puzzlepro_core/./card.cc:4185:19: note: +1
 4185 |     if ((!nolimit && (current.location & (LOCATION_GRAVE | LOCATION_REMOVED | LOCATION_SZONE))) || (!nocheck && !nolimit && (current.location & (LOCATION_DECK | LOCATION_HAND)))) {
      |                   ^
src\puzzlepro_core/./card.cc:4185:122: note: +1
 4185 |     if ((!nolimit && (current.location & (LOCATION_GRAVE | LOCATION_REMOVED | LOCATION_SZONE))) || (!nocheck && !nolimit && (current.location & (LOCATION_DECK | LOCATION_HAND)))) {
      |                                                                                                                          ^
src\puzzlepro_core/./card.cc:4188:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 4188 |     if (!nolimit && (data.type & TYPE_PENDULUM) && current.location == LOCATION_EXTRA && (current.position & POS_FACEUP)) {
      |     ^
src\puzzlepro_core/./card.cc:4188:87: note: +1
 4188 |     if (!nolimit && (data.type & TYPE_PENDULUM) && current.location == LOCATION_EXTRA && (current.position & POS_FACEUP)) {
      |                                                                                       ^
src\puzzlepro_core/./card.cc:4192:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 4192 |   if ((data.type & TYPE_PENDULUM) && current.location == LOCATION_EXTRA && (current.position & POS_FACEUP) && (sumtype == SUMMON_TYPE_FUSION || sumtype == SUMMON_TYPE_SYNCHRO || sumtype == SUMMON_TYPE_XYZ)) {
      |   ^
src\puzzlepro_core/./card.cc:4192:108: note: +1
 4192 |   if ((data.type & TYPE_PENDULUM) && current.location == LOCATION_EXTRA && (current.position & POS_FACEUP) && (sumtype == SUMMON_TYPE_FUSION || sumtype == SUMMON_TYPE_SYNCHRO || sumtype == SUMMON_TYPE_XYZ)) {
      |                                                                                                            ^
src\puzzlepro_core/./card.cc:4192:176: note: +1
 4192 |   if ((data.type & TYPE_PENDULUM) && current.location == LOCATION_EXTRA && (current.position & POS_FACEUP) && (sumtype == SUMMON_TYPE_FUSION || sumtype == SUMMON_TYPE_SYNCHRO || sumtype == SUMMON_TYPE_XYZ)) {
      |                                                                                                                                                                                ^
src\puzzlepro_core/./card.cc:4195:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 4195 |   if ((sumpos & POS_FACEDOWN) && pduel->game_field->is_player_affected_by_effect(sumplayer, EFFECT_DIVINE_LIGHT)) {
      |   ^
src\puzzlepro_core/./card.cc:4195:31: note: +1
 4195 |   if ((sumpos & POS_FACEDOWN) && pduel->game_field->is_player_affected_by_effect(sumplayer, EFFECT_DIVINE_LIGHT)) {
      |                               ^
src\puzzlepro_core/./card.cc:4198:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 4198 |   if (!(sumpos & POS_FACEDOWN) && pduel->game_field->check_unique_onfield(this, toplayer, LOCATION_MZONE)) {
      |   ^
src\puzzlepro_core/./card.cc:4198:32: note: +1
 4198 |   if (!(sumpos & POS_FACEDOWN) && pduel->game_field->check_unique_onfield(this, toplayer, LOCATION_MZONE)) {
      |                                ^
src\puzzlepro_core/./card.cc:4202:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 4202 |   if ((sumplayer == 0 || sumplayer == 1) && !pduel->game_field->is_player_can_spsummon(reason_effect, sumtype, sumpos, sumplayer, toplayer, this)) {
      |   ^
src\puzzlepro_core/./card.cc:4202:42: note: +1
 4202 |   if ((sumplayer == 0 || sumplayer == 1) && !pduel->game_field->is_player_can_spsummon(reason_effect, sumtype, sumpos, sumplayer, toplayer, this)) {
      |                                          ^
src\puzzlepro_core/./card.cc:4202:23: note: +1
 4202 |   if ((sumplayer == 0 || sumplayer == 1) && !pduel->game_field->is_player_can_spsummon(reason_effect, sumtype, sumpos, sumplayer, toplayer, this)) {
      |                       ^
src\puzzlepro_core/./card.cc:4205:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 4205 |   if (is_affected_by_effect(EFFECT_CANNOT_SPECIAL_SUMMON)) {
      |   ^
src\puzzlepro_core/./card.cc:4208:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 4208 |   if (is_status(STATUS_FORBIDDEN)) {
      |   ^
src\puzzlepro_core/./card.cc:4211:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 4211 |   if (zone != 0xff) {
      |   ^
src\puzzlepro_core/./card.cc:4212:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 4212 |     if (pduel->game_field->get_useable_count(this, toplayer, LOCATION_MZONE, sumplayer, LOCATION_REASON_TOFIELD, zone, 0) <= 0) {
      |     ^
src\puzzlepro_core/./card.cc:4217:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 4217 |   if (!check_cost_condition(EFFECT_SPSUMMON_COST, sumplayer, sumtype)) {
      |   ^
src\puzzlepro_core/./card.cc:4221:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 4221 |   if (!nocheck) {
      |   ^
src\puzzlepro_core/./card.cc:4223:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 4223 |     if (!(data.type & TYPE_MONSTER)) {
      |     ^
src\puzzlepro_core/./card.cc:4228:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 4228 |     for (effect_set::size_type i = 0; i < eset.size(); ++i) {
      |     ^
src\puzzlepro_core/./card.cc:4234:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 4234 |       if (!eset[i]->check_value_condition(5)) {
      |       ^
src\puzzlepro_core/./card.cc:4950:15: warning: function 'is_can_be_synchro_material' has cognitive complexity of 26 (threshold 25) [readability-function-cognitive-complexity]
 4950 | int32_t card::is_can_be_synchro_material(card *scard, card *tuner) {
      |               ^
src\puzzlepro_core/./card.cc:4951:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 4951 |   if ((data.type & (TYPE_XYZ | TYPE_LINK)) && !get_synchro_level(scard)) {
      |   ^
src\puzzlepro_core/./card.cc:4951:44: note: +1
 4951 |   if ((data.type & (TYPE_XYZ | TYPE_LINK)) && !get_synchro_level(scard)) {
      |                                            ^
src\puzzlepro_core/./card.cc:4954:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 4954 |   if (!(get_synchro_type() & TYPE_MONSTER)) {
      |   ^
src\puzzlepro_core/./card.cc:4957:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 4957 |   if (is_status(STATUS_FORBIDDEN)) {
      |   ^
src\puzzlepro_core/./card.cc:4961:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 4961 |   if (tuner && (pduel->game_field->core.global_flag & GLOBALFLAG_SCRAP_CHIMERA)) {
      |   ^
src\puzzlepro_core/./card.cc:4961:13: note: +1
 4961 |   if (tuner && (pduel->game_field->core.global_flag & GLOBALFLAG_SCRAP_CHIMERA)) {
      |             ^
src\puzzlepro_core/./card.cc:4962:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 4962 |     if (is_affected_by_effect(EFFECT_SCRAP_CHIMERA, tuner)) {
      |     ^
src\puzzlepro_core/./card.cc:4968:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 4968 |   for (effect_set::size_type i = 0; i < eset.size(); ++i) {
      |   ^
src\puzzlepro_core/./card.cc:4969:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 4969 |     if (eset[i]->get_value(scard)) {
      |     ^
src\puzzlepro_core/./card.cc:4973:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 4973 |   if (scard && !(current.location == LOCATION_MZONE && current.controler == scard->current.controler)) {
      |   ^
src\puzzlepro_core/./card.cc:4973:13: note: +1
 4973 |   if (scard && !(current.location == LOCATION_MZONE && current.controler == scard->current.controler)) {
      |             ^
src\puzzlepro_core/./card.cc:4976:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 4976 |     if (eset.size()) {
      |     ^
src\puzzlepro_core/./card.cc:4977:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 4977 |       for (effect_set::size_type i = 0; i < eset.size(); ++i) {
      |       ^
src\puzzlepro_core/./card.cc:4978:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 4978 |         if (!eset[i]->check_count_limit(scard->current.controler)) {
      |         ^
src\puzzlepro_core/./card.cc:4981:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 4981 |         if (eset[i]->get_value(scard)) {
      |         ^
src\puzzlepro_core/./card.cc:4973:16: warning: boolean expression can be simplified by DeMorgan's theorem [readability-simplify-boolean-expr]
 4973 |   if (scard && !(current.location == LOCATION_MZONE && current.controler == scard->current.controler)) {
      |                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
      |                                   !=                ||                   !=
src\puzzlepro_core/./effect.cc:67:17: warning: function 'is_available' has cognitive complexity of 100 (threshold 25) [readability-function-cognitive-complexity]
   67 | int32_t effect::is_available(int32_t neglect_disabled) {
      |                 ^
src\puzzlepro_core/./effect.cc:68:3: note: +1, including nesting penalty of 0, nesting level increased to 1
   68 |   if (type & EFFECT_TYPE_ACTIONS) {
      |   ^
src\puzzlepro_core/./effect.cc:71:3: note: +1, including nesting penalty of 0, nesting level increased to 1
   71 |   if ((type & (EFFECT_TYPE_SINGLE | EFFECT_TYPE_XMATERIAL)) && !(type & EFFECT_TYPE_FIELD)) {
      |   ^
src\puzzlepro_core/./effect.cc:71:61: note: +1
   71 |   if ((type & (EFFECT_TYPE_SINGLE | EFFECT_TYPE_XMATERIAL)) && !(type & EFFECT_TYPE_FIELD)) {
      |                                                             ^
src\puzzlepro_core/./effect.cc:74:5: note: +2, including nesting penalty of 1, nesting level increased to 2
   74 |     if (phandler->current.controler == PLAYER_NONE) {
      |     ^
src\puzzlepro_core/./effect.cc:77:5: note: +2, including nesting penalty of 1, nesting level increased to 2
   77 |     if (is_flag(EFFECT_FLAG_SINGLE_RANGE) && !in_range(phandler)) {
      |     ^
src\puzzlepro_core/./effect.cc:77:43: note: +1
   77 |     if (is_flag(EFFECT_FLAG_SINGLE_RANGE) && !in_range(phandler)) {
      |                                           ^
src\puzzlepro_core/./effect.cc:80:5: note: +2, including nesting penalty of 1, nesting level increased to 2
   80 |     if (is_flag(EFFECT_FLAG_SINGLE_RANGE) && !phandler->get_status(STATUS_EFFECT_ENABLED) && !is_flag(EFFECT_FLAG_IMMEDIATELY_APPLY)) {
      |     ^
src\puzzlepro_core/./effect.cc:80:91: note: +1
   80 |     if (is_flag(EFFECT_FLAG_SINGLE_RANGE) && !phandler->get_status(STATUS_EFFECT_ENABLED) && !is_flag(EFFECT_FLAG_IMMEDIATELY_APPLY)) {
      |                                                                                           ^
src\puzzlepro_core/./effect.cc:83:5: note: +2, including nesting penalty of 1, nesting level increased to 2
   83 |     if (is_flag(EFFECT_FLAG_SINGLE_RANGE) && (phandler->current.location & LOCATION_ONFIELD) && !phandler->is_position(POS_FACEUP)) {
      |     ^
src\puzzlepro_core/./effect.cc:83:94: note: +1
   83 |     if (is_flag(EFFECT_FLAG_SINGLE_RANGE) && (phandler->current.location & LOCATION_ONFIELD) && !phandler->is_position(POS_FACEUP)) {
      |                                                                                              ^
src\puzzlepro_core/./effect.cc:86:5: note: +2, including nesting penalty of 1, nesting level increased to 2
   86 |     if (is_flag(EFFECT_FLAG_OWNER_RELATE) && is_can_be_forbidden() && powner->is_status(STATUS_FORBIDDEN)) {
      |     ^
src\puzzlepro_core/./effect.cc:86:68: note: +1
   86 |     if (is_flag(EFFECT_FLAG_OWNER_RELATE) && is_can_be_forbidden() && powner->is_status(STATUS_FORBIDDEN)) {
      |                                                                    ^
src\puzzlepro_core/./effect.cc:89:5: note: +2, including nesting penalty of 1, nesting level increased to 2
   89 |     if (powner == phandler && is_can_be_forbidden() && phandler->get_status(STATUS_FORBIDDEN)) {
      |     ^
src\puzzlepro_core/./effect.cc:89:53: note: +1
   89 |     if (powner == phandler && is_can_be_forbidden() && phandler->get_status(STATUS_FORBIDDEN)) {
      |                                                     ^
src\puzzlepro_core/./effect.cc:92:5: note: +2, including nesting penalty of 1, nesting level increased to 2
   92 |     if (is_flag(EFFECT_FLAG_OWNER_RELATE) && !(is_flag(EFFECT_FLAG_CANNOT_DISABLE) || neglect_disabled) && powner->is_status(STATUS_DISABLED)) {
      |     ^
src\puzzlepro_core/./effect.cc:92:105: note: +1
   92 |     if (is_flag(EFFECT_FLAG_OWNER_RELATE) && !(is_flag(EFFECT_FLAG_CANNOT_DISABLE) || neglect_disabled) && powner->is_status(STATUS_DISABLED)) {
      |                                                                                                         ^
src\puzzlepro_core/./effect.cc:92:84: note: +1
   92 |     if (is_flag(EFFECT_FLAG_OWNER_RELATE) && !(is_flag(EFFECT_FLAG_CANNOT_DISABLE) || neglect_disabled) && powner->is_status(STATUS_DISABLED)) {
      |                                                                                    ^
src\puzzlepro_core/./effect.cc:95:5: note: +2, including nesting penalty of 1, nesting level increased to 2
   95 |     if (powner == phandler && !(is_flag(EFFECT_FLAG_CANNOT_DISABLE) || neglect_disabled) && phandler->get_status(STATUS_DISABLED)) {
      |     ^
src\puzzlepro_core/./effect.cc:95:90: note: +1
   95 |     if (powner == phandler && !(is_flag(EFFECT_FLAG_CANNOT_DISABLE) || neglect_disabled) && phandler->get_status(STATUS_DISABLED)) {
      |                                                                                          ^
src\puzzlepro_core/./effect.cc:95:69: note: +1
   95 |     if (powner == phandler && !(is_flag(EFFECT_FLAG_CANNOT_DISABLE) || neglect_disabled) && phandler->get_status(STATUS_DISABLED)) {
      |                                                                     ^
src\puzzlepro_core/./effect.cc:99:3: note: +1, including nesting penalty of 0, nesting level increased to 1
   99 |   if (type & EFFECT_TYPE_EQUIP) {
      |   ^
src\puzzlepro_core/./effect.cc:100:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  100 |     if (handler->current.controler == PLAYER_NONE) {
      |     ^
src\puzzlepro_core/./effect.cc:103:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  103 |     if (is_flag(EFFECT_FLAG_OWNER_RELATE) && is_can_be_forbidden() && owner->is_status(STATUS_FORBIDDEN)) {
      |     ^
src\puzzlepro_core/./effect.cc:103:68: note: +1
  103 |     if (is_flag(EFFECT_FLAG_OWNER_RELATE) && is_can_be_forbidden() && owner->is_status(STATUS_FORBIDDEN)) {
      |                                                                    ^
src\puzzlepro_core/./effect.cc:106:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  106 |     if (owner == handler && is_can_be_forbidden() && handler->get_status(STATUS_FORBIDDEN)) {
      |     ^
src\puzzlepro_core/./effect.cc:106:51: note: +1
  106 |     if (owner == handler && is_can_be_forbidden() && handler->get_status(STATUS_FORBIDDEN)) {
      |                                                   ^
src\puzzlepro_core/./effect.cc:109:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  109 |     if (is_flag(EFFECT_FLAG_OWNER_RELATE) && !(is_flag(EFFECT_FLAG_CANNOT_DISABLE) || neglect_disabled) && owner->is_status(STATUS_DISABLED)) {
      |     ^
src\puzzlepro_core/./effect.cc:109:105: note: +1
  109 |     if (is_flag(EFFECT_FLAG_OWNER_RELATE) && !(is_flag(EFFECT_FLAG_CANNOT_DISABLE) || neglect_disabled) && owner->is_status(STATUS_DISABLED)) {
      |                                                                                                         ^
src\puzzlepro_core/./effect.cc:109:84: note: +1
  109 |     if (is_flag(EFFECT_FLAG_OWNER_RELATE) && !(is_flag(EFFECT_FLAG_CANNOT_DISABLE) || neglect_disabled) && owner->is_status(STATUS_DISABLED)) {
      |                                                                                    ^
src\puzzlepro_core/./effect.cc:112:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  112 |     if (owner == handler && !(is_flag(EFFECT_FLAG_CANNOT_DISABLE) || neglect_disabled) && handler->get_status(STATUS_DISABLED)) {
      |     ^
src\puzzlepro_core/./effect.cc:112:88: note: +1
  112 |     if (owner == handler && !(is_flag(EFFECT_FLAG_CANNOT_DISABLE) || neglect_disabled) && handler->get_status(STATUS_DISABLED)) {
      |                                                                                        ^
src\puzzlepro_core/./effect.cc:112:67: note: +1
  112 |     if (owner == handler && !(is_flag(EFFECT_FLAG_CANNOT_DISABLE) || neglect_disabled) && handler->get_status(STATUS_DISABLED)) {
      |                                                                   ^
src\puzzlepro_core/./effect.cc:115:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  115 |     if (!is_flag(EFFECT_FLAG_SET_AVAILABLE)) {
      |     ^
src\puzzlepro_core/./effect.cc:116:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  116 |       if (!(handler->get_status(STATUS_EFFECT_ENABLED))) {
      |       ^
src\puzzlepro_core/./effect.cc:119:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  119 |       if (!handler->is_position(POS_FACEUP)) {
      |       ^
src\puzzlepro_core/./effect.cc:124:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  124 |   if (type & (EFFECT_TYPE_FIELD | EFFECT_TYPE_TARGET)) {
      |   ^
src\puzzlepro_core/./effect.cc:127:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  127 |     if (!is_flag(EFFECT_FLAG_FIELD_ONLY)) {
      |     ^
src\puzzlepro_core/./effect.cc:128:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  128 |       if (phandler->current.controler == PLAYER_NONE) {
      |       ^
src\puzzlepro_core/./effect.cc:131:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  131 |       if (!in_range(phandler)) {
      |       ^
src\puzzlepro_core/./effect.cc:134:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  134 |       if (!phandler->get_status(STATUS_EFFECT_ENABLED) && !is_flag(EFFECT_FLAG_IMMEDIATELY_APPLY)) {
      |       ^
src\puzzlepro_core/./effect.cc:134:56: note: +1
  134 |       if (!phandler->get_status(STATUS_EFFECT_ENABLED) && !is_flag(EFFECT_FLAG_IMMEDIATELY_APPLY)) {
      |                                                        ^
src\puzzlepro_core/./effect.cc:137:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  137 |       if (phandler->current.is_location(LOCATION_ONFIELD) && !phandler->is_position(POS_FACEUP)) {
      |       ^
src\puzzlepro_core/./effect.cc:137:59: note: +1
  137 |       if (phandler->current.is_location(LOCATION_ONFIELD) && !phandler->is_position(POS_FACEUP)) {
      |                                                           ^
src\puzzlepro_core/./effect.cc:140:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  140 |       if (phandler->current.is_stzone() && (phandler->data.type & (TYPE_SPELL | TYPE_TRAP)) && phandler->is_affected_by_effect(EFFECT_CHANGE_TYPE)) {
      |       ^
src\puzzlepro_core/./effect.cc:140:93: note: +1
  140 |       if (phandler->current.is_stzone() && (phandler->data.type & (TYPE_SPELL | TYPE_TRAP)) && phandler->is_affected_by_effect(EFFECT_CHANGE_TYPE)) {
      |                                                                                             ^
src\puzzlepro_core/./effect.cc:143:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  143 |       if (is_flag(EFFECT_FLAG_OWNER_RELATE) && is_can_be_forbidden() && powner->is_status(STATUS_FORBIDDEN)) {
      |       ^
src\puzzlepro_core/./effect.cc:143:70: note: +1
  143 |       if (is_flag(EFFECT_FLAG_OWNER_RELATE) && is_can_be_forbidden() && powner->is_status(STATUS_FORBIDDEN)) {
      |                                                                      ^
src\puzzlepro_core/./effect.cc:146:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  146 |       if (powner == phandler && is_can_be_forbidden() && phandler->get_status(STATUS_FORBIDDEN)) {
      |       ^
src\puzzlepro_core/./effect.cc:146:55: note: +1
  146 |       if (powner == phandler && is_can_be_forbidden() && phandler->get_status(STATUS_FORBIDDEN)) {
      |                                                       ^
src\puzzlepro_core/./effect.cc:149:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  149 |       if (is_flag(EFFECT_FLAG_OWNER_RELATE) && !(is_flag(EFFECT_FLAG_CANNOT_DISABLE) || neglect_disabled) && powner->is_status(STATUS_DISABLED)) {
      |       ^
src\puzzlepro_core/./effect.cc:149:107: note: +1
  149 |       if (is_flag(EFFECT_FLAG_OWNER_RELATE) && !(is_flag(EFFECT_FLAG_CANNOT_DISABLE) || neglect_disabled) && powner->is_status(STATUS_DISABLED)) {
      |                                                                                                           ^
src\puzzlepro_core/./effect.cc:149:86: note: +1
  149 |       if (is_flag(EFFECT_FLAG_OWNER_RELATE) && !(is_flag(EFFECT_FLAG_CANNOT_DISABLE) || neglect_disabled) && powner->is_status(STATUS_DISABLED)) {
      |                                                                                      ^
src\puzzlepro_core/./effect.cc:152:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  152 |       if (powner == phandler && !(is_flag(EFFECT_FLAG_CANNOT_DISABLE) || neglect_disabled) && phandler->get_status(STATUS_DISABLED)) {
      |       ^
src\puzzlepro_core/./effect.cc:152:92: note: +1
  152 |       if (powner == phandler && !(is_flag(EFFECT_FLAG_CANNOT_DISABLE) || neglect_disabled) && phandler->get_status(STATUS_DISABLED)) {
      |                                                                                            ^
src\puzzlepro_core/./effect.cc:152:71: note: +1
  152 |       if (powner == phandler && !(is_flag(EFFECT_FLAG_CANNOT_DISABLE) || neglect_disabled) && phandler->get_status(STATUS_DISABLED)) {
      |                                                                       ^
src\puzzlepro_core/./effect.cc:155:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  155 |       if (phandler->is_status(STATUS_BATTLE_DESTROYED)) {
      |       ^
src\puzzlepro_core/./effect.cc:160:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  160 |   if (!condition) {
      |   ^
src\puzzlepro_core/./effect.cc:165:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  165 |   if (res) {
      |   ^
src\puzzlepro_core/./effect.cc:166:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  166 |     if (!(status & EFFECT_STATUS_AVAILABLE)) {
      |     ^
src\puzzlepro_core/./effect.cc:171:3: note: +1, nesting level increased to 1
  171 |   else {
      |   ^
src\puzzlepro_core/./effect.cc:239:17: warning: function 'get_required_handorset_effects' has cognitive complexity of 26 (threshold 25) [readability-function-cognitive-complexity]
  239 | int32_t effect::get_required_handorset_effects(effect_set *eset, uint8_t playerid, const tevent &e, int32_t neglect_loc) {
      |                 ^
src\puzzlepro_core/./effect.cc:241:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  241 |   if (!(type & EFFECT_TYPE_ACTIVATE)) {
      |   ^
src\puzzlepro_core/./effect.cc:245:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  245 |   if (handler->current.location == LOCATION_HAND && !neglect_loc) {
      |   ^
src\puzzlepro_core/./effect.cc:245:50: note: +1
  245 |   if (handler->current.location == LOCATION_HAND && !neglect_loc) {
      |                                                  ^
src\puzzlepro_core/./effect.cc:246:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  246 |     if (handler->data.type & TYPE_TRAP) {
      |     ^
src\puzzlepro_core/./effect.cc:249:10: note: +1, nesting level increased to 2
  249 |     else if ((handler->data.type & TYPE_SPELL) && pduel->game_field->infos.turn_player != playerid) {
      |          ^
src\puzzlepro_core/./effect.cc:249:48: note: +1
  249 |     else if ((handler->data.type & TYPE_SPELL) && pduel->game_field->infos.turn_player != playerid) {
      |                                                ^
src\puzzlepro_core/./effect.cc:250:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  250 |       if (handler->data.type & TYPE_QUICKPLAY) {
      |       ^
src\puzzlepro_core/./effect.cc:253:7: note: +1, nesting level increased to 3
  253 |       else {
      |       ^
src\puzzlepro_core/./effect.cc:258:8: note: +1, nesting level increased to 1
  258 |   else if (handler->current.location == LOCATION_SZONE) {
      |        ^
src\puzzlepro_core/./effect.cc:259:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  259 |     if ((handler->data.type & TYPE_TRAP) && handler->get_status(STATUS_SET_TURN)) {
      |     ^
src\puzzlepro_core/./effect.cc:259:42: note: +1
  259 |     if ((handler->data.type & TYPE_TRAP) && handler->get_status(STATUS_SET_TURN)) {
      |                                          ^
src\puzzlepro_core/./effect.cc:262:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  262 |     if ((handler->data.type & TYPE_SPELL) && (handler->data.type & TYPE_QUICKPLAY) && handler->get_status(STATUS_SET_TURN)) {
      |     ^
src\puzzlepro_core/./effect.cc:262:84: note: +1
  262 |     if ((handler->data.type & TYPE_SPELL) && (handler->data.type & TYPE_QUICKPLAY) && handler->get_status(STATUS_SET_TURN)) {
      |                                                                                    ^
src\puzzlepro_core/./effect.cc:266:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  266 |   if (!ecode) {
      |   ^
src\puzzlepro_core/./effect.cc:272:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  272 |   if (!tmp_eset.size()) {
      |   ^
src\puzzlepro_core/./effect.cc:279:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  279 |   for (int32_t i = 0; i < tmp_eset.size(); ++i) {
      |   ^
src\puzzlepro_core/./effect.cc:281:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  281 |     if (peffect->check_count_limit(playerid)) {
      |     ^
src\puzzlepro_core/./effect.cc:293:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  293 |       if (pduel->lua->check_condition(peffect->cost, 10)) {
      |       ^
src\puzzlepro_core/./effect.cc:307:17: warning: function 'is_activateable' has cognitive complexity of 186 (threshold 25) [readability-function-cognitive-complexity]
  307 | int32_t effect::is_activateable(uint8_t playerid, const tevent &e, int32_t neglect_cond, int32_t neglect_cost, int32_t neglect_target, int32_t neglect_loc, int32_t neglect_faceup) {
      |                 ^
src\puzzlepro_core/./effect.cc:308:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  308 |   if (!(type & EFFECT_TYPE_ACTIONS)) {
      |   ^
src\puzzlepro_core/./effect.cc:311:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  311 |   if (!check_count_limit(playerid)) {
      |   ^
src\puzzlepro_core/./effect.cc:314:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  314 |   if (!is_flag(EFFECT_FLAG_FIELD_ONLY)) {
      |   ^
src\puzzlepro_core/./effect.cc:315:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  315 |     if (type & EFFECT_TYPE_ACTIVATE) {
      |     ^
src\puzzlepro_core/./effect.cc:316:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  316 |       if (handler->current.controler != playerid) {
      |       ^
src\puzzlepro_core/./effect.cc:319:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  319 |       if (pduel->game_field->check_unique_onfield(handler, playerid, LOCATION_SZONE)) {
      |       ^
src\puzzlepro_core/./effect.cc:322:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  322 |       if (!(handler->data.type & TYPE_COUNTER)) {
      |       ^
src\puzzlepro_core/./effect.cc:323:9: note: +4, including nesting penalty of 3, nesting level increased to 4
  323 |         if ((code < 1132 || code > 1149) && pduel->game_field->infos.phase == PHASE_DAMAGE && !is_flag(EFFECT_FLAG_DAMAGE_STEP) && !pduel->game_field->get_cteffect(this, playerid, FALSE)) {
      |         ^
src\puzzlepro_core/./effect.cc:323:129: note: +1
  323 |         if ((code < 1132 || code > 1149) && pduel->game_field->infos.phase == PHASE_DAMAGE && !is_flag(EFFECT_FLAG_DAMAGE_STEP) && !pduel->game_field->get_cteffect(this, playerid, FALSE)) {
      |                                                                                                                                 ^
src\puzzlepro_core/./effect.cc:323:26: note: +1
  323 |         if ((code < 1132 || code > 1149) && pduel->game_field->infos.phase == PHASE_DAMAGE && !is_flag(EFFECT_FLAG_DAMAGE_STEP) && !pduel->game_field->get_cteffect(this, playerid, FALSE)) {
      |                          ^
src\puzzlepro_core/./effect.cc:326:9: note: +4, including nesting penalty of 3, nesting level increased to 4
  326 |         if ((code < 1134 || code > 1136) && pduel->game_field->infos.phase == PHASE_DAMAGE_CAL && !is_flag(EFFECT_FLAG_DAMAGE_CAL) && !pduel->game_field->get_cteffect(this, playerid, FALSE)) {
      |         ^
src\puzzlepro_core/./effect.cc:326:132: note: +1
  326 |         if ((code < 1134 || code > 1136) && pduel->game_field->infos.phase == PHASE_DAMAGE_CAL && !is_flag(EFFECT_FLAG_DAMAGE_CAL) && !pduel->game_field->get_cteffect(this, playerid, FALSE)) {
      |                                                                                                                                    ^
src\puzzlepro_core/./effect.cc:326:26: note: +1
  326 |         if ((code < 1134 || code > 1136) && pduel->game_field->infos.phase == PHASE_DAMAGE_CAL && !is_flag(EFFECT_FLAG_DAMAGE_CAL) && !pduel->game_field->get_cteffect(this, playerid, FALSE)) {
      |                          ^
src\puzzlepro_core/./effect.cc:331:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  331 |       if (!(handler->data.type & (TYPE_FIELD | TYPE_PENDULUM)) && is_flag(EFFECT_FLAG_LIMIT_ZONE)) {
      |       ^
src\puzzlepro_core/./effect.cc:331:64: note: +1
  331 |       if (!(handler->data.type & (TYPE_FIELD | TYPE_PENDULUM)) && is_flag(EFFECT_FLAG_LIMIT_ZONE)) {
      |                                                                ^
src\puzzlepro_core/./effect.cc:340:9: note: +4, including nesting penalty of 3, nesting level increased to 4
  340 |         if (!zone) {
      |         ^
src\puzzlepro_core/./effect.cc:344:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  344 |       if (handler->current.location == LOCATION_SZONE) {
      |       ^
src\puzzlepro_core/./effect.cc:345:9: note: +4, including nesting penalty of 3, nesting level increased to 4
  345 |         if (handler->is_position(POS_FACEUP)) {
      |         ^
src\puzzlepro_core/./effect.cc:348:9: note: +4, including nesting penalty of 3, nesting level increased to 4
  348 |         if (handler->equiping_target) {
      |         ^
src\puzzlepro_core/./effect.cc:351:9: note: +4, including nesting penalty of 3, nesting level increased to 4
  351 |         if (!(handler->data.type & (TYPE_FIELD | TYPE_PENDULUM)) && is_flag(EFFECT_FLAG_LIMIT_ZONE) && !(zone & (1u << handler->current.sequence))) {
      |         ^
src\puzzlepro_core/./effect.cc:351:101: note: +1
  351 |         if (!(handler->data.type & (TYPE_FIELD | TYPE_PENDULUM)) && is_flag(EFFECT_FLAG_LIMIT_ZONE) && !(zone & (1u << handler->current.sequence))) {
      |                                                                                                     ^
src\puzzlepro_core/./effect.cc:355:7: note: +1, nesting level increased to 3
  355 |       else {
      |       ^
src\puzzlepro_core/./effect.cc:356:9: note: +4, including nesting penalty of 3, nesting level increased to 4
  356 |         if (handler->data.type & TYPE_MONSTER) {
      |         ^
src\puzzlepro_core/./effect.cc:357:11: note: +5, including nesting penalty of 4, nesting level increased to 5
  357 |           if (!(handler->data.type & TYPE_PENDULUM)) {
      |           ^
src\puzzlepro_core/./effect.cc:360:11: note: +5, including nesting penalty of 4, nesting level increased to 5
  360 |           if (!pduel->game_field->is_location_useable(playerid, LOCATION_PZONE, 0) && !pduel->game_field->is_location_useable(playerid, LOCATION_PZONE, 1)) {
      |           ^
src\puzzlepro_core/./effect.cc:360:84: note: +1
  360 |           if (!pduel->game_field->is_location_useable(playerid, LOCATION_PZONE, 0) && !pduel->game_field->is_location_useable(playerid, LOCATION_PZONE, 1)) {
      |                                                                                    ^
src\puzzlepro_core/./effect.cc:364:14: note: +1, nesting level increased to 4
  364 |         else if (!(handler->data.type & TYPE_FIELD) && pduel->game_field->get_useable_count(handler, playerid, LOCATION_SZONE, playerid, LOCATION_REASON_TOFIELD, zone) <= 0) {
      |              ^
src\puzzlepro_core/./effect.cc:364:53: note: +1
  364 |         else if (!(handler->data.type & TYPE_FIELD) && pduel->game_field->get_useable_count(handler, playerid, LOCATION_SZONE, playerid, LOCATION_REASON_TOFIELD, zone) <= 0) {
      |                                                     ^
src\puzzlepro_core/./effect.cc:370:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  370 |       if (!get_required_handorset_effects(&eset, playerid, e, neglect_loc)) {
      |       ^
src\puzzlepro_core/./effect.cc:373:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  373 |       if (handler->is_status(STATUS_FORBIDDEN)) {
      |       ^
src\puzzlepro_core/./effect.cc:376:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  376 |       if (handler->is_affected_by_effect(EFFECT_CANNOT_TRIGGER)) {
      |       ^
src\puzzlepro_core/./effect.cc:380:10: note: +1, nesting level increased to 2
  380 |     else if (!(type & EFFECT_TYPE_CONTINUOUS)) {
      |          ^
src\puzzlepro_core/./effect.cc:382:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  382 |       if (!(phandler->get_type() & TYPE_MONSTER) && (get_active_type(FALSE) & TYPE_MONSTER)) {
      |       ^
src\puzzlepro_core/./effect.cc:382:50: note: +1
  382 |       if (!(phandler->get_type() & TYPE_MONSTER) && (get_active_type(FALSE) & TYPE_MONSTER)) {
      |                                                  ^
src\puzzlepro_core/./effect.cc:385:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  385 |       if ((type & EFFECT_TYPE_QUICK_O) && is_flag(EFFECT_FLAG_DELAY) && !in_range(phandler)) {
      |       ^
src\puzzlepro_core/./effect.cc:385:70: note: +1
  385 |       if ((type & EFFECT_TYPE_QUICK_O) && is_flag(EFFECT_FLAG_DELAY) && !in_range(phandler)) {
      |                                                                      ^
src\puzzlepro_core/./effect.cc:388:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  388 |       if (!neglect_faceup && (phandler->current.location & (LOCATION_ONFIELD | LOCATION_REMOVED))) {
      |       ^
src\puzzlepro_core/./effect.cc:388:27: note: +1
  388 |       if (!neglect_faceup && (phandler->current.location & (LOCATION_ONFIELD | LOCATION_REMOVED))) {
      |                           ^
src\puzzlepro_core/./effect.cc:389:9: note: +4, including nesting penalty of 3, nesting level increased to 4
  389 |         if (!phandler->is_position(POS_FACEUP) && !is_flag(EFFECT_FLAG_SET_AVAILABLE)) {
      |         ^
src\puzzlepro_core/./effect.cc:389:48: note: +1
  389 |         if (!phandler->is_position(POS_FACEUP) && !is_flag(EFFECT_FLAG_SET_AVAILABLE)) {
      |                                                ^
src\puzzlepro_core/./effect.cc:392:9: note: +4, including nesting penalty of 3, nesting level increased to 4
  392 |         if (phandler->is_position(POS_FACEUP) && !phandler->is_status(STATUS_EFFECT_ENABLED)) {
      |         ^
src\puzzlepro_core/./effect.cc:392:47: note: +1
  392 |         if (phandler->is_position(POS_FACEUP) && !phandler->is_status(STATUS_EFFECT_ENABLED)) {
      |                                               ^
src\puzzlepro_core/./effect.cc:396:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  396 |       if (!(type & (EFFECT_TYPE_FLIP | EFFECT_TYPE_TRIGGER_F)) && !((type & EFFECT_TYPE_TRIGGER_O) && (type & EFFECT_TYPE_SINGLE))) {
      |       ^
src\puzzlepro_core/./effect.cc:396:64: note: +1
  396 |       if (!(type & (EFFECT_TYPE_FLIP | EFFECT_TYPE_TRIGGER_F)) && !((type & EFFECT_TYPE_TRIGGER_O) && (type & EFFECT_TYPE_SINGLE))) {
      |                                                                ^
src\puzzlepro_core/./effect.cc:397:9: note: +4, including nesting penalty of 3, nesting level increased to 4
  397 |         if ((code < 1132 || code > 1149) && pduel->game_field->infos.phase == PHASE_DAMAGE && !is_flag(EFFECT_FLAG_DAMAGE_STEP)) {
      |         ^
src\puzzlepro_core/./effect.cc:397:92: note: +1
  397 |         if ((code < 1132 || code > 1149) && pduel->game_field->infos.phase == PHASE_DAMAGE && !is_flag(EFFECT_FLAG_DAMAGE_STEP)) {
      |                                                                                            ^
src\puzzlepro_core/./effect.cc:397:26: note: +1
  397 |         if ((code < 1132 || code > 1149) && pduel->game_field->infos.phase == PHASE_DAMAGE && !is_flag(EFFECT_FLAG_DAMAGE_STEP)) {
      |                          ^
src\puzzlepro_core/./effect.cc:400:9: note: +4, including nesting penalty of 3, nesting level increased to 4
  400 |         if ((code < 1134 || code > 1136) && pduel->game_field->infos.phase == PHASE_DAMAGE_CAL && !is_flag(EFFECT_FLAG_DAMAGE_CAL)) {
      |         ^
src\puzzlepro_core/./effect.cc:400:96: note: +1
  400 |         if ((code < 1134 || code > 1136) && pduel->game_field->infos.phase == PHASE_DAMAGE_CAL && !is_flag(EFFECT_FLAG_DAMAGE_CAL)) {
      |                                                                                                ^
src\puzzlepro_core/./effect.cc:400:26: note: +1
  400 |         if ((code < 1134 || code > 1136) && pduel->game_field->infos.phase == PHASE_DAMAGE_CAL && !is_flag(EFFECT_FLAG_DAMAGE_CAL)) {
      |                          ^
src\puzzlepro_core/./effect.cc:404:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  404 |       if (phandler->current.location == LOCATION_OVERLAY) {
      |       ^
src\puzzlepro_core/./effect.cc:407:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  407 |       if (phandler->current.location == LOCATION_DECK || pduel->game_field->core.duel_rule >= MASTER_RULE_2020 && phandler->current.location == LOCATION_EXTRA && (phandler->current.position & POS_FACEDOWN)) {
      |       ^
src\puzzlepro_core/./effect.cc:407:55: note: +1
  407 |       if (phandler->current.location == LOCATION_DECK || pduel->game_field->core.duel_rule >= MASTER_RULE_2020 && phandler->current.location == LOCATION_EXTRA && (phandler->current.position & POS_FACEDOWN)) {
      |                                                       ^
src\puzzlepro_core/./effect.cc:407:160: note: +1
  407 |       if (phandler->current.location == LOCATION_DECK || pduel->game_field->core.duel_rule >= MASTER_RULE_2020 && phandler->current.location == LOCATION_EXTRA && (phandler->current.position & POS_FACEDOWN)) {
      |                                                                                                                                                                ^
src\puzzlepro_core/./effect.cc:408:9: note: +4, including nesting penalty of 3, nesting level increased to 4
  408 |         if ((type & EFFECT_TYPE_SINGLE) && code != EVENT_TO_DECK) {
      |         ^
src\puzzlepro_core/./effect.cc:408:41: note: +1
  408 |         if ((type & EFFECT_TYPE_SINGLE) && code != EVENT_TO_DECK) {
      |                                         ^
src\puzzlepro_core/./effect.cc:411:9: note: +4, including nesting penalty of 3, nesting level increased to 4
  411 |         if ((type & EFFECT_TYPE_FIELD) && !(range & (LOCATION_DECK | LOCATION_EXTRA))) {
      |         ^
src\puzzlepro_core/./effect.cc:411:40: note: +1
  411 |         if ((type & EFFECT_TYPE_FIELD) && !(range & (LOCATION_DECK | LOCATION_EXTRA))) {
      |                                        ^
src\puzzlepro_core/./effect.cc:415:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  415 |       if (phandler->current.is_stzone() && (phandler->data.type & (TYPE_SPELL | TYPE_TRAP)) && phandler->is_affected_by_effect(EFFECT_CHANGE_TYPE)) {
      |       ^
src\puzzlepro_core/./effect.cc:415:93: note: +1
  415 |       if (phandler->current.is_stzone() && (phandler->data.type & (TYPE_SPELL | TYPE_TRAP)) && phandler->is_affected_by_effect(EFFECT_CHANGE_TYPE)) {
      |                                                                                             ^
src\puzzlepro_core/./effect.cc:418:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  418 |       if ((type & EFFECT_TYPE_FIELD) && (phandler->current.controler != playerid) && !is_flag(EFFECT_FLAG_BOTH_SIDE | EFFECT_FLAG_EVENT_PLAYER)) {
      |       ^
src\puzzlepro_core/./effect.cc:418:83: note: +1
  418 |       if ((type & EFFECT_TYPE_FIELD) && (phandler->current.controler != playerid) && !is_flag(EFFECT_FLAG_BOTH_SIDE | EFFECT_FLAG_EVENT_PLAYER)) {
      |                                                                                   ^
src\puzzlepro_core/./effect.cc:421:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  421 |       if (phandler->is_status(STATUS_FORBIDDEN)) {
      |       ^
src\puzzlepro_core/./effect.cc:424:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  424 |       if (phandler->is_affected_by_effect(EFFECT_CANNOT_TRIGGER)) {
      |       ^
src\puzzlepro_core/./effect.cc:428:5: note: +1, nesting level increased to 2
  428 |     else {
      |     ^
src\puzzlepro_core/./effect.cc:430:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  430 |       if ((type & EFFECT_TYPE_FIELD) && phandler->is_status(STATUS_BATTLE_DESTROYED)) {
      |       ^
src\puzzlepro_core/./effect.cc:430:38: note: +1
  430 |       if ((type & EFFECT_TYPE_FIELD) && phandler->is_status(STATUS_BATTLE_DESTROYED)) {
      |                                      ^
src\puzzlepro_core/./effect.cc:433:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  433 |       if (((type & EFFECT_TYPE_FIELD) || ((type & EFFECT_TYPE_SINGLE) && is_flag(EFFECT_FLAG_SINGLE_RANGE))) && (phandler->current.location & LOCATION_ONFIELD) && (!phandler->is_position(POS_FACEUP) || !phandler->is_status(STATUS_EFFECT_ENABLED))) {
      |       ^
src\puzzlepro_core/./effect.cc:433:161: note: +1
  433 |       if (((type & EFFECT_TYPE_FIELD) || ((type & EFFECT_TYPE_SINGLE) && is_flag(EFFECT_FLAG_SINGLE_RANGE))) && (phandler->current.location & LOCATION_ONFIELD) && (!phandler->is_position(POS_FACEUP) || !phandler->is_status(STATUS_EFFECT_ENABLED))) {
      |                                                                                                                                                                 ^
src\puzzlepro_core/./effect.cc:433:39: note: +1
  433 |       if (((type & EFFECT_TYPE_FIELD) || ((type & EFFECT_TYPE_SINGLE) && is_flag(EFFECT_FLAG_SINGLE_RANGE))) && (phandler->current.location & LOCATION_ONFIELD) && (!phandler->is_position(POS_FACEUP) || !phandler->is_status(STATUS_EFFECT_ENABLED))) {
      |                                       ^
src\puzzlepro_core/./effect.cc:433:71: note: +1
  433 |       if (((type & EFFECT_TYPE_FIELD) || ((type & EFFECT_TYPE_SINGLE) && is_flag(EFFECT_FLAG_SINGLE_RANGE))) && (phandler->current.location & LOCATION_ONFIELD) && (!phandler->is_position(POS_FACEUP) || !phandler->is_status(STATUS_EFFECT_ENABLED))) {
      |                                                                       ^
src\puzzlepro_core/./effect.cc:433:200: note: +1
  433 |       if (((type & EFFECT_TYPE_FIELD) || ((type & EFFECT_TYPE_SINGLE) && is_flag(EFFECT_FLAG_SINGLE_RANGE))) && (phandler->current.location & LOCATION_ONFIELD) && (!phandler->is_position(POS_FACEUP) || !phandler->is_status(STATUS_EFFECT_ENABLED))) {
      |                                                                                                                                                                                                        ^
src\puzzlepro_core/./effect.cc:436:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  436 |       if ((type & EFFECT_TYPE_SINGLE) && is_flag(EFFECT_FLAG_SINGLE_RANGE) && !in_range(phandler)) {
      |       ^
src\puzzlepro_core/./effect.cc:436:76: note: +1
  436 |       if ((type & EFFECT_TYPE_SINGLE) && is_flag(EFFECT_FLAG_SINGLE_RANGE) && !in_range(phandler)) {
      |                                                                            ^
src\puzzlepro_core/./effect.cc:439:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  439 |       if (is_flag(EFFECT_FLAG_OWNER_RELATE) && is_can_be_forbidden() && owner->is_status(STATUS_FORBIDDEN)) {
      |       ^
src\puzzlepro_core/./effect.cc:439:70: note: +1
  439 |       if (is_flag(EFFECT_FLAG_OWNER_RELATE) && is_can_be_forbidden() && owner->is_status(STATUS_FORBIDDEN)) {
      |                                                                      ^
src\puzzlepro_core/./effect.cc:442:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  442 |       if (phandler == owner && is_can_be_forbidden() && phandler->is_status(STATUS_FORBIDDEN)) {
      |       ^
src\puzzlepro_core/./effect.cc:442:54: note: +1
  442 |       if (phandler == owner && is_can_be_forbidden() && phandler->is_status(STATUS_FORBIDDEN)) {
      |                                                      ^
src\puzzlepro_core/./effect.cc:445:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  445 |       if (is_flag(EFFECT_FLAG_OWNER_RELATE) && !is_flag(EFFECT_FLAG_CANNOT_DISABLE) && owner->is_status(STATUS_DISABLED)) {
      |       ^
src\puzzlepro_core/./effect.cc:445:85: note: +1
  445 |       if (is_flag(EFFECT_FLAG_OWNER_RELATE) && !is_flag(EFFECT_FLAG_CANNOT_DISABLE) && owner->is_status(STATUS_DISABLED)) {
      |                                                                                     ^
src\puzzlepro_core/./effect.cc:448:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  448 |       if (phandler == owner && !is_flag(EFFECT_FLAG_CANNOT_DISABLE) && phandler->is_status(STATUS_DISABLED)) {
      |       ^
src\puzzlepro_core/./effect.cc:448:69: note: +1
  448 |       if (phandler == owner && !is_flag(EFFECT_FLAG_CANNOT_DISABLE) && phandler->is_status(STATUS_DISABLED)) {
      |                                                                     ^
src\puzzlepro_core/./effect.cc:453:3: note: +1, nesting level increased to 1
  453 |   else {
      |   ^
src\puzzlepro_core/./effect.cc:454:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  454 |     if ((get_owner_player() != playerid) && !is_flag(EFFECT_FLAG_BOTH_SIDE)) {
      |     ^
src\puzzlepro_core/./effect.cc:454:42: note: +1
  454 |     if ((get_owner_player() != playerid) && !is_flag(EFFECT_FLAG_BOTH_SIDE)) {
      |                                          ^
src\puzzlepro_core/./effect.cc:464:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  464 |   if (!(type & EFFECT_TYPE_CONTINUOUS)) {
      |   ^
src\puzzlepro_core/./effect.cc:467:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  467 |   if (result) {
      |   ^
src\puzzlepro_core/./effect.cc:612:17: warning: function 'is_target' has cognitive complexity of 39 (threshold 25) [readability-function-cognitive-complexity]
  612 | int32_t effect::is_target(card *pcard) {
      |                 ^
src\puzzlepro_core/./effect.cc:613:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  613 |   if (type & EFFECT_TYPE_ACTIONS) {
      |   ^
src\puzzlepro_core/./effect.cc:616:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  616 |   if (type & (EFFECT_TYPE_SINGLE | EFFECT_TYPE_EQUIP | EFFECT_TYPE_XMATERIAL) && !(type & EFFECT_TYPE_FIELD)) {
      |   ^
src\puzzlepro_core/./effect.cc:616:79: note: +1
  616 |   if (type & (EFFECT_TYPE_SINGLE | EFFECT_TYPE_EQUIP | EFFECT_TYPE_XMATERIAL) && !(type & EFFECT_TYPE_FIELD)) {
      |                                                                               ^
src\puzzlepro_core/./effect.cc:619:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  619 |   if ((type & EFFECT_TYPE_TARGET) && !(type & EFFECT_TYPE_FIELD)) {
      |   ^
src\puzzlepro_core/./effect.cc:619:35: note: +1
  619 |   if ((type & EFFECT_TYPE_TARGET) && !(type & EFFECT_TYPE_FIELD)) {
      |                                   ^
src\puzzlepro_core/./effect.cc:622:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  622 |   if (!is_flag(EFFECT_FLAG_SET_AVAILABLE) && (pcard->current.location & LOCATION_ONFIELD) && !pcard->is_position(POS_FACEUP)) {
      |   ^
src\puzzlepro_core/./effect.cc:622:91: note: +1
  622 |   if (!is_flag(EFFECT_FLAG_SET_AVAILABLE) && (pcard->current.location & LOCATION_ONFIELD) && !pcard->is_position(POS_FACEUP)) {
      |                                                                                           ^
src\puzzlepro_core/./effect.cc:625:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  625 |   if (!is_flag(EFFECT_FLAG_IGNORE_RANGE)) {
      |   ^
src\puzzlepro_core/./effect.cc:626:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  626 |     if (pcard->is_treated_as_not_on_field()) {
      |     ^
src\puzzlepro_core/./effect.cc:629:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  629 |     if (is_flag(EFFECT_FLAG_SPSUM_PARAM)) {
      |     ^
src\puzzlepro_core/./effect.cc:632:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  632 |     if (is_flag(EFFECT_FLAG_ABSOLUTE_TARGET)) {
      |     ^
src\puzzlepro_core/./effect.cc:633:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  633 |       if (pcard->current.controler == 0) {
      |       ^
src\puzzlepro_core/./effect.cc:634:9: note: +4, including nesting penalty of 3, nesting level increased to 4
  634 |         if (!pcard->current.is_location(s_range)) {
      |         ^
src\puzzlepro_core/./effect.cc:638:7: note: +1, nesting level increased to 3
  638 |       else {
      |       ^
src\puzzlepro_core/./effect.cc:639:9: note: +4, including nesting penalty of 3, nesting level increased to 4
  639 |         if (!pcard->current.is_location(o_range)) {
      |         ^
src\puzzlepro_core/./effect.cc:644:5: note: +1, nesting level increased to 2
  644 |     else {
      |     ^
src\puzzlepro_core/./effect.cc:645:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  645 |       if (pcard->current.controler == get_handler_player()) {
      |       ^
src\puzzlepro_core/./effect.cc:646:9: note: +4, including nesting penalty of 3, nesting level increased to 4
  646 |         if (!pcard->current.is_location(s_range)) {
      |         ^
src\puzzlepro_core/./effect.cc:650:7: note: +1, nesting level increased to 3
  650 |       else {
      |       ^
src\puzzlepro_core/./effect.cc:651:9: note: +4, including nesting penalty of 3, nesting level increased to 4
  651 |         if (!pcard->current.is_location(o_range)) {
      |         ^
src\puzzlepro_core/./field.cc:116:13: warning: function 'add_card' has cognitive complexity of 32 (threshold 25) [readability-function-cognitive-complexity]
  116 | void field::add_card(uint8_t playerid, card *pcard, uint8_t location, uint8_t sequence, uint8_t pzone) {
      |             ^
src\puzzlepro_core/./field.cc:117:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  117 |   if (pcard->current.location != 0) {
      |   ^
src\puzzlepro_core/./field.cc:120:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  120 |   if (!is_location_useable(playerid, location, sequence)) {
      |   ^
src\puzzlepro_core/./field.cc:123:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  123 |   if (pcard->is_extra_deck_monster() && (location & (LOCATION_HAND | LOCATION_DECK))) {
      |   ^
src\puzzlepro_core/./field.cc:123:38: note: +1
  123 |   if (pcard->is_extra_deck_monster() && (location & (LOCATION_HAND | LOCATION_DECK))) {
      |                                      ^
src\puzzlepro_core/./field.cc:129:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  129 |   switch (location) {
      |   ^
src\puzzlepro_core/./field.cc:141:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  141 |       if (sequence == SEQ_DECKTOP) {
      |       ^
src\puzzlepro_core/./field.cc:145:12: note: +1, nesting level increased to 2
  145 |       else if (sequence == SEQ_DECKBOTTOM) {
      |            ^
src\puzzlepro_core/./field.cc:149:7: note: +1, nesting level increased to 2
  149 |       else { // SEQ_DECKSHUFFLE
      |       ^
src\puzzlepro_core/./field.cc:150:9: note: +3, including nesting penalty of 2, nesting level increased to 3
  150 |         if (core.duel_options & DUEL_RETURN_DECK_TOP) {
      |         ^
src\puzzlepro_core/./field.cc:154:9: note: +1, nesting level increased to 3
  154 |         else {
      |         ^
src\puzzlepro_core/./field.cc:158:9: note: +3, including nesting penalty of 2, nesting level increased to 3
  158 |         if (!core.shuffle_check_disabled) {
      |         ^
src\puzzlepro_core/./field.cc:168:66: note: +2, including nesting penalty of 1, nesting level increased to 2
  168 |       uint32_t pos = pcard->is_affected_by_effect(EFFECT_PUBLIC) ? POS_FACEUP : POS_FACEDOWN;
      |                                                                  ^
src\puzzlepro_core/./field.cc:170:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  170 |       if (!(pcard->current.reason & REASON_DRAW) && !core.shuffle_check_disabled) {
      |       ^
src\puzzlepro_core/./field.cc:170:50: note: +1
  170 |       if (!(pcard->current.reason & REASON_DRAW) && !core.shuffle_check_disabled) {
      |                                                  ^
src\puzzlepro_core/./field.cc:186:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  186 |       if (player[playerid].extra_p_count == 0 || (pcard->data.type & TYPE_PENDULUM) && (pcard->sendto_param.position & POS_FACEUP)) {
      |       ^
src\puzzlepro_core/./field.cc:186:47: note: +1
  186 |       if (player[playerid].extra_p_count == 0 || (pcard->data.type & TYPE_PENDULUM) && (pcard->sendto_param.position & POS_FACEUP)) {
      |                                               ^
src\puzzlepro_core/./field.cc:186:85: note: +1
  186 |       if (player[playerid].extra_p_count == 0 || (pcard->data.type & TYPE_PENDULUM) && (pcard->sendto_param.position & POS_FACEUP)) {
      |                                                                                     ^
src\puzzlepro_core/./field.cc:189:7: note: +1, nesting level increased to 2
  189 |       else {
      |       ^
src\puzzlepro_core/./field.cc:192:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  192 |       if ((pcard->data.type & TYPE_PENDULUM) && (pcard->sendto_param.position & POS_FACEUP)) {
      |       ^
src\puzzlepro_core/./field.cc:192:46: note: +1
  192 |       if ((pcard->data.type & TYPE_PENDULUM) && (pcard->sendto_param.position & POS_FACEUP)) {
      |                                              ^
src\puzzlepro_core/./field.cc:199:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  199 |   if (pzone) {
      |   ^
src\puzzlepro_core/./field.cc:202:3: note: +1, nesting level increased to 1
  202 |   else {
      |   ^
src\puzzlepro_core/./field.cc:209:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  209 |   if (check_unique_onfield(pcard, pcard->current.controler, pcard->current.location)) {
      |   ^
src\puzzlepro_core/./field.cc:200:28: warning: redundant boolean literal in conditional assignment [readability-simplify-boolean-expr]
  199 |   if (pzone) {
      |   ~~~~~~~~~~~~
      |   pcard->current.pzone = pzone != 0;
  200 |     pcard->current.pzone = true;
      |     ~~~~~~~~~~~~~~~~~~~~~~~^~~~~
  201 |   }
      |   ~
  202 |   else {
      |   ~~~~~~
  203 |     pcard->current.pzone = false;
      |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  204 |   }
      |   ~
src\puzzlepro_core/./field.cc:268:13: warning: function 'move_card' has cognitive complexity of 107 (threshold 25) [readability-function-cognitive-complexity]
  268 | void field::move_card(uint8_t playerid, card *pcard, uint8_t location, uint8_t sequence, uint8_t pzone) {
      |             ^
src\puzzlepro_core/./field.cc:269:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  269 |   if (!is_location_useable(playerid, location, sequence)) {
      |   ^
src\puzzlepro_core/./field.cc:274:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  274 |   if (pcard->is_extra_deck_monster() && (location & (LOCATION_HAND | LOCATION_DECK))) {
      |   ^
src\puzzlepro_core/./field.cc:274:38: note: +1
  274 |   if (pcard->is_extra_deck_monster() && (location & (LOCATION_HAND | LOCATION_DECK))) {
      |                                      ^
src\puzzlepro_core/./field.cc:278:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  278 |   if (pcard->current.location) {
      |   ^
src\puzzlepro_core/./field.cc:279:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  279 |     if (pcard->current.location == location && pcard->current.pzone == !!pzone) {
      |     ^
src\puzzlepro_core/./field.cc:279:45: note: +1
  279 |     if (pcard->current.location == location && pcard->current.pzone == !!pzone) {
      |                                             ^
src\puzzlepro_core/./field.cc:280:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  280 |       if (pcard->current.location == LOCATION_DECK) {
      |       ^
src\puzzlepro_core/./field.cc:281:9: note: +4, including nesting penalty of 3, nesting level increased to 4
  281 |         if (preplayer == playerid) {
      |         ^
src\puzzlepro_core/./field.cc:286:11: note: +5, including nesting penalty of 4, nesting level increased to 5
  286 |           if (sequence == SEQ_DECKTOP) {
      |           ^
src\puzzlepro_core/./field.cc:289:16: note: +1, nesting level increased to 5
  289 |           else if (sequence == SEQ_DECKBOTTOM) {
      |                ^
src\puzzlepro_core/./field.cc:292:11: note: +1, nesting level increased to 5
  292 |           else { // SEQ_DECKSHUFFLE
      |           ^
src\puzzlepro_core/./field.cc:293:13: note: +6, including nesting penalty of 5, nesting level increased to 6
  293 |             if (core.duel_options & DUEL_RETURN_DECK_TOP) {
      |             ^
src\puzzlepro_core/./field.cc:296:13: note: +1, nesting level increased to 6
  296 |             else {
      |             ^
src\puzzlepro_core/./field.cc:299:13: note: +6, including nesting penalty of 5, nesting level increased to 6
  299 |             if (!core.shuffle_check_disabled) {
      |             ^
src\puzzlepro_core/./field.cc:310:9: note: +1, nesting level increased to 4
  310 |         else {
      |         ^
src\puzzlepro_core/./field.cc:314:12: note: +1, nesting level increased to 3
  314 |       else if (location & LOCATION_ONFIELD) {
      |            ^
src\puzzlepro_core/./field.cc:315:9: note: +4, including nesting penalty of 3, nesting level increased to 4
  315 |         if (playerid == preplayer && sequence == presequence) {
      |         ^
src\puzzlepro_core/./field.cc:315:35: note: +1
  315 |         if (playerid == preplayer && sequence == presequence) {
      |                                   ^
src\puzzlepro_core/./field.cc:318:9: note: +4, including nesting penalty of 3, nesting level increased to 4
  318 |         if (location == LOCATION_MZONE) {
      |         ^
src\puzzlepro_core/./field.cc:319:11: note: +5, including nesting penalty of 4, nesting level increased to 5
  319 |           if (sequence >= (int32_t)player[playerid].list_mzone.size() || player[playerid].list_mzone[sequence]) {
      |           ^
src\puzzlepro_core/./field.cc:319:71: note: +1
  319 |           if (sequence >= (int32_t)player[playerid].list_mzone.size() || player[playerid].list_mzone[sequence]) {
      |                                                                       ^
src\puzzlepro_core/./field.cc:323:9: note: +1, nesting level increased to 4
  323 |         else {
      |         ^
src\puzzlepro_core/./field.cc:324:11: note: +5, including nesting penalty of 4, nesting level increased to 5
  324 |           if (sequence >= player[playerid].szone_size || player[playerid].list_szone[sequence]) {
      |           ^
src\puzzlepro_core/./field.cc:324:55: note: +1
  324 |           if (sequence >= player[playerid].szone_size || player[playerid].list_szone[sequence]) {
      |                                                       ^
src\puzzlepro_core/./field.cc:328:9: note: +4, including nesting penalty of 3, nesting level increased to 4
  328 |         if (preplayer == playerid) {
      |         ^
src\puzzlepro_core/./field.cc:338:9: note: +4, including nesting penalty of 3, nesting level increased to 4
  338 |         if (location == LOCATION_MZONE) {
      |         ^
src\puzzlepro_core/./field.cc:344:9: note: +1, nesting level increased to 4
  344 |         else {
      |         ^
src\puzzlepro_core/./field.cc:350:9: note: +4, including nesting penalty of 3, nesting level increased to 4
  350 |         if (preplayer == playerid) {
      |         ^
src\puzzlepro_core/./field.cc:355:9: note: +1, nesting level increased to 4
  355 |         else {
      |         ^
src\puzzlepro_core/./field.cc:359:11: note: +5, including nesting penalty of 4, nesting level increased to 5
  359 |           if (check_unique_onfield(pcard, pcard->current.controler, pcard->current.location)) {
      |           ^
src\puzzlepro_core/./field.cc:365:12: note: +1, nesting level increased to 3
  365 |       else if (location == LOCATION_HAND) {
      |            ^
src\puzzlepro_core/./field.cc:366:9: note: +4, including nesting penalty of 3, nesting level increased to 4
  366 |         if (preplayer == playerid) {
      |         ^
src\puzzlepro_core/./field.cc:371:7: note: +1, nesting level increased to 3
  371 |       else {
      |       ^
src\puzzlepro_core/./field.cc:372:9: note: +4, including nesting penalty of 3, nesting level increased to 4
  372 |         if (location == LOCATION_GRAVE) {
      |         ^
src\puzzlepro_core/./field.cc:373:11: note: +5, including nesting penalty of 4, nesting level increased to 5
  373 |           if (pcard->current.sequence == player[pcard->current.controler].list_grave.size() - 1) {
      |           ^
src\puzzlepro_core/./field.cc:385:14: note: +1, nesting level increased to 4
  385 |         else if (location == LOCATION_REMOVED) {
      |              ^
src\puzzlepro_core/./field.cc:386:11: note: +5, including nesting penalty of 4, nesting level increased to 5
  386 |           if (pcard->current.sequence == player[pcard->current.controler].list_remove.size() - 1) {
      |           ^
src\puzzlepro_core/./field.cc:398:9: note: +1, nesting level increased to 4
  398 |         else {
      |         ^
src\puzzlepro_core/./field.cc:411:5: note: +1, nesting level increased to 2
  411 |     else {
      |     ^
src\puzzlepro_core/./field.cc:412:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  412 |       if ((pcard->data.type & TYPE_PENDULUM) && (location == LOCATION_GRAVE) && pcard->is_capable_send_to_extra(playerid) && (((pcard->current.location == LOCATION_MZONE) && !pcard->is_status(STATUS_SUMMON_DISABLED)) || ((pcard->current.location == LOCATION_SZONE) && !pcard->is_status(STATUS_ACTIVATE_DISABLED)))) {
      |       ^
src\puzzlepro_core/./field.cc:412:123: note: +1
  412 |       if ((pcard->data.type & TYPE_PENDULUM) && (location == LOCATION_GRAVE) && pcard->is_capable_send_to_extra(playerid) && (((pcard->current.location == LOCATION_MZONE) && !pcard->is_status(STATUS_SUMMON_DISABLED)) || ((pcard->current.location == LOCATION_SZONE) && !pcard->is_status(STATUS_ACTIVATE_DISABLED)))) {
      |                                                                                                                           ^
src\puzzlepro_core/./field.cc:412:218: note: +1
  412 |       if ((pcard->data.type & TYPE_PENDULUM) && (location == LOCATION_GRAVE) && pcard->is_capable_send_to_extra(playerid) && (((pcard->current.location == LOCATION_MZONE) && !pcard->is_status(STATUS_SUMMON_DISABLED)) || ((pcard->current.location == LOCATION_SZONE) && !pcard->is_status(STATUS_ACTIVATE_DISABLED)))) {
      |                                                                                                                                                                                                                          ^
src\puzzlepro_core/./field.cc:412:172: note: +1
  412 |       if ((pcard->data.type & TYPE_PENDULUM) && (location == LOCATION_GRAVE) && pcard->is_capable_send_to_extra(playerid) && (((pcard->current.location == LOCATION_MZONE) && !pcard->is_status(STATUS_SUMMON_DISABLED)) || ((pcard->current.location == LOCATION_SZONE) && !pcard->is_status(STATUS_ACTIVATE_DISABLED)))) {
      |                                                                                                                                                                            ^
src\puzzlepro_core/./field.cc:412:266: note: +1
  412 |       if ((pcard->data.type & TYPE_PENDULUM) && (location == LOCATION_GRAVE) && pcard->is_capable_send_to_extra(playerid) && (((pcard->current.location == LOCATION_MZONE) && !pcard->is_status(STATUS_SUMMON_DISABLED)) || ((pcard->current.location == LOCATION_SZONE) && !pcard->is_status(STATUS_ACTIVATE_DISABLED)))) {
      |                                                                                                                                                                                                                                                                          ^
src\puzzlepro_core/./field.cc:422:13: warning: function 'swap_card' has cognitive complexity of 26 (threshold 25) [readability-function-cognitive-complexity]
  422 | void field::swap_card(card *pcard1, card *pcard2, uint8_t new_sequence1, uint8_t new_sequence2) {
      |             ^
src\puzzlepro_core/./field.cc:427:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  427 |   if (!(l1 & LOCATION_ONFIELD) || !(l2 & LOCATION_ONFIELD)) {
      |   ^
src\puzzlepro_core/./field.cc:427:32: note: +1
  427 |   if (!(l1 & LOCATION_ONFIELD) || !(l2 & LOCATION_ONFIELD)) {
      |                                ^
src\puzzlepro_core/./field.cc:430:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  430 |   if (new_sequence1 != s1 && !is_location_useable(p1, l1, new_sequence1) || new_sequence2 != s2 && !is_location_useable(p2, l2, new_sequence2)) {
      |   ^
src\puzzlepro_core/./field.cc:430:74: note: +1
  430 |   if (new_sequence1 != s1 && !is_location_useable(p1, l1, new_sequence1) || new_sequence2 != s2 && !is_location_useable(p2, l2, new_sequence2)) {
      |                                                                          ^
src\puzzlepro_core/./field.cc:430:27: note: +1
  430 |   if (new_sequence1 != s1 && !is_location_useable(p1, l1, new_sequence1) || new_sequence2 != s2 && !is_location_useable(p2, l2, new_sequence2)) {
      |                           ^
src\puzzlepro_core/./field.cc:430:97: note: +1
  430 |   if (new_sequence1 != s1 && !is_location_useable(p1, l1, new_sequence1) || new_sequence2 != s2 && !is_location_useable(p2, l2, new_sequence2)) {
      |                                                                                                 ^
src\puzzlepro_core/./field.cc:433:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  433 |   if (p1 == p2 && l1 == l2 && (new_sequence1 == s2 || new_sequence2 == s1)) {
      |   ^
src\puzzlepro_core/./field.cc:433:28: note: +1
  433 |   if (p1 == p2 && l1 == l2 && (new_sequence1 == s2 || new_sequence2 == s1)) {
      |                            ^
src\puzzlepro_core/./field.cc:433:52: note: +1
  433 |   if (p1 == p2 && l1 == l2 && (new_sequence1 == s2 || new_sequence2 == s1)) {
      |                                                    ^
src\puzzlepro_core/./field.cc:436:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  436 |   if (l1 == l2) {
      |   ^
src\puzzlepro_core/./field.cc:453:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  453 |     if (p1 != p2) {
      |     ^
src\puzzlepro_core/./field.cc:456:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  456 |       if (check_unique_onfield(pcard1, pcard1->current.controler, pcard1->current.location)) {
      |       ^
src\puzzlepro_core/./field.cc:459:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  459 |       if (check_unique_onfield(pcard2, pcard2->current.controler, pcard2->current.location)) {
      |       ^
src\puzzlepro_core/./field.cc:463:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  463 |     if (l1 == LOCATION_MZONE) {
      |     ^
src\puzzlepro_core/./field.cc:471:10: note: +1, nesting level increased to 2
  471 |     else if (l1 == LOCATION_SZONE) {
      |          ^
src\puzzlepro_core/./field.cc:480:3: note: +1, nesting level increased to 1
  480 |   else {
      |   ^
src\puzzlepro_core/./field.cc:486:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  486 |   if (s1 == new_sequence1 && s2 == new_sequence2) {
      |   ^
src\puzzlepro_core/./field.cc:486:27: note: +1
  486 |   if (s1 == new_sequence1 && s2 == new_sequence2) {
      |                           ^
src\puzzlepro_core/./field.cc:493:8: note: +1, nesting level increased to 1
  493 |   else if (s1 == new_sequence1) {
      |        ^
src\puzzlepro_core/./field.cc:505:3: note: +1, nesting level increased to 1
  505 |   else {
      |   ^
src\puzzlepro_core/./field.cc:570:14: warning: function 'get_field_card' has cognitive complexity of 34 (threshold 25) [readability-function-cognitive-complexity]
  570 | card *field::get_field_card(uint8_t playerid, uint32_t general_location, uint8_t sequence) const {
      |              ^
src\puzzlepro_core/./field.cc:571:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  571 |   if (!check_playerid(playerid)) {
      |   ^
src\puzzlepro_core/./field.cc:574:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  574 |   switch (general_location) {
      |   ^
src\puzzlepro_core/./field.cc:576:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  576 |       if (sequence < (int32_t)player[playerid].list_mzone.size()) {
      |       ^
src\puzzlepro_core/./field.cc:579:7: note: +1, nesting level increased to 2
  579 |       else {
      |       ^
src\puzzlepro_core/./field.cc:585:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  585 |       if (sequence < player[playerid].szone_size) {
      |       ^
src\puzzlepro_core/./field.cc:588:7: note: +1, nesting level increased to 2
  588 |       else {
      |       ^
src\puzzlepro_core/./field.cc:594:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  594 |       if (sequence == 0) {
      |       ^
src\puzzlepro_core/./field.cc:597:7: note: +1, nesting level increased to 2
  597 |       else {
      |       ^
src\puzzlepro_core/./field.cc:603:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  603 |       if (sequence == 0 || sequence == 1) {
      |       ^
src\puzzlepro_core/./field.cc:603:25: note: +1
  603 |       if (sequence == 0 || sequence == 1) {
      |                         ^
src\puzzlepro_core/./field.cc:605:48: note: +3, including nesting penalty of 2, nesting level increased to 3
  605 |         return (pcard && pcard->current.pzone) ? pcard : nullptr;
      |                                                ^
src\puzzlepro_core/./field.cc:605:23: note: +1
  605 |         return (pcard && pcard->current.pzone) ? pcard : nullptr;
      |                       ^
src\puzzlepro_core/./field.cc:607:7: note: +1, nesting level increased to 2
  607 |       else {
      |       ^
src\puzzlepro_core/./field.cc:613:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  613 |       if (sequence < player[playerid].list_main.size()) {
      |       ^
src\puzzlepro_core/./field.cc:616:7: note: +1, nesting level increased to 2
  616 |       else {
      |       ^
src\puzzlepro_core/./field.cc:622:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  622 |       if (sequence < player[playerid].list_hand.size()) {
      |       ^
src\puzzlepro_core/./field.cc:625:7: note: +1, nesting level increased to 2
  625 |       else {
      |       ^
src\puzzlepro_core/./field.cc:631:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  631 |       if (sequence < player[playerid].list_grave.size()) {
      |       ^
src\puzzlepro_core/./field.cc:634:7: note: +1, nesting level increased to 2
  634 |       else {
      |       ^
src\puzzlepro_core/./field.cc:640:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  640 |       if (sequence < player[playerid].list_remove.size()) {
      |       ^
src\puzzlepro_core/./field.cc:643:7: note: +1, nesting level increased to 2
  643 |       else {
      |       ^
src\puzzlepro_core/./field.cc:649:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  649 |       if (sequence < player[playerid].list_extra.size()) {
      |       ^
src\puzzlepro_core/./field.cc:652:7: note: +1, nesting level increased to 2
  652 |       else {
      |       ^
src\puzzlepro_core/./field.cc:661:16: warning: function 'is_location_useable' has cognitive complexity of 26 (threshold 25) [readability-function-cognitive-complexity]
  661 | int32_t field::is_location_useable(uint8_t playerid, uint32_t general_location, uint8_t sequence) const {
      |                ^
src\puzzlepro_core/./field.cc:662:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  662 |   if (!check_playerid(playerid)) {
      |   ^
src\puzzlepro_core/./field.cc:666:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  666 |   if (general_location == LOCATION_MZONE) {
      |   ^
src\puzzlepro_core/./field.cc:667:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  667 |     if (sequence >= (int32_t)player[playerid].list_mzone.size()) {
      |     ^
src\puzzlepro_core/./field.cc:670:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  670 |     if (flag & (0x1U << sequence)) {
      |     ^
src\puzzlepro_core/./field.cc:673:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  673 |     if (sequence >= 5) {
      |     ^
src\puzzlepro_core/./field.cc:675:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  675 |       if (oppo & (0x1U << (11 - sequence))) {
      |       ^
src\puzzlepro_core/./field.cc:680:8: note: +1, nesting level increased to 1
  680 |   else if (general_location == LOCATION_SZONE) {
      |        ^
src\puzzlepro_core/./field.cc:681:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  681 |     if (sequence >= player[playerid].szone_size) {
      |     ^
src\puzzlepro_core/./field.cc:684:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  684 |     if (flag & (0x100U << sequence)) {
      |     ^
src\puzzlepro_core/./field.cc:688:8: note: +1, nesting level increased to 1
  688 |   else if (general_location == LOCATION_FZONE) {
      |        ^
src\puzzlepro_core/./field.cc:689:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  689 |     if (sequence >= 1) {
      |     ^
src\puzzlepro_core/./field.cc:692:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  692 |     if (flag & (0x100U << (5 + sequence))) {
      |     ^
src\puzzlepro_core/./field.cc:696:8: note: +1, nesting level increased to 1
  696 |   else if (general_location == LOCATION_PZONE) {
      |        ^
src\puzzlepro_core/./field.cc:697:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  697 |     if (sequence >= 2) {
      |     ^
src\puzzlepro_core/./field.cc:700:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  700 |     if (flag & (0x100U << get_pzone_sequence(sequence))) {
      |     ^
src\puzzlepro_core/./field.cc:1107:13: warning: function 'shuffle' has cognitive complexity of 56 (threshold 25) [readability-function-cognitive-complexity]
 1107 | void field::shuffle(uint8_t playerid, uint8_t location) {
      |             ^
src\puzzlepro_core/./field.cc:1108:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1108 |   if (!(location & (LOCATION_HAND | LOCATION_DECK | LOCATION_EXTRA))) {
      |   ^
src\puzzlepro_core/./field.cc:1111:54: note: +1, including nesting penalty of 0, nesting level increased to 1
 1111 |   card_vector &svector = (location == LOCATION_HAND) ? player[playerid].list_hand : (location == LOCATION_DECK) ? player[playerid].list_main : player[playerid].list_extra;
      |                                                      ^
src\puzzlepro_core/./field.cc:1111:113: note: +2, including nesting penalty of 1, nesting level increased to 2
 1111 |   card_vector &svector = (location == LOCATION_HAND) ? player[playerid].list_hand : (location == LOCATION_DECK) ? player[playerid].list_main : player[playerid].list_extra;
      |                                                                                                                 ^
src\puzzlepro_core/./field.cc:1112:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1112 |   if (svector.size() == 0) {
      |   ^
src\puzzlepro_core/./field.cc:1115:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1115 |   if (location == LOCATION_HAND) {
      |   ^
src\puzzlepro_core/./field.cc:1117:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1117 |     for (auto &pcard : svector) {
      |     ^
src\puzzlepro_core/./field.cc:1118:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 1118 |       if (!pcard->is_position(POS_FACEUP)) {
      |       ^
src\puzzlepro_core/./field.cc:1122:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1122 |     if (!shuffle) {
      |     ^
src\puzzlepro_core/./field.cc:1127:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1127 |   if (location == LOCATION_HAND || !(core.duel_options & DUEL_PSEUDO_SHUFFLE)) {
      |   ^
src\puzzlepro_core/./field.cc:1127:33: note: +1
 1127 |   if (location == LOCATION_HAND || !(core.duel_options & DUEL_PSEUDO_SHUFFLE)) {
      |                                 ^
src\puzzlepro_core/./field.cc:1129:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1129 |     if (location == LOCATION_EXTRA) {
      |     ^
src\puzzlepro_core/./field.cc:1132:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1132 |     if (s > 1) {
      |     ^
src\puzzlepro_core/./field.cc:1133:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 1133 |       if (core.duel_options & DUEL_OLD_REPLAY) {
      |       ^
src\puzzlepro_core/./field.cc:1136:7: note: +1, nesting level increased to 3
 1136 |       else {
      |       ^
src\puzzlepro_core/./field.cc:1142:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1142 |   if (location == LOCATION_HAND || location == LOCATION_EXTRA) {
      |   ^
src\puzzlepro_core/./field.cc:1142:33: note: +1
 1142 |   if (location == LOCATION_HAND || location == LOCATION_EXTRA) {
      |                                 ^
src\puzzlepro_core/./field.cc:1143:54: note: +2, including nesting penalty of 1, nesting level increased to 2
 1143 |     pduel->write_buffer8((location == LOCATION_HAND) ? MSG_SHUFFLE_HAND : MSG_SHUFFLE_EXTRA);
      |                                                      ^
src\puzzlepro_core/./field.cc:1146:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1146 |     for (auto &pcard : svector) {
      |     ^
src\puzzlepro_core/./field.cc:1149:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1149 |     if (location == LOCATION_HAND) {
      |     ^
src\puzzlepro_core/./field.cc:1151:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 1151 |       for (auto &pcard : svector) {
      |       ^
src\puzzlepro_core/./field.cc:1152:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 1152 |         for (auto &i : pcard->indexer) {
      |         ^
src\puzzlepro_core/./field.cc:1154:11: note: +5, including nesting penalty of 4, nesting level increased to 5
 1154 |           if (peffect->is_flag(EFFECT_FLAG_CLIENT_HINT) && !peffect->is_flag(EFFECT_FLAG_PLAYER_TARGET)) {
      |           ^
src\puzzlepro_core/./field.cc:1154:57: note: +1
 1154 |           if (peffect->is_flag(EFFECT_FLAG_CLIENT_HINT) && !peffect->is_flag(EFFECT_FLAG_PLAYER_TARGET)) {
      |                                                         ^
src\puzzlepro_core/./field.cc:1164:3: note: +1, nesting level increased to 1
 1164 |   else {
      |   ^
src\puzzlepro_core/./field.cc:1168:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1168 |     if (core.global_flag & GLOBALFLAG_DECK_REVERSE_CHECK) {
      |     ^
src\puzzlepro_core/./field.cc:1170:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 1170 |       if (core.deck_reversed || (ptop->current.position == POS_FACEUP_DEFENSE)) {
      |       ^
src\puzzlepro_core/./field.cc:1170:30: note: +1
 1170 |       if (core.deck_reversed || (ptop->current.position == POS_FACEUP_DEFENSE)) {
      |                              ^
src\puzzlepro_core/./field.cc:1174:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 1174 |         if (ptop->current.position != POS_FACEUP_DEFENSE) {
      |         ^
src\puzzlepro_core/./field.cc:1177:9: note: +1, nesting level increased to 4
 1177 |         else {
      |         ^
src\puzzlepro_core/./field.cc:1366:13: warning: function 'add_effect' has cognitive complexity of 44 (threshold 25) [readability-function-cognitive-complexity]
 1366 | void field::add_effect(effect *peffect, uint8_t owner_player) {
      |             ^
src\puzzlepro_core/./field.cc:1367:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1367 |   if (!peffect) {
      |   ^
src\puzzlepro_core/./field.cc:1370:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1370 |   if (effects.indexer.find(peffect) != effects.indexer.end()) {
      |   ^
src\puzzlepro_core/./field.cc:1374:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1374 |   if (!(peffect->type & EFFECT_TYPE_ACTIONS)) {
      |   ^
src\puzzlepro_core/./field.cc:1376:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1376 |     if (peffect->code == EFFECT_SPSUMMON_COUNT_LIMIT) {
      |     ^
src\puzzlepro_core/./field.cc:1379:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1379 |     if (peffect->type & EFFECT_TYPE_GRANT) {
      |     ^
src\puzzlepro_core/./field.cc:1383:3: note: +1, nesting level increased to 1
 1383 |   else {
      |   ^
src\puzzlepro_core/./field.cc:1384:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1384 |     if (peffect->type & EFFECT_TYPE_IGNITION) {
      |     ^
src\puzzlepro_core/./field.cc:1387:10: note: +1, nesting level increased to 2
 1387 |     else if (peffect->type & EFFECT_TYPE_TRIGGER_O) {
      |          ^
src\puzzlepro_core/./field.cc:1390:10: note: +1, nesting level increased to 2
 1390 |     else if (peffect->type & EFFECT_TYPE_TRIGGER_F) {
      |          ^
src\puzzlepro_core/./field.cc:1393:10: note: +1, nesting level increased to 2
 1393 |     else if (peffect->type & EFFECT_TYPE_QUICK_O) {
      |          ^
src\puzzlepro_core/./field.cc:1396:10: note: +1, nesting level increased to 2
 1396 |     else if (peffect->type & EFFECT_TYPE_QUICK_F) {
      |          ^
src\puzzlepro_core/./field.cc:1399:10: note: +1, nesting level increased to 2
 1399 |     else if (peffect->type & EFFECT_TYPE_ACTIVATE) {
      |          ^
src\puzzlepro_core/./field.cc:1402:10: note: +1, nesting level increased to 2
 1402 |     else if (peffect->type & EFFECT_TYPE_CONTINUOUS) {
      |          ^
src\puzzlepro_core/./field.cc:1405:5: note: +1, nesting level increased to 2
 1405 |     else {
      |     ^
src\puzzlepro_core/./field.cc:1409:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1409 |   if (!peffect->handler) {
      |   ^
src\puzzlepro_core/./field.cc:1417:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1417 |   if (peffect->is_flag(EFFECT_FLAG_FIELD_ONLY)) {
      |   ^
src\puzzlepro_core/./field.cc:1418:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1418 |     if (peffect->is_disable_related()) {
      |     ^
src\puzzlepro_core/./field.cc:1421:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1421 |     if (peffect->is_flag(EFFECT_FLAG_OATH)) {
      |     ^
src\puzzlepro_core/./field.cc:1424:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1424 |     if (peffect->reset_flag & RESET_PHASE) {
      |     ^
src\puzzlepro_core/./field.cc:1427:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1427 |     if (peffect->reset_flag & RESET_CHAIN) {
      |     ^
src\puzzlepro_core/./field.cc:1430:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1430 |     if (peffect->is_flag(EFFECT_FLAG_COUNT_LIMIT)) {
      |     ^
src\puzzlepro_core/./field.cc:1433:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1433 |     if (peffect->is_flag(EFFECT_FLAG_PLAYER_TARGET) && peffect->is_flag(EFFECT_FLAG_CLIENT_HINT)) {
      |     ^
src\puzzlepro_core/./field.cc:1433:53: note: +1
 1433 |     if (peffect->is_flag(EFFECT_FLAG_PLAYER_TARGET) && peffect->is_flag(EFFECT_FLAG_CLIENT_HINT)) {
      |                                                     ^
src\puzzlepro_core/./field.cc:1435:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 1435 |       if (peffect->s_range) {
      |       ^
src\puzzlepro_core/./field.cc:1438:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 1438 |       if (peffect->o_range) {
      |       ^
src\puzzlepro_core/./field.cc:1441:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 1441 |       if (target_player[0]) {
      |       ^
src\puzzlepro_core/./field.cc:1447:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 1447 |       if (target_player[1]) {
      |       ^
src\puzzlepro_core/./field.cc:1457:13: warning: function 'remove_effect' has cognitive complexity of 41 (threshold 25) [readability-function-cognitive-complexity]
 1457 | void field::remove_effect(effect *peffect) {
      |             ^
src\puzzlepro_core/./field.cc:1459:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1459 |   if (eit == effects.indexer.end()) {
      |   ^
src\puzzlepro_core/./field.cc:1463:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1463 |   if (!(peffect->type & EFFECT_TYPE_ACTIONS)) {
      |   ^
src\puzzlepro_core/./field.cc:1465:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1465 |     if (peffect->code == EFFECT_SPSUMMON_COUNT_LIMIT) {
      |     ^
src\puzzlepro_core/./field.cc:1468:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1468 |     if (peffect->type & EFFECT_TYPE_GRANT) {
      |     ^
src\puzzlepro_core/./field.cc:1472:3: note: +1, nesting level increased to 1
 1472 |   else {
      |   ^
src\puzzlepro_core/./field.cc:1473:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1473 |     if (peffect->type & EFFECT_TYPE_IGNITION) {
      |     ^
src\puzzlepro_core/./field.cc:1476:10: note: +1, nesting level increased to 2
 1476 |     else if (peffect->type & EFFECT_TYPE_TRIGGER_O) {
      |          ^
src\puzzlepro_core/./field.cc:1479:10: note: +1, nesting level increased to 2
 1479 |     else if (peffect->type & EFFECT_TYPE_TRIGGER_F) {
      |          ^
src\puzzlepro_core/./field.cc:1482:10: note: +1, nesting level increased to 2
 1482 |     else if (peffect->type & EFFECT_TYPE_QUICK_O) {
      |          ^
src\puzzlepro_core/./field.cc:1485:10: note: +1, nesting level increased to 2
 1485 |     else if (peffect->type & EFFECT_TYPE_QUICK_F) {
      |          ^
src\puzzlepro_core/./field.cc:1488:10: note: +1, nesting level increased to 2
 1488 |     else if (peffect->type & EFFECT_TYPE_ACTIVATE) {
      |          ^
src\puzzlepro_core/./field.cc:1491:10: note: +1, nesting level increased to 2
 1491 |     else if (peffect->type & EFFECT_TYPE_CONTINUOUS) {
      |          ^
src\puzzlepro_core/./field.cc:1496:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1496 |   if (peffect->is_flag(EFFECT_FLAG_FIELD_ONLY)) {
      |   ^
src\puzzlepro_core/./field.cc:1497:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1497 |     if (peffect->is_disable_related()) {
      |     ^
src\puzzlepro_core/./field.cc:1500:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1500 |     if (peffect->is_flag(EFFECT_FLAG_OATH)) {
      |     ^
src\puzzlepro_core/./field.cc:1503:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1503 |     if (peffect->reset_flag & RESET_PHASE) {
      |     ^
src\puzzlepro_core/./field.cc:1506:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1506 |     if (peffect->reset_flag & RESET_CHAIN) {
      |     ^
src\puzzlepro_core/./field.cc:1509:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1509 |     if (peffect->is_flag(EFFECT_FLAG_COUNT_LIMIT)) {
      |     ^
src\puzzlepro_core/./field.cc:1513:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1513 |     if (peffect->is_flag(EFFECT_FLAG_PLAYER_TARGET) && peffect->is_flag(EFFECT_FLAG_CLIENT_HINT)) {
      |     ^
src\puzzlepro_core/./field.cc:1513:53: note: +1
 1513 |     if (peffect->is_flag(EFFECT_FLAG_PLAYER_TARGET) && peffect->is_flag(EFFECT_FLAG_CLIENT_HINT)) {
      |                                                     ^
src\puzzlepro_core/./field.cc:1515:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 1515 |       if (peffect->s_range) {
      |       ^
src\puzzlepro_core/./field.cc:1518:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 1518 |       if (peffect->o_range) {
      |       ^
src\puzzlepro_core/./field.cc:1521:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 1521 |       if (target_player[0]) {
      |       ^
src\puzzlepro_core/./field.cc:1527:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 1527 |       if (target_player[1]) {
      |       ^
src\puzzlepro_core/./field.cc:1653:13: warning: function 'filter_affected_cards' has cognitive complexity of 26 (threshold 25) [readability-function-cognitive-complexity]
 1653 | void field::filter_affected_cards(effect *peffect, card_set *cset) {
      |             ^
src\puzzlepro_core/./field.cc:1654:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1654 |   if ((peffect->type & EFFECT_TYPE_ACTIONS) || !(peffect->type & EFFECT_TYPE_FIELD)) {
      |   ^
src\puzzlepro_core/./field.cc:1654:45: note: +1
 1654 |   if ((peffect->type & EFFECT_TYPE_ACTIONS) || !(peffect->type & EFFECT_TYPE_FIELD)) {
      |                                             ^
src\puzzlepro_core/./field.cc:1657:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1657 |   if (peffect->is_flag(EFFECT_FLAG_PLAYER_TARGET | EFFECT_FLAG_SPSUM_PARAM)) {
      |   ^
src\puzzlepro_core/./field.cc:1661:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1661 |   if (!check_playerid(self)) {
      |   ^
src\puzzlepro_core/./field.cc:1666:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1666 |   for (uint32_t p = 0; p < 2; ++p) {
      |   ^
src\puzzlepro_core/./field.cc:1667:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1667 |     if (range & LOCATION_MZONE) {
      |     ^
src\puzzlepro_core/./field.cc:1670:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1670 |     if (range & LOCATION_SZONE) {
      |     ^
src\puzzlepro_core/./field.cc:1673:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1673 |     if (range & LOCATION_GRAVE) {
      |     ^
src\puzzlepro_core/./field.cc:1676:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1676 |     if (range & LOCATION_REMOVED) {
      |     ^
src\puzzlepro_core/./field.cc:1679:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1679 |     if (range & LOCATION_HAND) {
      |     ^
src\puzzlepro_core/./field.cc:1682:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1682 |     if (range & LOCATION_DECK) {
      |     ^
src\puzzlepro_core/./field.cc:1685:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1685 |     if (range & LOCATION_EXTRA) {
      |     ^
src\puzzlepro_core/./field.cc:1691:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1691 |   for (auto &cvit : cvec) {
      |   ^
src\puzzlepro_core/./field.cc:1692:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1692 |     for (auto &pcard : *cvit) {
      |     ^
src\puzzlepro_core/./field.cc:1693:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 1693 |       if (pcard && peffect->is_target(pcard)) {
      |       ^
src\puzzlepro_core/./field.cc:1693:17: note: +1
 1693 |       if (pcard && peffect->is_target(pcard)) {
      |                 ^
src\puzzlepro_core/./field.cc:1757:16: warning: function 'filter_matching_card' has cognitive complexity of 196 (threshold 25) [readability-function-cognitive-complexity]
 1757 | int32_t field::filter_matching_card(lua_State *L, int32_t findex, uint8_t self, uint32_t location1, uint32_t location2, group *pgroup, card *pexception, group *pexgroup, uint32_t extraargs, card **pret, int32_t fcount, int32_t is_target) {
      |                ^
src\puzzlepro_core/./field.cc:1758:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1758 |   if (self != 0 && self != 1) {
      |   ^
src\puzzlepro_core/./field.cc:1758:17: note: +1
 1758 |   if (self != 0 && self != 1) {
      |                 ^
src\puzzlepro_core/./field.cc:1763:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1763 |   for (uint32_t p = 0; p < 2; ++p) {
      |   ^
src\puzzlepro_core/./field.cc:1764:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1764 |     if (location & LOCATION_MZONE) {
      |     ^
src\puzzlepro_core/./field.cc:1765:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 1765 |       for (auto &pcard : player[self].list_mzone) {
      |       ^
src\puzzlepro_core/./field.cc:1766:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 1766 |         if (pcard && !pcard->is_treated_as_not_on_field() && pcard != pexception && !(pexgroup && pexgroup->has_card(pcard)) && pduel->lua->check_filter(L, pcard, findex, extraargs) && (!is_target || pcard->is_capable_be_effect_target(core.reason_effect, core.reason_player))) {
      |         ^
src\puzzlepro_core/./field.cc:1766:183: note: +1
 1766 |         if (pcard && !pcard->is_treated_as_not_on_field() && pcard != pexception && !(pexgroup && pexgroup->has_card(pcard)) && pduel->lua->check_filter(L, pcard, findex, extraargs) && (!is_target || pcard->is_capable_be_effect_target(core.reason_effect, core.reason_player))) {
      |                                                                                                                                                                                       ^
src\puzzlepro_core/./field.cc:1766:198: note: +1
 1766 |         if (pcard && !pcard->is_treated_as_not_on_field() && pcard != pexception && !(pexgroup && pexgroup->has_card(pcard)) && pduel->lua->check_filter(L, pcard, findex, extraargs) && (!is_target || pcard->is_capable_be_effect_target(core.reason_effect, core.reason_player))) {
      |                                                                                                                                                                                                      ^
src\puzzlepro_core/./field.cc:1767:11: note: +5, including nesting penalty of 4, nesting level increased to 5
 1767 |           if (pret) {
      |           ^
src\puzzlepro_core/./field.cc:1772:11: note: +5, including nesting penalty of 4, nesting level increased to 5
 1772 |           if (fcount && (int32_t)result.size() >= fcount) {
      |           ^
src\puzzlepro_core/./field.cc:1772:22: note: +1
 1772 |           if (fcount && (int32_t)result.size() >= fcount) {
      |                      ^
src\puzzlepro_core/./field.cc:1778:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1778 |     if (location & LOCATION_SZONE) {
      |     ^
src\puzzlepro_core/./field.cc:1779:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 1779 |       for (auto &pcard : player[self].list_szone) {
      |       ^
src\puzzlepro_core/./field.cc:1780:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 1780 |         if (pcard && !pcard->is_treated_as_not_on_field() && pcard != pexception && !(pexgroup && pexgroup->has_card(pcard)) && pduel->lua->check_filter(L, pcard, findex, extraargs) && (!is_target || pcard->is_capable_be_effect_target(core.reason_effect, core.reason_player))) {
      |         ^
src\puzzlepro_core/./field.cc:1780:183: note: +1
 1780 |         if (pcard && !pcard->is_treated_as_not_on_field() && pcard != pexception && !(pexgroup && pexgroup->has_card(pcard)) && pduel->lua->check_filter(L, pcard, findex, extraargs) && (!is_target || pcard->is_capable_be_effect_target(core.reason_effect, core.reason_player))) {
      |                                                                                                                                                                                       ^
src\puzzlepro_core/./field.cc:1780:198: note: +1
 1780 |         if (pcard && !pcard->is_treated_as_not_on_field() && pcard != pexception && !(pexgroup && pexgroup->has_card(pcard)) && pduel->lua->check_filter(L, pcard, findex, extraargs) && (!is_target || pcard->is_capable_be_effect_target(core.reason_effect, core.reason_player))) {
      |                                                                                                                                                                                                      ^
src\puzzlepro_core/./field.cc:1781:11: note: +5, including nesting penalty of 4, nesting level increased to 5
 1781 |           if (pret) {
      |           ^
src\puzzlepro_core/./field.cc:1786:11: note: +5, including nesting penalty of 4, nesting level increased to 5
 1786 |           if (fcount && (int32_t)result.size() >= fcount) {
      |           ^
src\puzzlepro_core/./field.cc:1786:22: note: +1
 1786 |           if (fcount && (int32_t)result.size() >= fcount) {
      |                      ^
src\puzzlepro_core/./field.cc:1792:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1792 |     if (location & LOCATION_FZONE) {
      |     ^
src\puzzlepro_core/./field.cc:1794:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 1794 |       if (pcard && !pcard->is_treated_as_not_on_field() && pcard != pexception && !(pexgroup && pexgroup->has_card(pcard)) && pduel->lua->check_filter(L, pcard, findex, extraargs) && (!is_target || pcard->is_capable_be_effect_target(core.reason_effect, core.reason_player))) {
      |       ^
src\puzzlepro_core/./field.cc:1794:181: note: +1
 1794 |       if (pcard && !pcard->is_treated_as_not_on_field() && pcard != pexception && !(pexgroup && pexgroup->has_card(pcard)) && pduel->lua->check_filter(L, pcard, findex, extraargs) && (!is_target || pcard->is_capable_be_effect_target(core.reason_effect, core.reason_player))) {
      |                                                                                                                                                                                     ^
src\puzzlepro_core/./field.cc:1794:196: note: +1
 1794 |       if (pcard && !pcard->is_treated_as_not_on_field() && pcard != pexception && !(pexgroup && pexgroup->has_card(pcard)) && pduel->lua->check_filter(L, pcard, findex, extraargs) && (!is_target || pcard->is_capable_be_effect_target(core.reason_effect, core.reason_player))) {
      |                                                                                                                                                                                                    ^
src\puzzlepro_core/./field.cc:1795:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 1795 |         if (pret) {
      |         ^
src\puzzlepro_core/./field.cc:1800:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 1800 |         if (fcount && (int32_t)result.size() >= fcount) {
      |         ^
src\puzzlepro_core/./field.cc:1800:20: note: +1
 1800 |         if (fcount && (int32_t)result.size() >= fcount) {
      |                    ^
src\puzzlepro_core/./field.cc:1805:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1805 |     if (location & LOCATION_PZONE) {
      |     ^
src\puzzlepro_core/./field.cc:1806:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 1806 |       for (int32_t i = 0; i < 2; ++i) {
      |       ^
src\puzzlepro_core/./field.cc:1808:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 1808 |         if (pcard && pcard->current.pzone && !pcard->is_treated_as_not_on_field() && pcard != pexception && !(pexgroup && pexgroup->has_card(pcard)) && pduel->lua->check_filter(L, pcard, findex, extraargs) && (!is_target || pcard->is_capable_be_effect_target(core.reason_effect, core.reason_player))) {
      |         ^
src\puzzlepro_core/./field.cc:1808:207: note: +1
 1808 |         if (pcard && pcard->current.pzone && !pcard->is_treated_as_not_on_field() && pcard != pexception && !(pexgroup && pexgroup->has_card(pcard)) && pduel->lua->check_filter(L, pcard, findex, extraargs) && (!is_target || pcard->is_capable_be_effect_target(core.reason_effect, core.reason_player))) {
      |                                                                                                                                                                                                               ^
src\puzzlepro_core/./field.cc:1808:222: note: +1
 1808 |         if (pcard && pcard->current.pzone && !pcard->is_treated_as_not_on_field() && pcard != pexception && !(pexgroup && pexgroup->has_card(pcard)) && pduel->lua->check_filter(L, pcard, findex, extraargs) && (!is_target || pcard->is_capable_be_effect_target(core.reason_effect, core.reason_player))) {
      |                                                                                                                                                                                                                              ^
src\puzzlepro_core/./field.cc:1809:11: note: +5, including nesting penalty of 4, nesting level increased to 5
 1809 |           if (pret) {
      |           ^
src\puzzlepro_core/./field.cc:1814:11: note: +5, including nesting penalty of 4, nesting level increased to 5
 1814 |           if (fcount && (int32_t)result.size() >= fcount) {
      |           ^
src\puzzlepro_core/./field.cc:1814:22: note: +1
 1814 |           if (fcount && (int32_t)result.size() >= fcount) {
      |                      ^
src\puzzlepro_core/./field.cc:1820:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1820 |     if (location & LOCATION_DECK) {
      |     ^
src\puzzlepro_core/./field.cc:1821:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 1821 |       for (auto cit = player[self].list_main.rbegin(); cit != player[self].list_main.rend(); ++cit) {
      |       ^
src\puzzlepro_core/./field.cc:1822:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 1822 |         if (*cit != pexception && !(pexgroup && pexgroup->has_card(*cit)) && pduel->lua->check_filter(L, *cit, findex, extraargs) && (!is_target || (*cit)->is_capable_be_effect_target(core.reason_effect, core.reason_player))) {
      |         ^
src\puzzlepro_core/./field.cc:1822:131: note: +1
 1822 |         if (*cit != pexception && !(pexgroup && pexgroup->has_card(*cit)) && pduel->lua->check_filter(L, *cit, findex, extraargs) && (!is_target || (*cit)->is_capable_be_effect_target(core.reason_effect, core.reason_player))) {
      |                                                                                                                                   ^
src\puzzlepro_core/./field.cc:1822:146: note: +1
 1822 |         if (*cit != pexception && !(pexgroup && pexgroup->has_card(*cit)) && pduel->lua->check_filter(L, *cit, findex, extraargs) && (!is_target || (*cit)->is_capable_be_effect_target(core.reason_effect, core.reason_player))) {
      |                                                                                                                                                  ^
src\puzzlepro_core/./field.cc:1823:11: note: +5, including nesting penalty of 4, nesting level increased to 5
 1823 |           if (pret) {
      |           ^
src\puzzlepro_core/./field.cc:1828:11: note: +5, including nesting penalty of 4, nesting level increased to 5
 1828 |           if (fcount && (int32_t)result.size() >= fcount) {
      |           ^
src\puzzlepro_core/./field.cc:1828:22: note: +1
 1828 |           if (fcount && (int32_t)result.size() >= fcount) {
      |                      ^
src\puzzlepro_core/./field.cc:1834:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1834 |     if (location & LOCATION_EXTRA) {
      |     ^
src\puzzlepro_core/./field.cc:1835:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 1835 |       for (auto cit = player[self].list_extra.rbegin(); cit != player[self].list_extra.rend(); ++cit) {
      |       ^
src\puzzlepro_core/./field.cc:1836:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 1836 |         if (*cit != pexception && !(pexgroup && pexgroup->has_card(*cit)) && pduel->lua->check_filter(L, *cit, findex, extraargs) && (!is_target || (*cit)->is_capable_be_effect_target(core.reason_effect, core.reason_player))) {
      |         ^
src\puzzlepro_core/./field.cc:1836:131: note: +1
 1836 |         if (*cit != pexception && !(pexgroup && pexgroup->has_card(*cit)) && pduel->lua->check_filter(L, *cit, findex, extraargs) && (!is_target || (*cit)->is_capable_be_effect_target(core.reason_effect, core.reason_player))) {
      |                                                                                                                                   ^
src\puzzlepro_core/./field.cc:1836:146: note: +1
 1836 |         if (*cit != pexception && !(pexgroup && pexgroup->has_card(*cit)) && pduel->lua->check_filter(L, *cit, findex, extraargs) && (!is_target || (*cit)->is_capable_be_effect_target(core.reason_effect, core.reason_player))) {
      |                                                                                                                                                  ^
src\puzzlepro_core/./field.cc:1837:11: note: +5, including nesting penalty of 4, nesting level increased to 5
 1837 |           if (pret) {
      |           ^
src\puzzlepro_core/./field.cc:1842:11: note: +5, including nesting penalty of 4, nesting level increased to 5
 1842 |           if (fcount && (int32_t)result.size() >= fcount) {
      |           ^
src\puzzlepro_core/./field.cc:1842:22: note: +1
 1842 |           if (fcount && (int32_t)result.size() >= fcount) {
      |                      ^
src\puzzlepro_core/./field.cc:1848:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1848 |     if (location & LOCATION_HAND) {
      |     ^
src\puzzlepro_core/./field.cc:1849:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 1849 |       for (auto &pcard : player[self].list_hand) {
      |       ^
src\puzzlepro_core/./field.cc:1850:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 1850 |         if (pcard != pexception && !(pexgroup && pexgroup->has_card(pcard)) && pduel->lua->check_filter(L, pcard, findex, extraargs) && (!is_target || pcard->is_capable_be_effect_target(core.reason_effect, core.reason_player))) {
      |         ^
src\puzzlepro_core/./field.cc:1850:134: note: +1
 1850 |         if (pcard != pexception && !(pexgroup && pexgroup->has_card(pcard)) && pduel->lua->check_filter(L, pcard, findex, extraargs) && (!is_target || pcard->is_capable_be_effect_target(core.reason_effect, core.reason_player))) {
      |                                                                                                                                      ^
src\puzzlepro_core/./field.cc:1850:149: note: +1
 1850 |         if (pcard != pexception && !(pexgroup && pexgroup->has_card(pcard)) && pduel->lua->check_filter(L, pcard, findex, extraargs) && (!is_target || pcard->is_capable_be_effect_target(core.reason_effect, core.reason_player))) {
      |                                                                                                                                                     ^
src\puzzlepro_core/./field.cc:1851:11: note: +5, including nesting penalty of 4, nesting level increased to 5
 1851 |           if (pret) {
      |           ^
src\puzzlepro_core/./field.cc:1856:11: note: +5, including nesting penalty of 4, nesting level increased to 5
 1856 |           if (fcount && (int32_t)result.size() >= fcount) {
      |           ^
src\puzzlepro_core/./field.cc:1856:22: note: +1
 1856 |           if (fcount && (int32_t)result.size() >= fcount) {
      |                      ^
src\puzzlepro_core/./field.cc:1862:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1862 |     if (location & LOCATION_GRAVE) {
      |     ^
src\puzzlepro_core/./field.cc:1863:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 1863 |       for (auto cit = player[self].list_grave.rbegin(); cit != player[self].list_grave.rend(); ++cit) {
      |       ^
src\puzzlepro_core/./field.cc:1864:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 1864 |         if (*cit != pexception && !(pexgroup && pexgroup->has_card(*cit)) && pduel->lua->check_filter(L, *cit, findex, extraargs) && (!is_target || (*cit)->is_capable_be_effect_target(core.reason_effect, core.reason_player))) {
      |         ^
src\puzzlepro_core/./field.cc:1864:131: note: +1
 1864 |         if (*cit != pexception && !(pexgroup && pexgroup->has_card(*cit)) && pduel->lua->check_filter(L, *cit, findex, extraargs) && (!is_target || (*cit)->is_capable_be_effect_target(core.reason_effect, core.reason_player))) {
      |                                                                                                                                   ^
src\puzzlepro_core/./field.cc:1864:146: note: +1
 1864 |         if (*cit != pexception && !(pexgroup && pexgroup->has_card(*cit)) && pduel->lua->check_filter(L, *cit, findex, extraargs) && (!is_target || (*cit)->is_capable_be_effect_target(core.reason_effect, core.reason_player))) {
      |                                                                                                                                                  ^
src\puzzlepro_core/./field.cc:1865:11: note: +5, including nesting penalty of 4, nesting level increased to 5
 1865 |           if (pret) {
      |           ^
src\puzzlepro_core/./field.cc:1870:11: note: +5, including nesting penalty of 4, nesting level increased to 5
 1870 |           if (fcount && (int32_t)result.size() >= fcount) {
      |           ^
src\puzzlepro_core/./field.cc:1870:22: note: +1
 1870 |           if (fcount && (int32_t)result.size() >= fcount) {
      |                      ^
src\puzzlepro_core/./field.cc:1876:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1876 |     if (location & LOCATION_REMOVED) {
      |     ^
src\puzzlepro_core/./field.cc:1877:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 1877 |       for (auto cit = player[self].list_remove.rbegin(); cit != player[self].list_remove.rend(); ++cit) {
      |       ^
src\puzzlepro_core/./field.cc:1878:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 1878 |         if (*cit != pexception && !(pexgroup && pexgroup->has_card(*cit)) && pduel->lua->check_filter(L, *cit, findex, extraargs) && (!is_target || (*cit)->is_capable_be_effect_target(core.reason_effect, core.reason_player))) {
      |         ^
src\puzzlepro_core/./field.cc:1878:131: note: +1
 1878 |         if (*cit != pexception && !(pexgroup && pexgroup->has_card(*cit)) && pduel->lua->check_filter(L, *cit, findex, extraargs) && (!is_target || (*cit)->is_capable_be_effect_target(core.reason_effect, core.reason_player))) {
      |                                                                                                                                   ^
src\puzzlepro_core/./field.cc:1878:146: note: +1
 1878 |         if (*cit != pexception && !(pexgroup && pexgroup->has_card(*cit)) && pduel->lua->check_filter(L, *cit, findex, extraargs) && (!is_target || (*cit)->is_capable_be_effect_target(core.reason_effect, core.reason_player))) {
      |                                                                                                                                                  ^
src\puzzlepro_core/./field.cc:1879:11: note: +5, including nesting penalty of 4, nesting level increased to 5
 1879 |           if (pret) {
      |           ^
src\puzzlepro_core/./field.cc:1884:11: note: +5, including nesting penalty of 4, nesting level increased to 5
 1884 |           if (fcount && (int32_t)result.size() >= fcount) {
      |           ^
src\puzzlepro_core/./field.cc:1884:22: note: +1
 1884 |           if (fcount && (int32_t)result.size() >= fcount) {
      |                      ^
src\puzzlepro_core/./field.cc:1893:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1893 |   if (pgroup) {
      |   ^
src\puzzlepro_core/./field.cc:1900:16: warning: function 'filter_field_card' has cognitive complexity of 48 (threshold 25) [readability-function-cognitive-complexity]
 1900 | int32_t field::filter_field_card(uint8_t self, uint32_t location1, uint32_t location2, group *pgroup) {
      |                ^
src\puzzlepro_core/./field.cc:1901:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1901 |   if (self != 0 && self != 1) {
      |   ^
src\puzzlepro_core/./field.cc:1901:17: note: +1
 1901 |   if (self != 0 && self != 1) {
      |                 ^
src\puzzlepro_core/./field.cc:1906:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1906 |   for (uint32_t p = 0; p < 2; ++p) {
      |   ^
src\puzzlepro_core/./field.cc:1907:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1907 |     if (location & LOCATION_MZONE) {
      |     ^
src\puzzlepro_core/./field.cc:1908:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 1908 |       for (auto &pcard : player[self].list_mzone) {
      |       ^
src\puzzlepro_core/./field.cc:1909:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 1909 |         if (pcard && !pcard->get_status(STATUS_SUMMONING | STATUS_SPSUMMON_STEP)) {
      |         ^
src\puzzlepro_core/./field.cc:1909:19: note: +1
 1909 |         if (pcard && !pcard->get_status(STATUS_SUMMONING | STATUS_SPSUMMON_STEP)) {
      |                   ^
src\puzzlepro_core/./field.cc:1914:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1914 |     if (location & LOCATION_SZONE) {
      |     ^
src\puzzlepro_core/./field.cc:1915:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 1915 |       for (auto &pcard : player[self].list_szone) {
      |       ^
src\puzzlepro_core/./field.cc:1916:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 1916 |         if (pcard) {
      |         ^
src\puzzlepro_core/./field.cc:1921:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1921 |     if (location & LOCATION_FZONE) {
      |     ^
src\puzzlepro_core/./field.cc:1923:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 1923 |       if (pcard) {
      |       ^
src\puzzlepro_core/./field.cc:1927:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1927 |     if (location & LOCATION_PZONE) {
      |     ^
src\puzzlepro_core/./field.cc:1928:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 1928 |       for (int32_t i = 0; i < 2; ++i) {
      |       ^
src\puzzlepro_core/./field.cc:1930:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 1930 |         if (pcard && pcard->current.pzone) {
      |         ^
src\puzzlepro_core/./field.cc:1930:19: note: +1
 1930 |         if (pcard && pcard->current.pzone) {
      |                   ^
src\puzzlepro_core/./field.cc:1935:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1935 |     if (location & LOCATION_HAND) {
      |     ^
src\puzzlepro_core/./field.cc:1938:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1938 |     if (location & LOCATION_DECK) {
      |     ^
src\puzzlepro_core/./field.cc:1941:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1941 |     if (location & LOCATION_EXTRA) {
      |     ^
src\puzzlepro_core/./field.cc:1944:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1944 |     if (location & LOCATION_GRAVE) {
      |     ^
src\puzzlepro_core/./field.cc:1947:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1947 |     if (location & LOCATION_REMOVED) {
      |     ^
src\puzzlepro_core/./field.cc:1953:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1953 |   if (pgroup) {
      |   ^
src\puzzlepro_core/./field.cc:1970:16: warning: function 'get_release_list' has cognitive complexity of 51 (threshold 25) [readability-function-cognitive-complexity]
 1970 | int32_t field::get_release_list(lua_State *L, uint8_t playerid, card_set *release_list, card_set *ex_list, card_set *ex_list_oneof, int32_t use_con, int32_t use_hand, int32_t fun, int32_t exarg, card *exc, group *exg, uint32_t reason) {
      |                ^
src\puzzlepro_core/./field.cc:1973:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1973 |   for (auto &pcard : player[playerid].list_mzone) {
      |   ^
src\puzzlepro_core/./field.cc:1974:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1974 |     if (pcard && pcard != exc && !(exg && exg->has_card(pcard)) && pcard->is_releasable_by_nonsummon(playerid, reason) && (reason != REASON_EFFECT || pcard->is_releasable_by_effect(playerid, re)) && (!use_con || pduel->lua->check_filter(L, pcard, fun, exarg))) {
      |     ^
src\puzzlepro_core/./field.cc:1974:197: note: +1
 1974 |     if (pcard && pcard != exc && !(exg && exg->has_card(pcard)) && pcard->is_releasable_by_nonsummon(playerid, reason) && (reason != REASON_EFFECT || pcard->is_releasable_by_effect(playerid, re)) && (!use_con || pduel->lua->check_filter(L, pcard, fun, exarg))) {
      |                                                                                                                                                                                                     ^
src\puzzlepro_core/./field.cc:1974:148: note: +1
 1974 |     if (pcard && pcard != exc && !(exg && exg->has_card(pcard)) && pcard->is_releasable_by_nonsummon(playerid, reason) && (reason != REASON_EFFECT || pcard->is_releasable_by_effect(playerid, re)) && (!use_con || pduel->lua->check_filter(L, pcard, fun, exarg))) {
      |                                                                                                                                                    ^
src\puzzlepro_core/./field.cc:1974:210: note: +1
 1974 |     if (pcard && pcard != exc && !(exg && exg->has_card(pcard)) && pcard->is_releasable_by_nonsummon(playerid, reason) && (reason != REASON_EFFECT || pcard->is_releasable_by_effect(playerid, re)) && (!use_con || pduel->lua->check_filter(L, pcard, fun, exarg))) {
      |                                                                                                                                                                                                                  ^
src\puzzlepro_core/./field.cc:1975:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 1975 |       if (release_list) {
      |       ^
src\puzzlepro_core/./field.cc:1982:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1982 |   if (use_hand) {
      |   ^
src\puzzlepro_core/./field.cc:1983:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1983 |     for (auto &pcard : player[playerid].list_hand) {
      |     ^
src\puzzlepro_core/./field.cc:1984:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 1984 |       if (pcard && pcard != exc && !(exg && exg->has_card(pcard)) && pcard->is_releasable_by_nonsummon(playerid, reason) && (reason != REASON_EFFECT || pcard->is_releasable_by_effect(playerid, re)) && (!use_con || pduel->lua->check_filter(L, pcard, fun, exarg))) {
      |       ^
src\puzzlepro_core/./field.cc:1984:199: note: +1
 1984 |       if (pcard && pcard != exc && !(exg && exg->has_card(pcard)) && pcard->is_releasable_by_nonsummon(playerid, reason) && (reason != REASON_EFFECT || pcard->is_releasable_by_effect(playerid, re)) && (!use_con || pduel->lua->check_filter(L, pcard, fun, exarg))) {
      |                                                                                                                                                                                                       ^
src\puzzlepro_core/./field.cc:1984:150: note: +1
 1984 |       if (pcard && pcard != exc && !(exg && exg->has_card(pcard)) && pcard->is_releasable_by_nonsummon(playerid, reason) && (reason != REASON_EFFECT || pcard->is_releasable_by_effect(playerid, re)) && (!use_con || pduel->lua->check_filter(L, pcard, fun, exarg))) {
      |                                                                                                                                                      ^
src\puzzlepro_core/./field.cc:1984:212: note: +1
 1984 |       if (pcard && pcard != exc && !(exg && exg->has_card(pcard)) && pcard->is_releasable_by_nonsummon(playerid, reason) && (reason != REASON_EFFECT || pcard->is_releasable_by_effect(playerid, re)) && (!use_con || pduel->lua->check_filter(L, pcard, fun, exarg))) {
      |                                                                                                                                                                                                                    ^
src\puzzlepro_core/./field.cc:1985:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 1985 |         if (release_list) {
      |         ^
src\puzzlepro_core/./field.cc:1994:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1994 |   for (auto &pcard : player[1 - playerid].list_mzone) {
      |   ^
src\puzzlepro_core/./field.cc:1995:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1995 |     if (pcard && pcard != exc && !(exg && exg->has_card(pcard)) && (pcard->is_position(POS_FACEUP) || !use_con) && pcard->is_releasable_by_nonsummon(playerid, reason) && (reason != REASON_EFFECT || pcard->is_releasable_by_effect(playerid, re)) && (!use_con || pduel->lua->check_filter(L, pcard, fun, exarg))) {
      |     ^
src\puzzlepro_core/./field.cc:1995:245: note: +1
 1995 |     if (pcard && pcard != exc && !(exg && exg->has_card(pcard)) && (pcard->is_position(POS_FACEUP) || !use_con) && pcard->is_releasable_by_nonsummon(playerid, reason) && (reason != REASON_EFFECT || pcard->is_releasable_by_effect(playerid, re)) && (!use_con || pduel->lua->check_filter(L, pcard, fun, exarg))) {
      |                                                                                                                                                                                                                                                     ^
src\puzzlepro_core/./field.cc:1995:100: note: +1
 1995 |     if (pcard && pcard != exc && !(exg && exg->has_card(pcard)) && (pcard->is_position(POS_FACEUP) || !use_con) && pcard->is_releasable_by_nonsummon(playerid, reason) && (reason != REASON_EFFECT || pcard->is_releasable_by_effect(playerid, re)) && (!use_con || pduel->lua->check_filter(L, pcard, fun, exarg))) {
      |                                                                                                    ^
src\puzzlepro_core/./field.cc:1995:196: note: +1
 1995 |     if (pcard && pcard != exc && !(exg && exg->has_card(pcard)) && (pcard->is_position(POS_FACEUP) || !use_con) && pcard->is_releasable_by_nonsummon(playerid, reason) && (reason != REASON_EFFECT || pcard->is_releasable_by_effect(playerid, re)) && (!use_con || pduel->lua->check_filter(L, pcard, fun, exarg))) {
      |                                                                                                                                                                                                    ^
src\puzzlepro_core/./field.cc:1995:258: note: +1
 1995 |     if (pcard && pcard != exc && !(exg && exg->has_card(pcard)) && (pcard->is_position(POS_FACEUP) || !use_con) && pcard->is_releasable_by_nonsummon(playerid, reason) && (reason != REASON_EFFECT || pcard->is_releasable_by_effect(playerid, re)) && (!use_con || pduel->lua->check_filter(L, pcard, fun, exarg))) {
      |                                                                                                                                                                                                                                                                  ^
src\puzzlepro_core/./field.cc:1997:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 1997 |       if (pcard->is_affected_by_effect(EFFECT_EXTRA_RELEASE)) {
      |       ^
src\puzzlepro_core/./field.cc:1998:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 1998 |         if (ex_list) {
      |         ^
src\puzzlepro_core/./field.cc:2003:7: note: +1, nesting level increased to 3
 2003 |       else {
      |       ^
src\puzzlepro_core/./field.cc:2005:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 2005 |         if (!peffect || (peffect->is_flag(EFFECT_FLAG_COUNT_LIMIT) && peffect->count_limit == 0)) {
      |         ^
src\puzzlepro_core/./field.cc:2005:22: note: +1
 2005 |         if (!peffect || (peffect->is_flag(EFFECT_FLAG_COUNT_LIMIT) && peffect->count_limit == 0)) {
      |                      ^
src\puzzlepro_core/./field.cc:2005:68: note: +1
 2005 |         if (!peffect || (peffect->is_flag(EFFECT_FLAG_COUNT_LIMIT) && peffect->count_limit == 0)) {
      |                                                                    ^
src\puzzlepro_core/./field.cc:2011:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 2011 |         if (!peffect->check_value_condition(3)) {
      |         ^
src\puzzlepro_core/./field.cc:2014:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 2014 |         if (ex_list_oneof) {
      |         ^
src\puzzlepro_core/./field.cc:2049:16: warning: function 'get_summon_release_list' has cognitive complexity of 59 (threshold 25) [readability-function-cognitive-complexity]
 2049 | int32_t field::get_summon_release_list(card *target, card_set *release_list, card_set *ex_list, card_set *ex_list_oneof, group *mg, uint32_t ex, uint32_t releasable, uint32_t pos) {
      |                ^
src\puzzlepro_core/./field.cc:2054:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2054 |   for (effect_set::size_type i = 0; i < eset.size(); ++i) {
      |   ^
src\puzzlepro_core/./field.cc:2055:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2055 |     if (eset[i]->get_value() & pos) {
      |     ^
src\puzzlepro_core/./field.cc:2060:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2060 |   for (auto &pcard : player[p].list_mzone) {
      |   ^
src\puzzlepro_core/./field.cc:2061:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2061 |     if (pcard && ((releasable >> pcard->current.sequence) & 1) && pcard->is_releasable_by_summon(p, target)) {
      |     ^
src\puzzlepro_core/./field.cc:2061:64: note: +1
 2061 |     if (pcard && ((releasable >> pcard->current.sequence) & 1) && pcard->is_releasable_by_summon(p, target)) {
      |                                                                ^
src\puzzlepro_core/./field.cc:2062:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2062 |       if (mg && !mg->has_card(pcard)) {
      |       ^
src\puzzlepro_core/./field.cc:2062:14: note: +1
 2062 |       if (mg && !mg->has_card(pcard)) {
      |              ^
src\puzzlepro_core/./field.cc:2065:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2065 |       if (release_list) {
      |       ^
src\puzzlepro_core/./field.cc:2068:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2068 |       if (pcard->is_affected_by_effect(EFFECT_DOUBLE_TRIBUTE, target)) {
      |       ^
src\puzzlepro_core/./field.cc:2071:7: note: +1, nesting level increased to 3
 2071 |       else {
      |       ^
src\puzzlepro_core/./field.cc:2078:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2078 |   for (auto &pcard : player[1 - p].list_mzone) {
      |   ^
src\puzzlepro_core/./field.cc:2079:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2079 |     if (!pcard || !((releasable >> (pcard->current.sequence + 16)) & 1) || !pcard->is_releasable_by_summon(p, target)) {
      |     ^
src\puzzlepro_core/./field.cc:2079:73: note: +1
 2079 |     if (!pcard || !((releasable >> (pcard->current.sequence + 16)) & 1) || !pcard->is_releasable_by_summon(p, target)) {
      |                                                                         ^
src\puzzlepro_core/./field.cc:2082:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2082 |     if (mg && !mg->has_card(pcard)) {
      |     ^
src\puzzlepro_core/./field.cc:2082:12: note: +1
 2082 |     if (mg && !mg->has_card(pcard)) {
      |            ^
src\puzzlepro_core/./field.cc:2085:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2085 |     if (pcard->is_affected_by_effect(EFFECT_DOUBLE_TRIBUTE, target)) {
      |     ^
src\puzzlepro_core/./field.cc:2088:5: note: +1, nesting level increased to 2
 2088 |     else {
      |     ^
src\puzzlepro_core/./field.cc:2091:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2091 |     if (ex || ex_tribute.find(pcard) != ex_tribute.end()) {
      |     ^
src\puzzlepro_core/./field.cc:2091:12: note: +1
 2091 |     if (ex || ex_tribute.find(pcard) != ex_tribute.end()) {
      |            ^
src\puzzlepro_core/./field.cc:2092:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2092 |       if (release_list) {
      |       ^
src\puzzlepro_core/./field.cc:2097:10: note: +1, nesting level increased to 2
 2097 |     else if (pcard->is_affected_by_effect(EFFECT_EXTRA_RELEASE)) {
      |          ^
src\puzzlepro_core/./field.cc:2098:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2098 |       if (ex_list) {
      |       ^
src\puzzlepro_core/./field.cc:2103:5: note: +1, nesting level increased to 2
 2103 |     else {
      |     ^
src\puzzlepro_core/./field.cc:2105:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2105 |       if (!peffect || (peffect->is_flag(EFFECT_FLAG_COUNT_LIMIT) && peffect->count_limit == 0)) {
      |       ^
src\puzzlepro_core/./field.cc:2105:20: note: +1
 2105 |       if (!peffect || (peffect->is_flag(EFFECT_FLAG_COUNT_LIMIT) && peffect->count_limit == 0)) {
      |                    ^
src\puzzlepro_core/./field.cc:2105:66: note: +1
 2105 |       if (!peffect || (peffect->is_flag(EFFECT_FLAG_COUNT_LIMIT) && peffect->count_limit == 0)) {
      |                                                                  ^
src\puzzlepro_core/./field.cc:2108:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2108 |       if (ex_list_oneof) {
      |       ^
src\puzzlepro_core/./field.cc:2111:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2111 |       if (ex_oneof_max < pcard->release_param) {
      |       ^
src\puzzlepro_core/./field.cc:2116:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2116 |   for (auto &pcard : ex_tribute) {
      |   ^
src\puzzlepro_core/./field.cc:2117:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2117 |     if (pcard->current.location == LOCATION_MZONE || !pcard->is_releasable_by_summon(p, target)) {
      |     ^
src\puzzlepro_core/./field.cc:2117:51: note: +1
 2117 |     if (pcard->current.location == LOCATION_MZONE || !pcard->is_releasable_by_summon(p, target)) {
      |                                                   ^
src\puzzlepro_core/./field.cc:2120:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2120 |     if (release_list) {
      |     ^
src\puzzlepro_core/./field.cc:2123:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2123 |     if (pcard->is_affected_by_effect(EFFECT_DOUBLE_TRIBUTE, target)) {
      |     ^
src\puzzlepro_core/./field.cc:2126:5: note: +1, nesting level increased to 2
 2126 |     else {
      |     ^
src\puzzlepro_core/./field.cc:2166:13: warning: function 'get_ritual_material' has cognitive complexity of 35 (threshold 25) [readability-function-cognitive-complexity]
 2166 | void field::get_ritual_material(uint8_t playerid, effect *peffect, card_set *material, uint8_t no_level) {
      |             ^
src\puzzlepro_core/./field.cc:2167:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2167 |   for (auto &pcard : player[playerid].list_mzone) {
      |   ^
src\puzzlepro_core/./field.cc:2168:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2168 |     if (pcard && pcard->is_affect_by_effect(peffect) && pcard->is_releasable_by_nonsummon(playerid, REASON_EFFECT) && pcard->is_releasable_by_effect(playerid, peffect) && (no_level || pcard->get_level() > 0 || pcard->is_affected_by_effect(EFFECT_RITUAL_LEVEL_EX))) {
      |     ^
src\puzzlepro_core/./field.cc:2168:169: note: +1
 2168 |     if (pcard && pcard->is_affect_by_effect(peffect) && pcard->is_releasable_by_nonsummon(playerid, REASON_EFFECT) && pcard->is_releasable_by_effect(playerid, peffect) && (no_level || pcard->get_level() > 0 || pcard->is_affected_by_effect(EFFECT_RITUAL_LEVEL_EX))) {
      |                                                                                                                                                                         ^
src\puzzlepro_core/./field.cc:2168:208: note: +1
 2168 |     if (pcard && pcard->is_affect_by_effect(peffect) && pcard->is_releasable_by_nonsummon(playerid, REASON_EFFECT) && pcard->is_releasable_by_effect(playerid, peffect) && (no_level || pcard->get_level() > 0 || pcard->is_affected_by_effect(EFFECT_RITUAL_LEVEL_EX))) {
      |                                                                                                                                                                                                                ^
src\puzzlepro_core/./field.cc:2171:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2171 |     if (pcard && pcard->is_affected_by_effect(EFFECT_OVERLAY_RITUAL_MATERIAL)) {
      |     ^
src\puzzlepro_core/./field.cc:2171:15: note: +1
 2171 |     if (pcard && pcard->is_affected_by_effect(EFFECT_OVERLAY_RITUAL_MATERIAL)) {
      |               ^
src\puzzlepro_core/./field.cc:2172:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2172 |       for (auto &mcard : pcard->xyz_materials) {
      |       ^
src\puzzlepro_core/./field.cc:2173:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 2173 |         if (no_level || mcard->get_level() > 0 || pcard->is_affected_by_effect(EFFECT_RITUAL_LEVEL_EX)) {
      |         ^
src\puzzlepro_core/./field.cc:2173:48: note: +1
 2173 |         if (no_level || mcard->get_level() > 0 || pcard->is_affected_by_effect(EFFECT_RITUAL_LEVEL_EX)) {
      |                                                ^
src\puzzlepro_core/./field.cc:2179:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2179 |   for (auto &pcard : player[1 - playerid].list_mzone) {
      |   ^
src\puzzlepro_core/./field.cc:2180:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2180 |     if (pcard && pcard->is_affect_by_effect(peffect) && pcard->is_affected_by_effect(EFFECT_EXTRA_RELEASE) && pcard->is_position(POS_FACEUP) && pcard->is_releasable_by_nonsummon(playerid, REASON_EFFECT) && pcard->is_releasable_by_effect(playerid, peffect) && (no_level || pcard->get_level() > 0 || pcard->is_affected_by_effect(EFFECT_RITUAL_LEVEL_EX))) {
      |     ^
src\puzzlepro_core/./field.cc:2180:257: note: +1
 2180 |     if (pcard && pcard->is_affect_by_effect(peffect) && pcard->is_affected_by_effect(EFFECT_EXTRA_RELEASE) && pcard->is_position(POS_FACEUP) && pcard->is_releasable_by_nonsummon(playerid, REASON_EFFECT) && pcard->is_releasable_by_effect(playerid, peffect) && (no_level || pcard->get_level() > 0 || pcard->is_affected_by_effect(EFFECT_RITUAL_LEVEL_EX))) {
      |                                                                                                                                                                                                                                                                 ^
src\puzzlepro_core/./field.cc:2180:296: note: +1
 2180 |     if (pcard && pcard->is_affect_by_effect(peffect) && pcard->is_affected_by_effect(EFFECT_EXTRA_RELEASE) && pcard->is_position(POS_FACEUP) && pcard->is_releasable_by_nonsummon(playerid, REASON_EFFECT) && pcard->is_releasable_by_effect(playerid, peffect) && (no_level || pcard->get_level() > 0 || pcard->is_affected_by_effect(EFFECT_RITUAL_LEVEL_EX))) {
      |                                                                                                                                                                                                                                                                                                        ^
src\puzzlepro_core/./field.cc:2184:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2184 |   for (auto &pcard : player[playerid].list_hand) {
      |   ^
src\puzzlepro_core/./field.cc:2185:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2185 |     if ((pcard->data.type & TYPE_MONSTER) && pcard->is_releasable_by_nonsummon(playerid, REASON_EFFECT)) {
      |     ^
src\puzzlepro_core/./field.cc:2185:43: note: +1
 2185 |     if ((pcard->data.type & TYPE_MONSTER) && pcard->is_releasable_by_nonsummon(playerid, REASON_EFFECT)) {
      |                                           ^
src\puzzlepro_core/./field.cc:2189:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2189 |   for (auto &pcard : player[playerid].list_grave) {
      |   ^
src\puzzlepro_core/./field.cc:2190:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2190 |     if ((pcard->data.type & TYPE_MONSTER) && pcard->is_affected_by_effect(EFFECT_EXTRA_RITUAL_MATERIAL) && pcard->is_removeable(playerid, POS_FACEUP, REASON_EFFECT) && (no_level || pcard->get_level() > 0 || pcard->is_affected_by_effect(EFFECT_RITUAL_LEVEL_EX))) {
      |     ^
src\puzzlepro_core/./field.cc:2190:166: note: +1
 2190 |     if ((pcard->data.type & TYPE_MONSTER) && pcard->is_affected_by_effect(EFFECT_EXTRA_RITUAL_MATERIAL) && pcard->is_removeable(playerid, POS_FACEUP, REASON_EFFECT) && (no_level || pcard->get_level() > 0 || pcard->is_affected_by_effect(EFFECT_RITUAL_LEVEL_EX))) {
      |                                                                                                                                                                      ^
src\puzzlepro_core/./field.cc:2190:205: note: +1
 2190 |     if ((pcard->data.type & TYPE_MONSTER) && pcard->is_affected_by_effect(EFFECT_EXTRA_RITUAL_MATERIAL) && pcard->is_removeable(playerid, POS_FACEUP, REASON_EFFECT) && (no_level || pcard->get_level() > 0 || pcard->is_affected_by_effect(EFFECT_RITUAL_LEVEL_EX))) {
      |                                                                                                                                                                                                             ^
src\puzzlepro_core/./field.cc:2194:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2194 |   for (auto &pcard : player[playerid].list_extra) {
      |   ^
src\puzzlepro_core/./field.cc:2195:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2195 |     if (pcard->is_affected_by_effect(EFFECT_EXTRA_RITUAL_MATERIAL) && (no_level || pcard->get_level() > 0 || pcard->is_affected_by_effect(EFFECT_RITUAL_LEVEL_EX))) {
      |     ^
src\puzzlepro_core/./field.cc:2195:68: note: +1
 2195 |     if (pcard->is_affected_by_effect(EFFECT_EXTRA_RITUAL_MATERIAL) && (no_level || pcard->get_level() > 0 || pcard->is_affected_by_effect(EFFECT_RITUAL_LEVEL_EX))) {
      |                                                                    ^
src\puzzlepro_core/./field.cc:2195:107: note: +1
 2195 |     if (pcard->is_affected_by_effect(EFFECT_EXTRA_RITUAL_MATERIAL) && (no_level || pcard->get_level() > 0 || pcard->is_affected_by_effect(EFFECT_RITUAL_LEVEL_EX))) {
      |                                                                                                           ^
src\puzzlepro_core/./field.cc:2201:13: warning: function 'get_fusion_material' has cognitive complexity of 58 (threshold 25) [readability-function-cognitive-complexity]
 2201 | void field::get_fusion_material(uint8_t playerid, card_set *material_all, card_set *material_base, uint32_t location) {
      |             ^
src\puzzlepro_core/./field.cc:2202:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2202 |   if (location & LOCATION_MZONE) {
      |   ^
src\puzzlepro_core/./field.cc:2203:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2203 |     for (auto &pcard : player[playerid].list_mzone) {
      |     ^
src\puzzlepro_core/./field.cc:2204:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2204 |       if (pcard && !pcard->is_treated_as_not_on_field()) {
      |       ^
src\puzzlepro_core/./field.cc:2204:17: note: +1
 2204 |       if (pcard && !pcard->is_treated_as_not_on_field()) {
      |                 ^
src\puzzlepro_core/./field.cc:2209:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2209 |   if (location & LOCATION_HAND) {
      |   ^
src\puzzlepro_core/./field.cc:2210:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2210 |     for (auto &pcard : player[playerid].list_hand) {
      |     ^
src\puzzlepro_core/./field.cc:2211:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2211 |       if (pcard->data.type & TYPE_MONSTER) {
      |       ^
src\puzzlepro_core/./field.cc:2216:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2216 |   if (location & LOCATION_GRAVE) {
      |   ^
src\puzzlepro_core/./field.cc:2217:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2217 |     for (auto &pcard : player[playerid].list_grave) {
      |     ^
src\puzzlepro_core/./field.cc:2218:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2218 |       if (pcard->data.type & TYPE_MONSTER) {
      |       ^
src\puzzlepro_core/./field.cc:2223:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2223 |   if (location & LOCATION_REMOVED) {
      |   ^
src\puzzlepro_core/./field.cc:2224:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2224 |     for (auto &pcard : player[playerid].list_remove) {
      |     ^
src\puzzlepro_core/./field.cc:2225:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2225 |       if (pcard->data.type & TYPE_MONSTER) {
      |       ^
src\puzzlepro_core/./field.cc:2230:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2230 |   if (location & LOCATION_DECK) {
      |   ^
src\puzzlepro_core/./field.cc:2231:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2231 |     for (auto &pcard : player[playerid].list_main) {
      |     ^
src\puzzlepro_core/./field.cc:2232:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2232 |       if (pcard->data.type & TYPE_MONSTER) {
      |       ^
src\puzzlepro_core/./field.cc:2237:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2237 |   if (location & LOCATION_EXTRA) {
      |   ^
src\puzzlepro_core/./field.cc:2238:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2238 |     for (auto &pcard : player[playerid].list_extra) {
      |     ^
src\puzzlepro_core/./field.cc:2239:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2239 |       if (pcard->data.type & TYPE_MONSTER) {
      |       ^
src\puzzlepro_core/./field.cc:2244:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2244 |   if (location & LOCATION_SZONE) {
      |   ^
src\puzzlepro_core/./field.cc:2245:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2245 |     for (auto &pcard : player[playerid].list_szone) {
      |     ^
src\puzzlepro_core/./field.cc:2246:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2246 |       if (pcard && pcard->data.type & TYPE_MONSTER && !pcard->is_treated_as_not_on_field()) {
      |       ^
src\puzzlepro_core/./field.cc:2246:52: note: +1
 2246 |       if (pcard && pcard->data.type & TYPE_MONSTER && !pcard->is_treated_as_not_on_field()) {
      |                                                    ^
src\puzzlepro_core/./field.cc:2251:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2251 |   if (location & LOCATION_PZONE) {
      |   ^
src\puzzlepro_core/./field.cc:2252:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2252 |     for (auto &pcard : player[playerid].list_szone) {
      |     ^
src\puzzlepro_core/./field.cc:2253:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2253 |       if (pcard && pcard->current.pzone && pcard->data.type & TYPE_MONSTER && !pcard->is_treated_as_not_on_field()) {
      |       ^
src\puzzlepro_core/./field.cc:2253:76: note: +1
 2253 |       if (pcard && pcard->current.pzone && pcard->data.type & TYPE_MONSTER && !pcard->is_treated_as_not_on_field()) {
      |                                                                            ^
src\puzzlepro_core/./field.cc:2258:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2258 |   for (auto &pcard : player[playerid].list_szone) {
      |   ^
src\puzzlepro_core/./field.cc:2259:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2259 |     if (pcard && pcard->is_affected_by_effect(EFFECT_EXTRA_FUSION_MATERIAL)) {
      |     ^
src\puzzlepro_core/./field.cc:2259:15: note: +1
 2259 |     if (pcard && pcard->is_affected_by_effect(EFFECT_EXTRA_FUSION_MATERIAL)) {
      |               ^
src\puzzlepro_core/./field.cc:2263:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2263 |   for (auto &pcard : player[playerid].list_grave) {
      |   ^
src\puzzlepro_core/./field.cc:2264:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2264 |     if (pcard->is_affected_by_effect(EFFECT_EXTRA_FUSION_MATERIAL)) {
      |     ^
src\puzzlepro_core/./field.cc:2291:13: warning: function 'get_xyz_material' has cognitive complexity of 26 (threshold 25) [readability-function-cognitive-complexity]
 2291 | void field::get_xyz_material(lua_State *L, card *scard, int32_t findex, uint32_t lv, int32_t maxc, group *mg) {
      |             ^
src\puzzlepro_core/./field.cc:2294:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2294 |   if (mg) {
      |   ^
src\puzzlepro_core/./field.cc:2295:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2295 |     for (auto &pcard : mg->container) {
      |     ^
src\puzzlepro_core/./field.cc:2296:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2296 |       if (pcard->is_can_be_xyz_material(scard) && (xyz_level = pcard->check_xyz_level(scard, lv)) && (findex == 0 || pduel->lua->check_filter(L, pcard, findex, 0))) {
      |       ^
src\puzzlepro_core/./field.cc:2296:99: note: +1
 2296 |       if (pcard->is_can_be_xyz_material(scard) && (xyz_level = pcard->check_xyz_level(scard, lv)) && (findex == 0 || pduel->lua->check_filter(L, pcard, findex, 0))) {
      |                                                                                                   ^
src\puzzlepro_core/./field.cc:2296:115: note: +1
 2296 |       if (pcard->is_can_be_xyz_material(scard) && (xyz_level = pcard->check_xyz_level(scard, lv)) && (findex == 0 || pduel->lua->check_filter(L, pcard, findex, 0))) {
      |                                                                                                                   ^
src\puzzlepro_core/./field.cc:2301:3: note: +1, nesting level increased to 1
 2301 |   else {
      |   ^
src\puzzlepro_core/./field.cc:2303:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2303 |     for (auto &pcard : player[playerid].list_mzone) {
      |     ^
src\puzzlepro_core/./field.cc:2304:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2304 |       if (pcard && pcard->is_position(POS_FACEUP) && !pcard->is_treated_as_not_on_field() && pcard->is_can_be_xyz_material(scard) && (xyz_level = pcard->check_xyz_level(scard, lv)) && (findex == 0 || pduel->lua->check_filter(L, pcard, findex, 0))) {
      |       ^
src\puzzlepro_core/./field.cc:2304:182: note: +1
 2304 |       if (pcard && pcard->is_position(POS_FACEUP) && !pcard->is_treated_as_not_on_field() && pcard->is_can_be_xyz_material(scard) && (xyz_level = pcard->check_xyz_level(scard, lv)) && (findex == 0 || pduel->lua->check_filter(L, pcard, findex, 0))) {
      |                                                                                                                                                                                      ^
src\puzzlepro_core/./field.cc:2304:198: note: +1
 2304 |       if (pcard && pcard->is_position(POS_FACEUP) && !pcard->is_treated_as_not_on_field() && pcard->is_can_be_xyz_material(scard) && (xyz_level = pcard->check_xyz_level(scard, lv)) && (findex == 0 || pduel->lua->check_filter(L, pcard, findex, 0))) {
      |                                                                                                                                                                                                      ^
src\puzzlepro_core/./field.cc:2308:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2308 |     for (auto &pcard : player[1 - playerid].list_mzone) {
      |     ^
src\puzzlepro_core/./field.cc:2309:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2309 |       if (pcard && pcard->is_position(POS_FACEUP) && !pcard->is_treated_as_not_on_field() && pcard->is_can_be_xyz_material(scard) && (xyz_level = pcard->check_xyz_level(scard, lv)) && pcard->is_affected_by_effect(EFFECT_XYZ_MATERIAL) && (findex == 0 || pduel->lua->check_filter(L, pcard, findex, 0))) {
      |       ^
src\puzzlepro_core/./field.cc:2309:235: note: +1
 2309 |       if (pcard && pcard->is_position(POS_FACEUP) && !pcard->is_treated_as_not_on_field() && pcard->is_can_be_xyz_material(scard) && (xyz_level = pcard->check_xyz_level(scard, lv)) && pcard->is_affected_by_effect(EFFECT_XYZ_MATERIAL) && (findex == 0 || pduel->lua->check_filter(L, pcard, findex, 0))) {
      |                                                                                                                                                                                                                                           ^
src\puzzlepro_core/./field.cc:2309:251: note: +1
 2309 |       if (pcard && pcard->is_position(POS_FACEUP) && !pcard->is_treated_as_not_on_field() && pcard->is_can_be_xyz_material(scard) && (xyz_level = pcard->check_xyz_level(scard, lv)) && pcard->is_affected_by_effect(EFFECT_XYZ_MATERIAL) && (findex == 0 || pduel->lua->check_filter(L, pcard, findex, 0))) {
      |                                                                                                                                                                                                                                                           ^
src\puzzlepro_core/./field.cc:2314:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2314 |   if (core.global_flag & GLOBALFLAG_XMAT_COUNT_LIMIT) {
      |   ^
src\puzzlepro_core/./field.cc:2315:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2315 |     if (maxc > (int32_t)core.xmaterial_lst.size()) {
      |     ^
src\puzzlepro_core/./field.cc:2415:13: warning: function 'adjust_self_destroy_set' has cognitive complexity of 41 (threshold 25) [readability-function-cognitive-complexity]
 2415 | void field::adjust_self_destroy_set() {
      |             ^
src\puzzlepro_core/./field.cc:2416:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2416 |   if (core.selfdes_disabled || !core.unique_destroy_set.empty() || !core.self_destroy_set.empty() || !core.self_tograve_set.empty()) {
      |   ^
src\puzzlepro_core/./field.cc:2416:99: note: +1
 2416 |   if (core.selfdes_disabled || !core.unique_destroy_set.empty() || !core.self_destroy_set.empty() || !core.self_tograve_set.empty()) {
      |                                                                                                   ^
src\puzzlepro_core/./field.cc:2420:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2420 |   for (int32_t i = 0; i < 2; ++i) {
      |   ^
src\puzzlepro_core/./field.cc:2422:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2422 |     for (auto &ucard : core.unique_cards[check_player]) {
      |     ^
src\puzzlepro_core/./field.cc:2423:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2423 |       if (ucard->is_position(POS_FACEUP) && ucard->get_status(STATUS_EFFECT_ENABLED) && !ucard->get_status(STATUS_DISABLED | STATUS_FORBIDDEN)) {
      |       ^
src\puzzlepro_core/./field.cc:2423:86: note: +1
 2423 |       if (ucard->is_position(POS_FACEUP) && ucard->get_status(STATUS_EFFECT_ENABLED) && !ucard->get_status(STATUS_DISABLED | STATUS_FORBIDDEN)) {
      |                                                                                      ^
src\puzzlepro_core/./field.cc:2426:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 2426 |         if (cset.size() == 0) {
      |         ^
src\puzzlepro_core/./field.cc:2429:14: note: +1, nesting level increased to 4
 2429 |         else if (cset.size() == 1) {
      |              ^
src\puzzlepro_core/./field.cc:2433:9: note: +1, nesting level increased to 4
 2433 |         else {
      |         ^
src\puzzlepro_core/./field.cc:2438:49: note: nesting level increased to 2
 2438 |     std::sort(uniq_set.begin(), uniq_set.end(), [](card *lhs, card *rhs) {
      |                                                 ^
src\puzzlepro_core/./field.cc:2441:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2441 |     for (auto &pcard : uniq_set) {
      |     ^
src\puzzlepro_core/./field.cc:2448:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2448 |   for (int32_t p = 0; p < 2; ++p) {
      |   ^
src\puzzlepro_core/./field.cc:2449:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2449 |     for (auto &pcard : player[p].list_mzone) {
      |     ^
src\puzzlepro_core/./field.cc:2450:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2450 |       if (pcard && pcard->is_position(POS_FACEUP) && !pcard->is_status(STATUS_BATTLE_DESTROYED)) {
      |       ^
src\puzzlepro_core/./field.cc:2450:51: note: +1
 2450 |       if (pcard && pcard->is_position(POS_FACEUP) && !pcard->is_status(STATUS_BATTLE_DESTROYED)) {
      |                                                   ^
src\puzzlepro_core/./field.cc:2454:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2454 |     for (auto &pcard : player[p].list_szone) {
      |     ^
src\puzzlepro_core/./field.cc:2455:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2455 |       if (pcard && pcard->is_position(POS_FACEUP)) {
      |       ^
src\puzzlepro_core/./field.cc:2455:17: note: +1
 2455 |       if (pcard && pcard->is_position(POS_FACEUP)) {
      |                 ^
src\puzzlepro_core/./field.cc:2460:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2460 |   for (auto &pcard : cset) {
      |   ^
src\puzzlepro_core/./field.cc:2462:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2462 |     if (peffect) {
      |     ^
src\puzzlepro_core/./field.cc:2466:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2466 |   if (core.global_flag & GLOBALFLAG_SELF_TOGRAVE) {
      |   ^
src\puzzlepro_core/./field.cc:2467:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2467 |     for (auto &pcard : cset) {
      |     ^
src\puzzlepro_core/./field.cc:2469:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2469 |       if (peffect) {
      |       ^
src\puzzlepro_core/./field.cc:2474:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2474 |   if (!core.self_destroy_set.empty()) {
      |   ^
src\puzzlepro_core/./field.cc:2477:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2477 |   if (!core.self_tograve_set.empty()) {
      |   ^
src\puzzlepro_core/./field.cc:2493:16: warning: function 'adjust_grant_effect' has cognitive complexity of 28 (threshold 25) [readability-function-cognitive-complexity]
 2493 | int32_t field::adjust_grant_effect() {
      |                ^
src\puzzlepro_core/./field.cc:2495:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2495 |   for (auto &eit : effects.grant_effect) {
      |   ^
src\puzzlepro_core/./field.cc:2497:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2497 |     if (peffect->object_type != PARAM_TYPE_EFFECT) {
      |     ^
src\puzzlepro_core/./field.cc:2501:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2501 |     if (geffect->type & EFFECT_TYPE_GRANT) {
      |     ^
src\puzzlepro_core/./field.cc:2504:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2504 |     if (geffect->code == EFFECT_UNIQUE_CHECK) {
      |     ^
src\puzzlepro_core/./field.cc:2508:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2508 |     if (peffect->is_available()) {
      |     ^
src\puzzlepro_core/./field.cc:2512:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2512 |     for (auto &pcard : cset) {
      |     ^
src\puzzlepro_core/./field.cc:2513:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2513 |       if (pcard->is_affect_by_effect(peffect) && !eit.second.count(pcard)) {
      |       ^
src\puzzlepro_core/./field.cc:2513:47: note: +1
 2513 |       if (pcard->is_affect_by_effect(peffect) && !eit.second.count(pcard)) {
      |                                               ^
src\puzzlepro_core/./field.cc:2518:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2518 |     for (auto &cit : eit.second) {
      |     ^
src\puzzlepro_core/./field.cc:2520:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2520 |       if (!pcard->is_affect_by_effect(peffect) || !cset.count(pcard)) {
      |       ^
src\puzzlepro_core/./field.cc:2520:48: note: +1
 2520 |       if (!pcard->is_affect_by_effect(peffect) || !cset.count(pcard)) {
      |                                                ^
src\puzzlepro_core/./field.cc:2524:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2524 |     for (auto &pcard : add_set) {
      |     ^
src\puzzlepro_core/./field.cc:2530:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2530 |     for (auto &pcard : remove_set) {
      |     ^
src\puzzlepro_core/./field.cc:2535:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2535 |     if (!add_set.empty() || !remove_set.empty()) {
      |     ^
src\puzzlepro_core/./field.cc:2535:26: note: +1
 2535 |     if (!add_set.empty() || !remove_set.empty()) {
      |                          ^
src\puzzlepro_core/./field.cc:2596:13: warning: function 'check_card_counter' has cognitive complexity of 27 (threshold 25) [readability-function-cognitive-complexity]
 2596 | void field::check_card_counter(card *pcard, int32_t counter_type, int32_t playerid) {
      |             ^
src\puzzlepro_core/./field.cc:2597:57: note: +1, including nesting penalty of 0, nesting level increased to 1
 2597 |   auto &counter_map = (counter_type == ACTIVITY_SUMMON) ? core.summon_counter : (counter_type == ACTIVITY_NORMALSUMMON) ? core.normalsummon_counter : (counter_type == ACTIVITY_SPSUMMON) ? core.spsummon_counter : (counter_type == ACTIVITY_FLIPSUMMON) ? core.flipsummon_counter : core.attack_counter;
      |                                                         ^
src\puzzlepro_core/./field.cc:2597:121: note: +2, including nesting penalty of 1, nesting level increased to 2
 2597 |   auto &counter_map = (counter_type == ACTIVITY_SUMMON) ? core.summon_counter : (counter_type == ACTIVITY_NORMALSUMMON) ? core.normalsummon_counter : (counter_type == ACTIVITY_SPSUMMON) ? core.spsummon_counter : (counter_type == ACTIVITY_FLIPSUMMON) ? core.flipsummon_counter : core.attack_counter;
      |                                                                                                                         ^
src\puzzlepro_core/./field.cc:2597:187: note: +3, including nesting penalty of 2, nesting level increased to 3
 2597 |   auto &counter_map = (counter_type == ACTIVITY_SUMMON) ? core.summon_counter : (counter_type == ACTIVITY_NORMALSUMMON) ? core.normalsummon_counter : (counter_type == ACTIVITY_SPSUMMON) ? core.spsummon_counter : (counter_type == ACTIVITY_FLIPSUMMON) ? core.flipsummon_counter : core.attack_counter;
      |                                                                                                                                                                                           ^
src\puzzlepro_core/./field.cc:2597:251: note: +4, including nesting penalty of 3, nesting level increased to 4
 2597 |   auto &counter_map = (counter_type == ACTIVITY_SUMMON) ? core.summon_counter : (counter_type == ACTIVITY_NORMALSUMMON) ? core.normalsummon_counter : (counter_type == ACTIVITY_SPSUMMON) ? core.spsummon_counter : (counter_type == ACTIVITY_FLIPSUMMON) ? core.flipsummon_counter : core.attack_counter;
      |                                                                                                                                                                                                                                                           ^
src\puzzlepro_core/./field.cc:2598:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2598 |   for (auto &iter : counter_map) {
      |   ^
src\puzzlepro_core/./field.cc:2600:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2600 |     if ((playerid == 0) && (info.second & 0xffff) != 0) {
      |     ^
src\puzzlepro_core/./field.cc:2600:25: note: +1
 2600 |     if ((playerid == 0) && (info.second & 0xffff) != 0) {
      |                         ^
src\puzzlepro_core/./field.cc:2603:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2603 |     if ((playerid == 1) && (info.second & 0xffff0000) != 0) {
      |     ^
src\puzzlepro_core/./field.cc:2603:25: note: +1
 2603 |     if ((playerid == 1) && (info.second & 0xffff0000) != 0) {
      |                         ^
src\puzzlepro_core/./field.cc:2606:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2606 |     if (info.first) {
      |     ^
src\puzzlepro_core/./field.cc:2608:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2608 |       if (!pduel->lua->check_condition(info.first, 1)) {
      |       ^
src\puzzlepro_core/./field.cc:2609:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 2609 |         if (playerid == 0) {
      |         ^
src\puzzlepro_core/./field.cc:2612:9: note: +1, nesting level increased to 4
 2612 |         else {
      |         ^
src\puzzlepro_core/./field.cc:2620:13: warning: function 'check_card_counter' has cognitive complexity of 32 (threshold 25) [readability-function-cognitive-complexity]
 2620 | void field::check_card_counter(group *pgroup, int32_t counter_type, int32_t playerid) {
      |             ^
src\puzzlepro_core/./field.cc:2621:57: note: +1, including nesting penalty of 0, nesting level increased to 1
 2621 |   auto &counter_map = (counter_type == ACTIVITY_SUMMON) ? core.summon_counter : (counter_type == ACTIVITY_NORMALSUMMON) ? core.normalsummon_counter : (counter_type == ACTIVITY_SPSUMMON) ? core.spsummon_counter : (counter_type == ACTIVITY_FLIPSUMMON) ? core.flipsummon_counter : core.attack_counter;
      |                                                         ^
src\puzzlepro_core/./field.cc:2621:121: note: +2, including nesting penalty of 1, nesting level increased to 2
 2621 |   auto &counter_map = (counter_type == ACTIVITY_SUMMON) ? core.summon_counter : (counter_type == ACTIVITY_NORMALSUMMON) ? core.normalsummon_counter : (counter_type == ACTIVITY_SPSUMMON) ? core.spsummon_counter : (counter_type == ACTIVITY_FLIPSUMMON) ? core.flipsummon_counter : core.attack_counter;
      |                                                                                                                         ^
src\puzzlepro_core/./field.cc:2621:187: note: +3, including nesting penalty of 2, nesting level increased to 3
 2621 |   auto &counter_map = (counter_type == ACTIVITY_SUMMON) ? core.summon_counter : (counter_type == ACTIVITY_NORMALSUMMON) ? core.normalsummon_counter : (counter_type == ACTIVITY_SPSUMMON) ? core.spsummon_counter : (counter_type == ACTIVITY_FLIPSUMMON) ? core.flipsummon_counter : core.attack_counter;
      |                                                                                                                                                                                           ^
src\puzzlepro_core/./field.cc:2621:251: note: +4, including nesting penalty of 3, nesting level increased to 4
 2621 |   auto &counter_map = (counter_type == ACTIVITY_SUMMON) ? core.summon_counter : (counter_type == ACTIVITY_NORMALSUMMON) ? core.normalsummon_counter : (counter_type == ACTIVITY_SPSUMMON) ? core.spsummon_counter : (counter_type == ACTIVITY_FLIPSUMMON) ? core.flipsummon_counter : core.attack_counter;
      |                                                                                                                                                                                                                                                           ^
src\puzzlepro_core/./field.cc:2622:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2622 |   for (auto &iter : counter_map) {
      |   ^
src\puzzlepro_core/./field.cc:2624:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2624 |     if ((playerid == 0) && (info.second & 0xffff) != 0) {
      |     ^
src\puzzlepro_core/./field.cc:2624:25: note: +1
 2624 |     if ((playerid == 0) && (info.second & 0xffff) != 0) {
      |                         ^
src\puzzlepro_core/./field.cc:2627:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2627 |     if ((playerid == 1) && (info.second & 0xffff0000) != 0) {
      |     ^
src\puzzlepro_core/./field.cc:2627:25: note: +1
 2627 |     if ((playerid == 1) && (info.second & 0xffff0000) != 0) {
      |                         ^
src\puzzlepro_core/./field.cc:2630:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2630 |     if (info.first) {
      |     ^
src\puzzlepro_core/./field.cc:2631:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2631 |       for (auto &pcard : pgroup->container) {
      |       ^
src\puzzlepro_core/./field.cc:2633:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 2633 |         if (!pduel->lua->check_condition(info.first, 1)) {
      |         ^
src\puzzlepro_core/./field.cc:2634:11: note: +5, including nesting penalty of 4, nesting level increased to 5
 2634 |           if (playerid == 0) {
      |           ^
src\puzzlepro_core/./field.cc:2637:11: note: +1, nesting level increased to 5
 2637 |           else {
      |           ^
src\puzzlepro_core/./field.cc:2794:16: warning: function 'get_attack_target' has cognitive complexity of 96 (threshold 25) [readability-function-cognitive-complexity]
 2794 | int32_t field::get_attack_target(card *pcard, card_vector *v, uint8_t chain_attack, bool select_target) {
      |                ^
src\puzzlepro_core/./field.cc:2798:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2798 |   for (auto &atarget : player[1 - p].list_mzone) {
      |   ^
src\puzzlepro_core/./field.cc:2799:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2799 |     if (atarget) {
      |     ^
src\puzzlepro_core/./field.cc:2800:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2800 |       if (atarget->is_affected_by_effect(EFFECT_ONLY_BE_ATTACKED)) {
      |       ^
src\puzzlepro_core/./field.cc:2803:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2803 |       if (pcard->is_affected_by_effect(EFFECT_ONLY_ATTACK_MONSTER, atarget)) {
      |       ^
src\puzzlepro_core/./field.cc:2806:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2806 |       if (pcard->is_affected_by_effect(EFFECT_MUST_ATTACK_MONSTER, atarget)) {
      |       ^
src\puzzlepro_core/./field.cc:2813:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2813 |   if (auto_attack.size()) {
      |   ^
src\puzzlepro_core/./field.cc:2815:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2815 |     if (auto_attack.size() == 1) {
      |     ^
src\puzzlepro_core/./field.cc:2818:5: note: +1, nesting level increased to 2
 2818 |     else {
      |     ^
src\puzzlepro_core/./field.cc:2822:8: note: +1, nesting level increased to 1
 2822 |   else if (pcard->is_affected_by_effect(EFFECT_ONLY_ATTACK_MONSTER)) {
      |        ^
src\puzzlepro_core/./field.cc:2824:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2824 |     if (only_attack.size() == 1) {
      |     ^
src\puzzlepro_core/./field.cc:2827:5: note: +1, nesting level increased to 2
 2827 |     else {
      |     ^
src\puzzlepro_core/./field.cc:2831:8: note: +1, nesting level increased to 1
 2831 |   else if (pcard->is_affected_by_effect(EFFECT_MUST_ATTACK_MONSTER)) {
      |        ^
src\puzzlepro_core/./field.cc:2833:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2833 |     if (must_attack.size()) {
      |     ^
src\puzzlepro_core/./field.cc:2836:5: note: +1, nesting level increased to 2
 2836 |     else {
      |     ^
src\puzzlepro_core/./field.cc:2840:3: note: +1, nesting level increased to 1
 2840 |   else {
      |   ^
src\puzzlepro_core/./field.cc:2847:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2847 |   for (effect_set::size_type i = 0; i < eset.size(); ++i) {
      |   ^
src\puzzlepro_core/./field.cc:2849:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2849 |     if (val > extra_count) {
      |     ^
src\puzzlepro_core/./field.cc:2856:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2856 |   for (effect_set::size_type i = 0; i < eset.size(); ++i) {
      |   ^
src\puzzlepro_core/./field.cc:2858:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2858 |     if (val > extra_count_m) {
      |     ^
src\puzzlepro_core/./field.cc:2862:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2862 |   if (!chain_attack && pcard->announce_count > extra_count && (!extra_count_m || pcard->announce_count > extra_count_m || pcard->announced_cards.findcard(0))) {
      |   ^
src\puzzlepro_core/./field.cc:2862:60: note: +1
 2862 |   if (!chain_attack && pcard->announce_count > extra_count && (!extra_count_m || pcard->announce_count > extra_count_m || pcard->announced_cards.findcard(0))) {
      |                                                            ^
src\puzzlepro_core/./field.cc:2862:120: note: +1
 2862 |   if (!chain_attack && pcard->announce_count > extra_count && (!extra_count_m || pcard->announce_count > extra_count_m || pcard->announced_cards.findcard(0))) {
      |                                                                                                                        ^
src\puzzlepro_core/./field.cc:2864:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2864 |     if ((peffect = pcard->is_affected_by_effect(EFFECT_ATTACK_ALL)) && pcard->attack_all_target) {
      |     ^
src\puzzlepro_core/./field.cc:2864:69: note: +1
 2864 |     if ((peffect = pcard->is_affected_by_effect(EFFECT_ATTACK_ALL)) && pcard->attack_all_target) {
      |                                                                     ^
src\puzzlepro_core/./field.cc:2865:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2865 |       for (auto &atarget : *pv) {
      |       ^
src\puzzlepro_core/./field.cc:2866:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 2866 |         if (!atarget) {
      |         ^
src\puzzlepro_core/./field.cc:2870:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 2870 |         if (!peffect->check_value_condition(1)) {
      |         ^
src\puzzlepro_core/./field.cc:2873:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 2873 |         if (pcard->announced_cards.findcard(atarget) >= (uint32_t)peffect->get_value(atarget)) {
      |         ^
src\puzzlepro_core/./field.cc:2876:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 2876 |         if (atype >= 2 && atarget->is_affected_by_effect(EFFECT_IGNORE_BATTLE_TARGET, pcard)) {
      |         ^
src\puzzlepro_core/./field.cc:2876:24: note: +1
 2876 |         if (atype >= 2 && atarget->is_affected_by_effect(EFFECT_IGNORE_BATTLE_TARGET, pcard)) {
      |                        ^
src\puzzlepro_core/./field.cc:2879:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 2879 |         if (select_target && (atype == 2 || atype == 4)) {
      |         ^
src\puzzlepro_core/./field.cc:2879:27: note: +1
 2879 |         if (select_target && (atype == 2 || atype == 4)) {
      |                           ^
src\puzzlepro_core/./field.cc:2879:42: note: +1
 2879 |         if (select_target && (atype == 2 || atype == 4)) {
      |                                          ^
src\puzzlepro_core/./field.cc:2880:11: note: +5, including nesting penalty of 4, nesting level increased to 5
 2880 |           if (atarget->is_affected_by_effect(EFFECT_CANNOT_BE_BATTLE_TARGET, pcard)) {
      |           ^
src\puzzlepro_core/./field.cc:2883:11: note: +5, including nesting penalty of 4, nesting level increased to 5
 2883 |           if (pcard->is_affected_by_effect(EFFECT_CANNOT_SELECT_BATTLE_TARGET, atarget)) {
      |           ^
src\puzzlepro_core/./field.cc:2894:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2894 |   for (auto &atarget : *pv) {
      |   ^
src\puzzlepro_core/./field.cc:2895:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2895 |     if (!atarget) {
      |     ^
src\puzzlepro_core/./field.cc:2898:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2898 |     if (atype >= 2 && atarget->is_affected_by_effect(EFFECT_IGNORE_BATTLE_TARGET, pcard)) {
      |     ^
src\puzzlepro_core/./field.cc:2898:20: note: +1
 2898 |     if (atype >= 2 && atarget->is_affected_by_effect(EFFECT_IGNORE_BATTLE_TARGET, pcard)) {
      |                    ^
src\puzzlepro_core/./field.cc:2902:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2902 |     if (chain_attack && core.chain_attack_target && atarget != core.chain_attack_target) {
      |     ^
src\puzzlepro_core/./field.cc:2902:50: note: +1
 2902 |     if (chain_attack && core.chain_attack_target && atarget != core.chain_attack_target) {
      |                                                  ^
src\puzzlepro_core/./field.cc:2905:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2905 |     if (select_target && (atype == 2 || atype == 4)) {
      |     ^
src\puzzlepro_core/./field.cc:2905:23: note: +1
 2905 |     if (select_target && (atype == 2 || atype == 4)) {
      |                       ^
src\puzzlepro_core/./field.cc:2905:38: note: +1
 2905 |     if (select_target && (atype == 2 || atype == 4)) {
      |                                      ^
src\puzzlepro_core/./field.cc:2906:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2906 |       if (atarget->is_affected_by_effect(EFFECT_CANNOT_BE_BATTLE_TARGET, pcard)) {
      |       ^
src\puzzlepro_core/./field.cc:2909:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2909 |       if (pcard->is_affected_by_effect(EFFECT_CANNOT_SELECT_BATTLE_TARGET, atarget)) {
      |       ^
src\puzzlepro_core/./field.cc:2915:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2915 |   if (atype <= 3) {
      |   ^
src\puzzlepro_core/./field.cc:2918:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2918 |   if ((mcount == 0 || pcard->is_affected_by_effect(EFFECT_DIRECT_ATTACK) || core.attack_player) && !pcard->is_affected_by_effect(EFFECT_CANNOT_DIRECT_ATTACK) && !(!chain_attack && extra_count_m && pcard->announce_count > extra_count) && !(chain_attack && core.chain_attack_target)) {
      |   ^
src\puzzlepro_core/./field.cc:2918:235: note: +1
 2918 |   if ((mcount == 0 || pcard->is_affected_by_effect(EFFECT_DIRECT_ATTACK) || core.attack_player) && !pcard->is_affected_by_effect(EFFECT_CANNOT_DIRECT_ATTACK) && !(!chain_attack && extra_count_m && pcard->announce_count > extra_count) && !(chain_attack && core.chain_attack_target)) {
      |                                                                                                                                                                                                                                           ^
src\puzzlepro_core/./field.cc:2918:74: note: +1
 2918 |   if ((mcount == 0 || pcard->is_affected_by_effect(EFFECT_DIRECT_ATTACK) || core.attack_player) && !pcard->is_affected_by_effect(EFFECT_CANNOT_DIRECT_ATTACK) && !(!chain_attack && extra_count_m && pcard->announce_count > extra_count) && !(chain_attack && core.chain_attack_target)) {
      |                                                                          ^
src\puzzlepro_core/./field.cc:2918:162: warning: boolean expression can be simplified by DeMorgan's theorem [readability-simplify-boolean-expr]
 2918 |   if ((mcount == 0 || pcard->is_affected_by_effect(EFFECT_DIRECT_ATTACK) || core.attack_player) && !pcard->is_affected_by_effect(EFFECT_CANNOT_DIRECT_ATTACK) && !(!chain_attack && extra_count_m && pcard->announce_count > extra_count) && !(chain_attack && core.chain_attack_target)) {
      |                                                                                                                                                                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
      |                                                                                                                                                                                  || !             ||                       <=
src\puzzlepro_core/./field.cc:2974:13: warning: function 'get_synchro_material' has cognitive complexity of 40 (threshold 25) [readability-function-cognitive-complexity]
 2974 | void field::get_synchro_material(uint8_t playerid, card_set *material, effect *tuner_limit) {
      |             ^
src\puzzlepro_core/./field.cc:2975:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2975 |   if (tuner_limit && tuner_limit->value) {
      |   ^
src\puzzlepro_core/./field.cc:2975:19: note: +1
 2975 |   if (tuner_limit && tuner_limit->value) {
      |                   ^
src\puzzlepro_core/./field.cc:2977:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2977 |     if (location & LOCATION_MZONE) {
      |     ^
src\puzzlepro_core/./field.cc:2978:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2978 |       for (auto &pcard : player[playerid].list_mzone) {
      |       ^
src\puzzlepro_core/./field.cc:2979:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 2979 |         if (pcard && !pcard->is_treated_as_not_on_field()) {
      |         ^
src\puzzlepro_core/./field.cc:2979:19: note: +1
 2979 |         if (pcard && !pcard->is_treated_as_not_on_field()) {
      |                   ^
src\puzzlepro_core/./field.cc:2984:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2984 |     if (location & LOCATION_HAND) {
      |     ^
src\puzzlepro_core/./field.cc:2985:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2985 |       for (auto &pcard : player[playerid].list_hand) {
      |       ^
src\puzzlepro_core/./field.cc:2986:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 2986 |         if (pcard) {
      |         ^
src\puzzlepro_core/./field.cc:2992:3: note: +1, nesting level increased to 1
 2992 |   else {
      |   ^
src\puzzlepro_core/./field.cc:2993:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2993 |     for (auto &pcard : player[playerid].list_mzone) {
      |     ^
src\puzzlepro_core/./field.cc:2994:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2994 |       if (pcard && !pcard->is_treated_as_not_on_field()) {
      |       ^
src\puzzlepro_core/./field.cc:2994:17: note: +1
 2994 |       if (pcard && !pcard->is_treated_as_not_on_field()) {
      |                 ^
src\puzzlepro_core/./field.cc:2998:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2998 |     for (auto &pcard : player[1 - playerid].list_mzone) {
      |     ^
src\puzzlepro_core/./field.cc:2999:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2999 |       if (pcard && pcard->is_affected_by_effect(EFFECT_EXTRA_SYNCHRO_MATERIAL) && !pcard->is_treated_as_not_on_field()) {
      |       ^
src\puzzlepro_core/./field.cc:2999:80: note: +1
 2999 |       if (pcard && pcard->is_affected_by_effect(EFFECT_EXTRA_SYNCHRO_MATERIAL) && !pcard->is_treated_as_not_on_field()) {
      |                                                                                ^
src\puzzlepro_core/./field.cc:3003:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 3003 |     for (auto &pcard : player[playerid].list_hand) {
      |     ^
src\puzzlepro_core/./field.cc:3004:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 3004 |       if (pcard && pcard->is_affected_by_effect(EFFECT_EXTRA_SYNCHRO_MATERIAL)) {
      |       ^
src\puzzlepro_core/./field.cc:3004:17: note: +1
 3004 |       if (pcard && pcard->is_affected_by_effect(EFFECT_EXTRA_SYNCHRO_MATERIAL)) {
      |                 ^
src\puzzlepro_core/./field.cc:3031:16: warning: function 'check_tuner_material' has cognitive complexity of 173 (threshold 25) [readability-function-cognitive-complexity]
 3031 | int32_t field::check_tuner_material(lua_State *L, card *pcard, card *tuner, int32_t findex1, int32_t findex2, int32_t min, int32_t max, card *smat, group *mg) {
      |                ^
src\puzzlepro_core/./field.cc:3032:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 3032 |   if (!tuner || (tuner->current.location == LOCATION_MZONE && !tuner->is_position(POS_FACEUP)) || !tuner->is_tuner(pcard) || !tuner->is_can_be_synchro_material(pcard)) {
      |   ^
src\puzzlepro_core/./field.cc:3032:123: note: +1
 3032 |   if (!tuner || (tuner->current.location == LOCATION_MZONE && !tuner->is_position(POS_FACEUP)) || !tuner->is_tuner(pcard) || !tuner->is_can_be_synchro_material(pcard)) {
      |                                                                                                                           ^
src\puzzlepro_core/./field.cc:3032:60: note: +1
 3032 |   if (!tuner || (tuner->current.location == LOCATION_MZONE && !tuner->is_position(POS_FACEUP)) || !tuner->is_tuner(pcard) || !tuner->is_can_be_synchro_material(pcard)) {
      |                                                            ^
src\puzzlepro_core/./field.cc:3036:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 3036 |   if (pcheck) {
      |   ^
src\puzzlepro_core/./field.cc:3039:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 3039 |   if ((mg && !mg->has_card(tuner)) || !pduel->lua->check_filter(L, tuner, findex1, 0)) {
      |   ^
src\puzzlepro_core/./field.cc:3039:36: note: +1
 3039 |   if ((mg && !mg->has_card(tuner)) || !pduel->lua->check_filter(L, tuner, findex1, 0)) {
      |                                    ^
src\puzzlepro_core/./field.cc:3039:11: note: +1
 3039 |   if ((mg && !mg->has_card(tuner)) || !pduel->lua->check_filter(L, tuner, findex1, 0)) {
      |           ^
src\puzzlepro_core/./field.cc:3044:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 3044 |   if (pcustom) {
      |   ^
src\puzzlepro_core/./field.cc:3045:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 3045 |     if (!pcustom->target) {
      |     ^
src\puzzlepro_core/./field.cc:3054:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 3054 |     if (pduel->lua->check_condition(pcustom->target, 5)) {
      |     ^
src\puzzlepro_core/./field.cc:3067:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 3067 |   if (location_count <= 0) {
      |   ^
src\puzzlepro_core/./field.cc:3072:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 3072 |     if (handover_zone_cards.find(tuner) != handover_zone_cards.end()) {
      |     ^
src\puzzlepro_core/./field.cc:3078:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 3078 |   if (tuner_limit) {
      |   ^
src\puzzlepro_core/./field.cc:3079:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 3079 |     if (tuner_limit->get_integer_value()) {
      |     ^
src\puzzlepro_core/./field.cc:3082:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 3082 |     if (tuner_limit->is_flag(EFFECT_FLAG_SPSUM_PARAM)) {
      |     ^
src\puzzlepro_core/./field.cc:3083:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 3083 |       if (tuner_limit->s_range && tuner_limit->s_range > min) {
      |       ^
src\puzzlepro_core/./field.cc:3083:32: note: +1
 3083 |       if (tuner_limit->s_range && tuner_limit->s_range > min) {
      |                                ^
src\puzzlepro_core/./field.cc:3086:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 3086 |       if (tuner_limit->o_range && tuner_limit->o_range < max) {
      |       ^
src\puzzlepro_core/./field.cc:3086:32: note: +1
 3086 |       if (tuner_limit->o_range && tuner_limit->o_range < max) {
      |                                ^
src\puzzlepro_core/./field.cc:3090:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 3090 |     if (min > max) {
      |     ^
src\puzzlepro_core/./field.cc:3096:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 3096 |   if (mzone_limit < 0) {
      |   ^
src\puzzlepro_core/./field.cc:3097:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 3097 |     if (location == LOCATION_HAND) {
      |     ^
src\puzzlepro_core/./field.cc:3102:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 3102 |     if (ft > min) {
      |     ^
src\puzzlepro_core/./field.cc:3105:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 3105 |     if (min > max) {
      |     ^
src\puzzlepro_core/./field.cc:3115:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 3115 |   if (smat) {
      |   ^
src\puzzlepro_core/./field.cc:3116:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 3116 |     if (pcheck) {
      |     ^
src\puzzlepro_core/./field.cc:3119:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 3119 |     if ((smat->current.location == LOCATION_MZONE && !smat->is_position(POS_FACEUP)) || !smat->is_can_be_synchro_material(pcard, tuner)) {
      |     ^
src\puzzlepro_core/./field.cc:3119:86: note: +1
 3119 |     if ((smat->current.location == LOCATION_MZONE && !smat->is_position(POS_FACEUP)) || !smat->is_can_be_synchro_material(pcard, tuner)) {
      |                                                                                      ^
src\puzzlepro_core/./field.cc:3119:51: note: +1
 3119 |     if ((smat->current.location == LOCATION_MZONE && !smat->is_position(POS_FACEUP)) || !smat->is_can_be_synchro_material(pcard, tuner)) {
      |                                                   ^
src\puzzlepro_core/./field.cc:3126:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 3126 |     if (!res) {
      |     ^
src\puzzlepro_core/./field.cc:3130:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 3130 |     if (tuner_limit) {
      |     ^
src\puzzlepro_core/./field.cc:3131:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 3131 |       if (tuner_limit->target) {
      |       ^
src\puzzlepro_core/./field.cc:3134:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 3134 |         if (!pduel->lua->get_function_value(tuner_limit->target, 2)) {
      |         ^
src\puzzlepro_core/./field.cc:3139:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 3139 |       if (tuner_limit->get_integer_value() && !((uint32_t)smat->current.location & tuner_limit->get_integer_value())) {
      |       ^
src\puzzlepro_core/./field.cc:3139:44: note: +1
 3139 |       if (tuner_limit->get_integer_value() && !((uint32_t)smat->current.location & tuner_limit->get_integer_value())) {
      |                                            ^
src\puzzlepro_core/./field.cc:3150:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 3150 |     if (location_count <= 0) {
      |     ^
src\puzzlepro_core/./field.cc:3151:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 3151 |       if (handover_zone_cards.find(smat) != handover_zone_cards.end()) {
      |       ^
src\puzzlepro_core/./field.cc:3155:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 3155 |     if (min == 0) {
      |     ^
src\puzzlepro_core/./field.cc:3156:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 3156 |       if (location_count > 0 && check_with_sum_limit_m(nsyn, lv, 0, 0, 0, 0xffff, 2)) {
      |       ^
src\puzzlepro_core/./field.cc:3156:30: note: +1
 3156 |       if (location_count > 0 && check_with_sum_limit_m(nsyn, lv, 0, 0, 0, 0xffff, 2)) {
      |                              ^
src\puzzlepro_core/./field.cc:3160:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 3160 |       if (max == 0) {
      |       ^
src\puzzlepro_core/./field.cc:3166:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 3166 |   if (must_list.size()) {
      |   ^
src\puzzlepro_core/./field.cc:3167:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 3167 |     for (auto &mcard : must_list) {
      |     ^
src\puzzlepro_core/./field.cc:3168:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 3168 |       if (pcheck) {
      |       ^
src\puzzlepro_core/./field.cc:3171:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 3171 |       if ((mcard->current.location == LOCATION_MZONE && !mcard->is_position(POS_FACEUP)) || !mcard->is_can_be_synchro_material(pcard, tuner)) {
      |       ^
src\puzzlepro_core/./field.cc:3171:90: note: +1
 3171 |       if ((mcard->current.location == LOCATION_MZONE && !mcard->is_position(POS_FACEUP)) || !mcard->is_can_be_synchro_material(pcard, tuner)) {
      |                                                                                          ^
src\puzzlepro_core/./field.cc:3171:54: note: +1
 3171 |       if ((mcard->current.location == LOCATION_MZONE && !mcard->is_position(POS_FACEUP)) || !mcard->is_can_be_synchro_material(pcard, tuner)) {
      |                                                      ^
src\puzzlepro_core/./field.cc:3178:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 3178 |       if (!res) {
      |       ^
src\puzzlepro_core/./field.cc:3182:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 3182 |       if (tuner_limit) {
      |       ^
src\puzzlepro_core/./field.cc:3183:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 3183 |         if (tuner_limit->target) {
      |         ^
src\puzzlepro_core/./field.cc:3186:11: note: +5, including nesting penalty of 4, nesting level increased to 5
 3186 |           if (!pduel->lua->get_function_value(tuner_limit->target, 2)) {
      |           ^
src\puzzlepro_core/./field.cc:3191:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 3191 |         if (tuner_limit->value && !(mcard->current.location & location)) {
      |         ^
src\puzzlepro_core/./field.cc:3191:32: note: +1
 3191 |         if (tuner_limit->value && !(mcard->current.location & location)) {
      |                                ^
src\puzzlepro_core/./field.cc:3203:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 3203 |   if (mg) {
      |   ^
src\puzzlepro_core/./field.cc:3204:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 3204 |     for (auto &pm : mg->container) {
      |     ^
src\puzzlepro_core/./field.cc:3205:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 3205 |       if (pm == tuner || pm == smat || must_list.find(pm) != must_list.end() || !pm->is_can_be_synchro_material(pcard, tuner)) {
      |       ^
src\puzzlepro_core/./field.cc:3205:78: note: +1
 3205 |       if (pm == tuner || pm == smat || must_list.find(pm) != must_list.end() || !pm->is_can_be_synchro_material(pcard, tuner)) {
      |                                                                              ^
src\puzzlepro_core/./field.cc:3208:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 3208 |       if (tuner_limit) {
      |       ^
src\puzzlepro_core/./field.cc:3209:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 3209 |         if (tuner_limit->target) {
      |         ^
src\puzzlepro_core/./field.cc:3212:11: note: +5, including nesting penalty of 4, nesting level increased to 5
 3212 |           if (!pduel->lua->get_function_value(tuner_limit->target, 2)) {
      |           ^
src\puzzlepro_core/./field.cc:3216:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 3216 |         if (tuner_limit->get_integer_value() && !((uint32_t)pm->current.location & tuner_limit->get_integer_value())) {
      |         ^
src\puzzlepro_core/./field.cc:3216:46: note: +1
 3216 |         if (tuner_limit->get_integer_value() && !((uint32_t)pm->current.location & tuner_limit->get_integer_value())) {
      |                                              ^
src\puzzlepro_core/./field.cc:3220:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 3220 |       if (pcheck) {
      |       ^
src\puzzlepro_core/./field.cc:3223:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 3223 |       if (pm->current.location == LOCATION_MZONE && !pm->is_position(POS_FACEUP)) {
      |       ^
src\puzzlepro_core/./field.cc:3223:50: note: +1
 3223 |       if (pm->current.location == LOCATION_MZONE && !pm->is_position(POS_FACEUP)) {
      |                                                  ^
src\puzzlepro_core/./field.cc:3229:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 3229 |       if (!res) {
      |       ^
src\puzzlepro_core/./field.cc:3236:3: note: +1, nesting level increased to 1
 3236 |   else {
      |   ^
src\puzzlepro_core/./field.cc:3239:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 3239 |     for (auto &pm : material_set) {
      |     ^
src\puzzlepro_core/./field.cc:3240:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 3240 |       if (!pm || pm == tuner || pm == smat || must_list.find(pm) != must_list.end() || !pm->is_can_be_synchro_material(pcard, tuner)) {
      |       ^
src\puzzlepro_core/./field.cc:3240:85: note: +1
 3240 |       if (!pm || pm == tuner || pm == smat || must_list.find(pm) != must_list.end() || !pm->is_can_be_synchro_material(pcard, tuner)) {
      |                                                                                     ^
src\puzzlepro_core/./field.cc:3243:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 3243 |       if (tuner_limit && tuner_limit->target) {
      |       ^
src\puzzlepro_core/./field.cc:3243:23: note: +1
 3243 |       if (tuner_limit && tuner_limit->target) {
      |                       ^
src\puzzlepro_core/./field.cc:3246:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 3246 |         if (!pduel->lua->get_function_value(tuner_limit->target, 2)) {
      |         ^
src\puzzlepro_core/./field.cc:3250:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 3250 |       if (pcheck) {
      |       ^
src\puzzlepro_core/./field.cc:3253:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 3253 |       if (pm->current.location == LOCATION_MZONE && !pm->is_position(POS_FACEUP)) {
      |       ^
src\puzzlepro_core/./field.cc:3253:50: note: +1
 3253 |       if (pm->current.location == LOCATION_MZONE && !pm->is_position(POS_FACEUP)) {
      |                                                  ^
src\puzzlepro_core/./field.cc:3259:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 3259 |       if (!res) {
      |       ^
src\puzzlepro_core/./field.cc:3266:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 3266 |   if (location_count > 0) {
      |   ^
src\puzzlepro_core/./field.cc:3272:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 3272 |   for (auto cit = start; cit != nsyn.end(); ++cit) {
      |   ^
src\puzzlepro_core/./field.cc:3274:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 3274 |     if (handover_zone_cards.find(pm) == handover_zone_cards.end()) {
      |     ^
src\puzzlepro_core/./field.cc:3277:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 3277 |     if (start != cit) {
      |     ^
src\puzzlepro_core/./field.cc:3280:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 3280 |     if (check_other_synchro_material(nsyn, lv, min - 1, max - 1, mcount + 1)) {
      |     ^
src\puzzlepro_core/./field.cc:3284:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 3284 |     if (start != cit) {
      |     ^
src\puzzlepro_core/./field.cc:3292:16: warning: function 'check_other_synchro_material' has cognitive complexity of 36 (threshold 25) [readability-function-cognitive-complexity]
 3292 | int32_t field::check_other_synchro_material(const card_vector &nsyn, int32_t lv, int32_t min, int32_t max, int32_t mcount) {
      |                ^
src\puzzlepro_core/./field.cc:3293:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 3293 |   if (!(core.global_flag & GLOBALFLAG_SCRAP_CHIMERA)) {
      |   ^
src\puzzlepro_core/./field.cc:3294:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 3294 |     if (check_with_sum_limit_m(nsyn, lv, 0, min, max, 0xffff, mcount)) {
      |     ^
src\puzzlepro_core/./field.cc:3300:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 3300 |   for (auto &pm : nsyn) {
      |   ^
src\puzzlepro_core/./field.cc:3302:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 3302 |     if (pscrap) {
      |     ^
src\puzzlepro_core/./field.cc:3306:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 3306 |   if (!pscrap) {
      |   ^
src\puzzlepro_core/./field.cc:3307:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 3307 |     if (check_with_sum_limit_m(nsyn, lv, 0, min, max, 0xffff, mcount)) {
      |     ^
src\puzzlepro_core/./field.cc:3313:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 3313 |   for (auto &pm : nsyn) {
      |   ^
src\puzzlepro_core/./field.cc:3314:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 3314 |     if (!pscrap->get_value(pm)) {
      |     ^
src\puzzlepro_core/./field.cc:3318:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 3318 |   if (nsyn_filtered.size() == nsyn.size()) {
      |   ^
src\puzzlepro_core/./field.cc:3319:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 3319 |     if (check_with_sum_limit_m(nsyn, lv, 0, min, max, 0xffff, mcount)) {
      |     ^
src\puzzlepro_core/./field.cc:3323:3: note: +1, nesting level increased to 1
 3323 |   else {
      |   ^
src\puzzlepro_core/./field.cc:3325:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 3325 |     for (int32_t i = 0; i < mcount; ++i) {
      |     ^
src\puzzlepro_core/./field.cc:3326:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 3326 |       if (pscrap->get_value(nsyn[i])) {
      |       ^
src\puzzlepro_core/./field.cc:3330:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 3330 |     if (mfiltered && check_with_sum_limit_m(nsyn_filtered, lv, 0, min, max, 0xffff, mcount)) {
      |     ^
src\puzzlepro_core/./field.cc:3330:19: note: +1
 3330 |     if (mfiltered && check_with_sum_limit_m(nsyn_filtered, lv, 0, min, max, 0xffff, mcount)) {
      |                   ^
src\puzzlepro_core/./field.cc:3333:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 3333 |     for (int32_t i = 0; i < mcount; ++i) {
      |     ^
src\puzzlepro_core/./field.cc:3334:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 3334 |       if (nsyn[i]->is_affected_by_effect(EFFECT_SCRAP_CHIMERA)) {
      |       ^
src\puzzlepro_core/./field.cc:3339:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 3339 |     for (auto &pm : nsyn) {
      |     ^
src\puzzlepro_core/./field.cc:3340:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 3340 |       if (!pm->is_affected_by_effect(EFFECT_SCRAP_CHIMERA)) {
      |       ^
src\puzzlepro_core/./field.cc:3344:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 3344 |     if (check_with_sum_limit_m(nsyn_removed, lv, 0, min, max, 0xffff, mcount)) {
      |     ^
src\puzzlepro_core/./field.cc:3477:16: warning: function 'check_xyz_material' has cognitive complexity of 76 (threshold 25) [readability-function-cognitive-complexity]
 3477 | int32_t field::check_xyz_material(lua_State *L, card *scard, int32_t findex, int32_t lv, int32_t min, int32_t max, group *mg) {
      |                ^
src\puzzlepro_core/./field.cc:3482:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 3482 |   if (ct <= 0) {
      |   ^
src\puzzlepro_core/./field.cc:3488:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 3488 |     for (auto cit = core.xmaterial_lst.begin(); cit != core.xmaterial_lst.end(); ++cit) {
      |     ^
src\puzzlepro_core/./field.cc:3490:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 3490 |       if (handover_zone_cards.find(pcard) != handover_zone_cards.end()) {
      |       ^
src\puzzlepro_core/./field.cc:3494:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 3494 |     if (ft <= 0) {
      |     ^
src\puzzlepro_core/./field.cc:3499:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 3499 |   if (mzone_limit <= 0) {
      |   ^
src\puzzlepro_core/./field.cc:3501:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 3501 |     if (ft > min) {
      |     ^
src\puzzlepro_core/./field.cc:3504:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 3504 |     if (min > max) {
      |     ^
src\puzzlepro_core/./field.cc:3510:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 3510 |   if (mct > 0) {
      |   ^
src\puzzlepro_core/./field.cc:3511:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 3511 |     if (ct == 0 && std::none_of(mcset.begin(), mcset.end(), [=](card *pcard) {
      |     ^
src\puzzlepro_core/./field.cc:3511:17: note: +1
 3511 |     if (ct == 0 && std::none_of(mcset.begin(), mcset.end(), [=](card *pcard) {
      |                 ^
src\puzzlepro_core/./field.cc:3511:61: note: nesting level increased to 2
 3511 |     if (ct == 0 && std::none_of(mcset.begin(), mcset.end(), [=](card *pcard) {
      |                                                             ^
src\puzzlepro_core/./field.cc:3516:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 3516 |     if (mct > max) {
      |     ^
src\puzzlepro_core/./field.cc:3520:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 3520 |   if (!(core.global_flag & GLOBALFLAG_TUNE_MAGICIAN)) {
      |   ^
src\puzzlepro_core/./field.cc:3521:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 3521 |     if (std::any_of(mcset.begin(), mcset.end(), [=](card *pcard) {
      |     ^
src\puzzlepro_core/./field.cc:3521:49: note: nesting level increased to 2
 3521 |     if (std::any_of(mcset.begin(), mcset.end(), [=](card *pcard) {
      |                                                 ^
src\puzzlepro_core/./field.cc:3522:85: note: nesting level increased to 3
 3522 |           return std::find_if(core.xmaterial_lst.begin(), core.xmaterial_lst.end(), [=](const std::pair<int32_t, card *> &v) {
      |                                                                                     ^
src\puzzlepro_core/./field.cc:3530:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 3530 |   for (auto &pcard : mcset) {
      |   ^
src\puzzlepro_core/./field.cc:3532:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 3532 |     if (peffect) {
      |     ^
src\puzzlepro_core/./field.cc:3533:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 3533 |       for (auto cit = core.xmaterial_lst.begin(); cit != core.xmaterial_lst.end();) {
      |       ^
src\puzzlepro_core/./field.cc:3534:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 3534 |         if (pcard != cit->second && peffect->get_value(cit->second)) {
      |         ^
src\puzzlepro_core/./field.cc:3534:34: note: +1
 3534 |         if (pcard != cit->second && peffect->get_value(cit->second)) {
      |                                  ^
src\puzzlepro_core/./field.cc:3537:9: note: +1, nesting level increased to 4
 3537 |         else {
      |         ^
src\puzzlepro_core/./field.cc:3543:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 3543 |   for (auto &pcard : mcset) {
      |   ^
src\puzzlepro_core/./field.cc:3544:82: note: nesting level increased to 2
 3544 |     auto it = std::find_if(core.xmaterial_lst.begin(), core.xmaterial_lst.end(), [=](const std::pair<int32_t, card *> &v) {
      |                                                                                  ^
src\puzzlepro_core/./field.cc:3547:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 3547 |     if (it == core.xmaterial_lst.end()) {
      |     ^
src\puzzlepro_core/./field.cc:3550:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 3550 |     if (min < it->first) {
      |     ^
src\puzzlepro_core/./field.cc:3555:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 3555 |   for (auto cit = core.xmaterial_lst.begin(); cit != core.xmaterial_lst.end(); ++cit) {
      |   ^
src\puzzlepro_core/./field.cc:3559:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 3559 |   for (auto cit = core.xmaterial_lst.begin(); cit != core.xmaterial_lst.end();) {
      |   ^
src\puzzlepro_core/./field.cc:3562:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 3562 |     if (peffect) {
      |     ^
src\puzzlepro_core/./field.cc:3563:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 3563 |       if (std::any_of(mcset.begin(), mcset.end(), [=](card *mcard) {
      |       ^
src\puzzlepro_core/./field.cc:3563:51: note: nesting level increased to 3
 3563 |       if (std::any_of(mcset.begin(), mcset.end(), [=](card *mcard) {
      |                                                   ^
src\puzzlepro_core/./field.cc:3570:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 3570 |       for (auto mit = core.xmaterial_lst.begin(); mit != core.xmaterial_lst.end(); ++mit) {
      |       ^
src\puzzlepro_core/./field.cc:3571:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 3571 |         if (!peffect->get_value(mit->second)) {
      |         ^
src\puzzlepro_core/./field.cc:3577:5: note: +1, nesting level increased to 2
 3577 |     else {
      |     ^
src\puzzlepro_core/./field.cc:3582:60: note: nesting level increased to 1
 3582 |   ct += (int32_t)std::count_if(mcset.begin(), mcset.end(), [=](card *pcard) {
      |                                                            ^
src\puzzlepro_core/./field.cc:3586:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 3586 |   for (int32_t icheck = 1; icheck <= digit; icheck <<= 1) {
      |   ^
src\puzzlepro_core/./field.cc:3588:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 3588 |     for (auto cit = core.xmaterial_lst.begin(); cit != core.xmaterial_lst.end(); ++cit) {
      |     ^
src\puzzlepro_core/./field.cc:3589:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 3589 |       if (cit->second->sum_param & icheck) {
      |       ^
src\puzzlepro_core/./field.cc:3593:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 3593 |     if (core.global_flag & GLOBALFLAG_XMAT_COUNT_LIMIT) {
      |     ^
src\puzzlepro_core/./field.cc:3598:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 3598 |     if (ct <= 0) {
      |     ^
src\puzzlepro_core/./field.cc:3600:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 3600 |       for (auto cit = mat.begin(); cit != mat.end(); ++cit) {
      |       ^
src\puzzlepro_core/./field.cc:3602:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 3602 |         if (handover_zone_cards.find(pcard) != handover_zone_cards.end()) {
      |         ^
src\puzzlepro_core/./field.cc:3606:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 3606 |       if (ft <= 0) {
      |       ^
src\puzzlepro_core/./field.cc:3610:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 3610 |     if ((int32_t)mat.size() + mct >= min) {
      |     ^
src\puzzlepro_core/./field.cc:4128:16: warning: function 'get_cteffect' has cognitive complexity of 45 (threshold 25) [readability-function-cognitive-complexity]
 4128 | int32_t field::get_cteffect(effect *peffect, int32_t playerid, int32_t store) {
      |                ^
src\puzzlepro_core/./field.cc:4130:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 4130 |   if (phandler->data.type != (TYPE_TRAP | TYPE_CONTINUOUS)) {
      |   ^
src\puzzlepro_core/./field.cc:4133:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 4133 |   if (!(peffect->type & EFFECT_TYPE_ACTIVATE)) {
      |   ^
src\puzzlepro_core/./field.cc:4136:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 4136 |   if (peffect->code != EVENT_FREE_CHAIN) {
      |   ^
src\puzzlepro_core/./field.cc:4139:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 4139 |   if (peffect->cost || peffect->target || peffect->operation) {
      |   ^
src\puzzlepro_core/./field.cc:4139:40: note: +1
 4139 |   if (peffect->cost || peffect->target || peffect->operation) {
      |                                        ^
src\puzzlepro_core/./field.cc:4142:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 4142 |   if (store) {
      |   ^
src\puzzlepro_core/./field.cc:4146:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 4146 |   for (auto &efit : phandler->field_effect) {
      |   ^
src\puzzlepro_core/./field.cc:4148:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 4148 |     if (!(feffect->type & (EFFECT_TYPE_TRIGGER_F | EFFECT_TYPE_TRIGGER_O | EFFECT_TYPE_QUICK_O))) {
      |     ^
src\puzzlepro_core/./field.cc:4151:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 4151 |     if (!feffect->in_range(phandler)) {
      |     ^
src\puzzlepro_core/./field.cc:4155:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 4155 |     if (code == EVENT_FREE_CHAIN || code == (EVENT_PHASE | infos.phase)) {
      |     ^
src\puzzlepro_core/./field.cc:4155:34: note: +1
 4155 |     if (code == EVENT_FREE_CHAIN || code == (EVENT_PHASE | infos.phase)) {
      |                                  ^
src\puzzlepro_core/./field.cc:4158:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 4158 |       if (get_cteffect_evt(feffect, playerid, test_event, store) && !store) {
      |       ^
src\puzzlepro_core/./field.cc:4158:66: note: +1
 4158 |       if (get_cteffect_evt(feffect, playerid, test_event, store) && !store) {
      |                                                                  ^
src\puzzlepro_core/./field.cc:4162:5: note: +1, nesting level increased to 2
 4162 |     else {
      |     ^
src\puzzlepro_core/./field.cc:4163:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 4163 |       for (const auto &ev : core.point_event) {
      |       ^
src\puzzlepro_core/./field.cc:4164:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 4164 |         if (code != ev.event_code) {
      |         ^
src\puzzlepro_core/./field.cc:4167:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 4167 |         if (get_cteffect_evt(feffect, playerid, ev, store) && !store) {
      |         ^
src\puzzlepro_core/./field.cc:4167:60: note: +1
 4167 |         if (get_cteffect_evt(feffect, playerid, ev, store) && !store) {
      |                                                            ^
src\puzzlepro_core/./field.cc:4171:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 4171 |       for (const auto &ev : core.instant_event) {
      |       ^
src\puzzlepro_core/./field.cc:4172:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 4172 |         if (code != ev.event_code) {
      |         ^
src\puzzlepro_core/./field.cc:4175:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 4175 |         if (get_cteffect_evt(feffect, playerid, ev, store) && !store) {
      |         ^
src\puzzlepro_core/./field.cc:4175:60: note: +1
 4175 |         if (get_cteffect_evt(feffect, playerid, ev, store) && !store) {
      |                                                            ^
src\puzzlepro_core/./field.cc:4181:49: note: +1, including nesting penalty of 0, nesting level increased to 1
 4181 |   return (store && !core.select_chains.empty()) ? TRUE : FALSE;
      |                                                 ^
src\puzzlepro_core/./field.cc:4181:17: note: +1
 4181 |   return (store && !core.select_chains.empty()) ? TRUE : FALSE;
      |                 ^
src\puzzlepro_core/./field.cc:4198:16: warning: function 'check_cteffect_hint' has cognitive complexity of 41 (threshold 25) [readability-function-cognitive-complexity]
 4198 | int32_t field::check_cteffect_hint(effect *peffect, uint8_t playerid) {
      |                ^
src\puzzlepro_core/./field.cc:4200:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 4200 |   if (phandler->data.type != (TYPE_TRAP | TYPE_CONTINUOUS)) {
      |   ^
src\puzzlepro_core/./field.cc:4203:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 4203 |   if (!(peffect->type & EFFECT_TYPE_ACTIVATE)) {
      |   ^
src\puzzlepro_core/./field.cc:4206:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 4206 |   if (peffect->code != EVENT_FREE_CHAIN) {
      |   ^
src\puzzlepro_core/./field.cc:4209:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 4209 |   if (peffect->cost || peffect->target || peffect->operation) {
      |   ^
src\puzzlepro_core/./field.cc:4209:40: note: +1
 4209 |   if (peffect->cost || peffect->target || peffect->operation) {
      |                                        ^
src\puzzlepro_core/./field.cc:4212:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 4212 |   for (auto &efit : phandler->field_effect) {
      |   ^
src\puzzlepro_core/./field.cc:4214:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 4214 |     if (!(feffect->type & (EFFECT_TYPE_TRIGGER_F | EFFECT_TYPE_TRIGGER_O | EFFECT_TYPE_QUICK_O))) {
      |     ^
src\puzzlepro_core/./field.cc:4217:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 4217 |     if (!feffect->in_range(phandler)) {
      |     ^
src\puzzlepro_core/./field.cc:4221:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 4221 |     if (code == EVENT_FREE_CHAIN || code == EVENT_PHASE + infos.phase) {
      |     ^
src\puzzlepro_core/./field.cc:4221:34: note: +1
 4221 |     if (code == EVENT_FREE_CHAIN || code == EVENT_PHASE + infos.phase) {
      |                                  ^
src\puzzlepro_core/./field.cc:4224:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 4224 |       if (get_cteffect_evt(feffect, playerid, test_event, FALSE) && (code != EVENT_FREE_CHAIN || check_hint_timing(feffect))) {
      |       ^
src\puzzlepro_core/./field.cc:4224:66: note: +1
 4224 |       if (get_cteffect_evt(feffect, playerid, test_event, FALSE) && (code != EVENT_FREE_CHAIN || check_hint_timing(feffect))) {
      |                                                                  ^
src\puzzlepro_core/./field.cc:4224:95: note: +1
 4224 |       if (get_cteffect_evt(feffect, playerid, test_event, FALSE) && (code != EVENT_FREE_CHAIN || check_hint_timing(feffect))) {
      |                                                                                               ^
src\puzzlepro_core/./field.cc:4228:5: note: +1, nesting level increased to 2
 4228 |     else {
      |     ^
src\puzzlepro_core/./field.cc:4229:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 4229 |       for (const auto &ev : core.point_event) {
      |       ^
src\puzzlepro_core/./field.cc:4230:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 4230 |         if (code != ev.event_code) {
      |         ^
src\puzzlepro_core/./field.cc:4233:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 4233 |         if (get_cteffect_evt(feffect, playerid, ev, FALSE)) {
      |         ^
src\puzzlepro_core/./field.cc:4237:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 4237 |       for (const auto &ev : core.instant_event) {
      |       ^
src\puzzlepro_core/./field.cc:4238:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 4238 |         if (code != ev.event_code) {
      |         ^
src\puzzlepro_core/./field.cc:4241:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 4241 |         if (get_cteffect_evt(feffect, playerid, ev, FALSE)) {
      |         ^
src\puzzlepro_core/./libcard.cc:2061:20: warning: function 'card_get_hand_synchro' has cognitive complexity of 30 (threshold 25) [readability-function-cognitive-complexity]
 2061 | int32_t scriptlib::card_get_hand_synchro(lua_State *L) {
      |                    ^
src\puzzlepro_core/./libcard.cc:2065:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2065 |   if (!(pcard->current.location & LOCATION_MZONE)) {
      |   ^
src\puzzlepro_core/./libcard.cc:2069:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2069 |   if (peffect) {
      |   ^
src\puzzlepro_core/./libcard.cc:2071:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2071 |     if (peffect->target) {
      |     ^
src\puzzlepro_core/./libcard.cc:2074:5: note: +1, nesting level increased to 2
 2074 |     else {
      |     ^
src\puzzlepro_core/./libcard.cc:2079:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2079 |     if (peffect->is_flag(EFFECT_FLAG_SPSUM_PARAM)) {
      |     ^
src\puzzlepro_core/./libcard.cc:2080:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2080 |       if (peffect->s_range && peffect->s_range > min) {
      |       ^
src\puzzlepro_core/./libcard.cc:2080:28: note: +1
 2080 |       if (peffect->s_range && peffect->s_range > min) {
      |                            ^
src\puzzlepro_core/./libcard.cc:2083:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2083 |       if (peffect->o_range && peffect->o_range < max) {
      |       ^
src\puzzlepro_core/./libcard.cc:2083:28: note: +1
 2083 |       if (peffect->o_range && peffect->o_range < max) {
      |                            ^
src\puzzlepro_core/./libcard.cc:2092:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2092 |   if (peffect && (peffect->value & LOCATION_HAND)) {
      |   ^
src\puzzlepro_core/./libcard.cc:2092:15: note: +1
 2092 |   if (peffect && (peffect->value & LOCATION_HAND)) {
      |               ^
src\puzzlepro_core/./libcard.cc:2094:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2094 |     if (peffect->target) {
      |     ^
src\puzzlepro_core/./libcard.cc:2097:5: note: +1, nesting level increased to 2
 2097 |     else {
      |     ^
src\puzzlepro_core/./libcard.cc:2102:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2102 |     if (peffect->is_flag(EFFECT_FLAG_SPSUM_PARAM)) {
      |     ^
src\puzzlepro_core/./libcard.cc:2103:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2103 |       if (peffect->s_range && peffect->s_range > min) {
      |       ^
src\puzzlepro_core/./libcard.cc:2103:28: note: +1
 2103 |       if (peffect->s_range && peffect->s_range > min) {
      |                            ^
src\puzzlepro_core/./libcard.cc:2106:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2106 |       if (peffect->o_range && peffect->o_range < max) {
      |       ^
src\puzzlepro_core/./libcard.cc:2106:28: note: +1
 2106 |       if (peffect->o_range && peffect->o_range < max) {
      |                            ^
src\puzzlepro_core/./libduel.cc:1379:20: warning: function 'duel_is_environment' has cognitive complexity of 99 (threshold 25) [readability-function-cognitive-complexity]
 1379 | int32_t scriptlib::duel_is_environment(lua_State *L) {
      |                    ^
src\puzzlepro_core/./libduel.cc:1383:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1383 |   if (lua_gettop(L) >= 2) {
      |   ^
src\puzzlepro_core/./libduel.cc:1387:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1387 |   if (lua_gettop(L) >= 3) {
      |   ^
src\puzzlepro_core/./libduel.cc:1390:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1390 |   if (playerid != 0 && playerid != 1 && playerid != PLAYER_ALL) {
      |   ^
src\puzzlepro_core/./libduel.cc:1390:38: note: +1
 1390 |   if (playerid != 0 && playerid != 1 && playerid != PLAYER_ALL) {
      |                                      ^
src\puzzlepro_core/./libduel.cc:1395:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1395 |   if (loc & (LOCATION_FZONE + LOCATION_SZONE)) {
      |   ^
src\puzzlepro_core/./libduel.cc:1397:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1397 |     if (pcard && pcard->is_position(POS_FACEUP)) {
      |     ^
src\puzzlepro_core/./libduel.cc:1397:15: note: +1
 1397 |     if (pcard && pcard->is_position(POS_FACEUP)) {
      |               ^
src\puzzlepro_core/./libduel.cc:1399:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 1399 |       if (code == pcard->get_code() && (playerid == 0 || playerid == PLAYER_ALL)) {
      |       ^
src\puzzlepro_core/./libduel.cc:1399:37: note: +1
 1399 |       if (code == pcard->get_code() && (playerid == 0 || playerid == PLAYER_ALL)) {
      |                                     ^
src\puzzlepro_core/./libduel.cc:1399:55: note: +1
 1399 |       if (code == pcard->get_code() && (playerid == 0 || playerid == PLAYER_ALL)) {
      |                                                       ^
src\puzzlepro_core/./libduel.cc:1404:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1404 |     if (pcard && pcard->is_position(POS_FACEUP)) {
      |     ^
src\puzzlepro_core/./libduel.cc:1404:15: note: +1
 1404 |     if (pcard && pcard->is_position(POS_FACEUP)) {
      |               ^
src\puzzlepro_core/./libduel.cc:1406:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 1406 |       if (code == pcard->get_code() && (playerid == 1 || playerid == PLAYER_ALL)) {
      |       ^
src\puzzlepro_core/./libduel.cc:1406:37: note: +1
 1406 |       if (code == pcard->get_code() && (playerid == 1 || playerid == PLAYER_ALL)) {
      |                                     ^
src\puzzlepro_core/./libduel.cc:1406:55: note: +1
 1406 |       if (code == pcard->get_code() && (playerid == 1 || playerid == PLAYER_ALL)) {
      |                                                       ^
src\puzzlepro_core/./libduel.cc:1411:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1411 |   if (!ret && (loc & LOCATION_SZONE)) {
      |   ^
src\puzzlepro_core/./libduel.cc:1411:12: note: +1
 1411 |   if (!ret && (loc & LOCATION_SZONE)) {
      |            ^
src\puzzlepro_core/./libduel.cc:1412:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1412 |     if (playerid == 0 || playerid == PLAYER_ALL) {
      |     ^
src\puzzlepro_core/./libduel.cc:1412:23: note: +1
 1412 |     if (playerid == 0 || playerid == PLAYER_ALL) {
      |                       ^
src\puzzlepro_core/./libduel.cc:1413:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 1413 |       for (auto &pcard : pduel->game_field->player[0].list_szone) {
      |       ^
src\puzzlepro_core/./libduel.cc:1414:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 1414 |         if (pcard && pcard->is_position(POS_FACEUP) && code == pcard->get_code()) {
      |         ^
src\puzzlepro_core/./libduel.cc:1414:53: note: +1
 1414 |         if (pcard && pcard->is_position(POS_FACEUP) && code == pcard->get_code()) {
      |                                                     ^
src\puzzlepro_core/./libduel.cc:1419:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1419 |     if (playerid == 1 || playerid == PLAYER_ALL) {
      |     ^
src\puzzlepro_core/./libduel.cc:1419:23: note: +1
 1419 |     if (playerid == 1 || playerid == PLAYER_ALL) {
      |                       ^
src\puzzlepro_core/./libduel.cc:1420:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 1420 |       for (auto &pcard : pduel->game_field->player[1].list_szone) {
      |       ^
src\puzzlepro_core/./libduel.cc:1421:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 1421 |         if (pcard && pcard->is_position(POS_FACEUP) && code == pcard->get_code()) {
      |         ^
src\puzzlepro_core/./libduel.cc:1421:53: note: +1
 1421 |         if (pcard && pcard->is_position(POS_FACEUP) && code == pcard->get_code()) {
      |                                                     ^
src\puzzlepro_core/./libduel.cc:1427:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1427 |   if (!ret && (loc & LOCATION_MZONE)) {
      |   ^
src\puzzlepro_core/./libduel.cc:1427:12: note: +1
 1427 |   if (!ret && (loc & LOCATION_MZONE)) {
      |            ^
src\puzzlepro_core/./libduel.cc:1428:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1428 |     if (playerid == 0 || playerid == PLAYER_ALL) {
      |     ^
src\puzzlepro_core/./libduel.cc:1428:23: note: +1
 1428 |     if (playerid == 0 || playerid == PLAYER_ALL) {
      |                       ^
src\puzzlepro_core/./libduel.cc:1429:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 1429 |       for (auto &pcard : pduel->game_field->player[0].list_mzone) {
      |       ^
src\puzzlepro_core/./libduel.cc:1430:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 1430 |         if (pcard && pcard->is_position(POS_FACEUP) && code == pcard->get_code()) {
      |         ^
src\puzzlepro_core/./libduel.cc:1430:53: note: +1
 1430 |         if (pcard && pcard->is_position(POS_FACEUP) && code == pcard->get_code()) {
      |                                                     ^
src\puzzlepro_core/./libduel.cc:1435:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1435 |     if (playerid == 1 || playerid == PLAYER_ALL) {
      |     ^
src\puzzlepro_core/./libduel.cc:1435:23: note: +1
 1435 |     if (playerid == 1 || playerid == PLAYER_ALL) {
      |                       ^
src\puzzlepro_core/./libduel.cc:1436:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 1436 |       for (auto &pcard : pduel->game_field->player[1].list_mzone) {
      |       ^
src\puzzlepro_core/./libduel.cc:1437:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 1437 |         if (pcard && pcard->is_position(POS_FACEUP) && code == pcard->get_code()) {
      |         ^
src\puzzlepro_core/./libduel.cc:1437:53: note: +1
 1437 |         if (pcard && pcard->is_position(POS_FACEUP) && code == pcard->get_code()) {
      |                                                     ^
src\puzzlepro_core/./libduel.cc:1443:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1443 |   if (!ret && (loc & LOCATION_GRAVE)) {
      |   ^
src\puzzlepro_core/./libduel.cc:1443:12: note: +1
 1443 |   if (!ret && (loc & LOCATION_GRAVE)) {
      |            ^
src\puzzlepro_core/./libduel.cc:1444:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1444 |     if (playerid == 0 || playerid == PLAYER_ALL) {
      |     ^
src\puzzlepro_core/./libduel.cc:1444:23: note: +1
 1444 |     if (playerid == 0 || playerid == PLAYER_ALL) {
      |                       ^
src\puzzlepro_core/./libduel.cc:1445:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 1445 |       for (auto &pcard : pduel->game_field->player[0].list_grave) {
      |       ^
src\puzzlepro_core/./libduel.cc:1446:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 1446 |         if (code == pcard->get_code()) {
      |         ^
src\puzzlepro_core/./libduel.cc:1451:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1451 |     if (playerid == 1 || playerid == PLAYER_ALL) {
      |     ^
src\puzzlepro_core/./libduel.cc:1451:23: note: +1
 1451 |     if (playerid == 1 || playerid == PLAYER_ALL) {
      |                       ^
src\puzzlepro_core/./libduel.cc:1452:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 1452 |       for (auto &pcard : pduel->game_field->player[1].list_grave) {
      |       ^
src\puzzlepro_core/./libduel.cc:1453:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 1453 |         if (code == pcard->get_code()) {
      |         ^
src\puzzlepro_core/./libduel.cc:1459:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1459 |   if (!fc) {
      |   ^
src\puzzlepro_core/./libduel.cc:1462:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 1462 |     if (eset.size()) {
      |     ^
src\puzzlepro_core/./libduel.cc:1464:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 1464 |       if (code == (uint32_t)peffect->get_value() && (playerid == peffect->get_handler_player() || playerid == PLAYER_ALL)) {
      |       ^
src\puzzlepro_core/./libduel.cc:1464:50: note: +1
 1464 |       if (code == (uint32_t)peffect->get_value() && (playerid == peffect->get_handler_player() || playerid == PLAYER_ALL)) {
      |                                                  ^
src\puzzlepro_core/./libduel.cc:1464:96: note: +1
 1464 |       if (code == (uint32_t)peffect->get_value() && (playerid == peffect->get_handler_player() || playerid == PLAYER_ALL)) {
      |                                                                                                ^
src\puzzlepro_core/./libduel.cc:2137:20: warning: function 'duel_disable_summon' has cognitive complexity of 43 (threshold 25) [readability-function-cognitive-complexity]
 2137 | int32_t scriptlib::duel_disable_summon(lua_State *L) {
      |                    ^
src\puzzlepro_core/./libduel.cc:2142:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2142 |   if (check_param(L, PARAM_TYPE_CARD, 1, TRUE)) {
      |   ^
src\puzzlepro_core/./libduel.cc:2146:8: note: +1, nesting level increased to 1
 2146 |   else if (check_param(L, PARAM_TYPE_GROUP, 1, TRUE)) {
      |        ^
src\puzzlepro_core/./libduel.cc:2150:3: note: +1, nesting level increased to 1
 2150 |   else {
      |   ^
src\puzzlepro_core/./libduel.cc:2154:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2154 |   if (pduel->game_field->check_event(EVENT_SUMMON)) {
      |   ^
src\puzzlepro_core/./libduel.cc:2155:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2155 |     if (pduel->game_field->core.is_gemini_summoning) {
      |     ^
src\puzzlepro_core/./libduel.cc:2158:5: note: +1, nesting level increased to 2
 2158 |     else {
      |     ^
src\puzzlepro_core/./libduel.cc:2162:8: note: +1, nesting level increased to 1
 2162 |   else if (pduel->game_field->check_event(EVENT_FLIP_SUMMON)) {
      |        ^
src\puzzlepro_core/./libduel.cc:2165:8: note: +1, nesting level increased to 1
 2165 |   else if (pduel->game_field->check_event(EVENT_SPSUMMON)) {
      |        ^
src\puzzlepro_core/./libduel.cc:2168:3: note: +1, nesting level increased to 1
 2168 |   else {
      |   ^
src\puzzlepro_core/./libduel.cc:2171:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2171 |   if (sumtype & SUMMON_TYPE_NORMAL || sumtype & SUMMON_TYPE_FLIP) {
      |   ^
src\puzzlepro_core/./libduel.cc:2171:36: note: +1
 2171 |   if (sumtype & SUMMON_TYPE_NORMAL || sumtype & SUMMON_TYPE_FLIP) {
      |                                    ^
src\puzzlepro_core/./libduel.cc:2172:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2172 |     if (pgroup && pgroup->container.size() != 1) {
      |     ^
src\puzzlepro_core/./libduel.cc:2172:16: note: +1
 2172 |     if (pgroup && pgroup->container.size() != 1) {
      |                ^
src\puzzlepro_core/./libduel.cc:2175:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2175 |     if (!pcard) {
      |     ^
src\puzzlepro_core/./libduel.cc:2182:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2182 |   if (sumtype == SUMMON_TYPE_DUAL || sumtype & SUMMON_TYPE_FLIP) {
      |   ^
src\puzzlepro_core/./libduel.cc:2182:35: note: +1
 2182 |   if (sumtype == SUMMON_TYPE_DUAL || sumtype & SUMMON_TYPE_FLIP) {
      |                                   ^
src\puzzlepro_core/./libduel.cc:2183:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2183 |     if (!pcard->is_summon_negatable(sumtype, reason_effect)) {
      |     ^
src\puzzlepro_core/./libduel.cc:2190:3: note: +1, nesting level increased to 1
 2190 |   else {
      |   ^
src\puzzlepro_core/./libduel.cc:2191:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2191 |     if (pcard) {
      |     ^
src\puzzlepro_core/./libduel.cc:2192:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2192 |       if (!pcard->is_summon_negatable(sumtype, reason_effect)) {
      |       ^
src\puzzlepro_core/./libduel.cc:2200:5: note: +1, nesting level increased to 2
 2200 |     else {
      |     ^
src\puzzlepro_core/./libduel.cc:2201:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2201 |       for (auto &group_card : pgroup->container) {
      |       ^
src\puzzlepro_core/./libduel.cc:2202:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 2202 |         if (!group_card->is_summon_negatable(sumtype, reason_effect)) {
      |         ^
src\puzzlepro_core/./libduel.cc:2211:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2211 |       if (!negated_cards.size()) {
      |       ^
src\puzzlepro_core/./libduel.cc:2218:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2218 |   if (sumtype & SUMMON_TYPE_NORMAL) {
      |   ^
src\puzzlepro_core/./libduel.cc:2221:8: note: +1, nesting level increased to 1
 2221 |   else if (sumtype & SUMMON_TYPE_FLIP) {
      |        ^
src\puzzlepro_core/./libduel.cc:2224:8: note: +1, nesting level increased to 1
 2224 |   else if (sumtype & SUMMON_TYPE_SPECIAL) {
      |        ^
src\puzzlepro_core/./libduel.cc:2228:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2228 |   if (pcard) {
      |   ^
src\puzzlepro_core/./libduel.cc:2231:3: note: +1, nesting level increased to 1
 2231 |   else {
      |   ^
src\puzzlepro_core/./libduel.cc:2432:20: warning: function 'duel_get_location_count_fromex' has cognitive complexity of 33 (threshold 25) [readability-function-cognitive-complexity]
 2432 | int32_t scriptlib::duel_get_location_count_fromex(lua_State *L) {
      |                    ^
src\puzzlepro_core/./libduel.cc:2435:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2435 |   if (playerid != 0 && playerid != 1) {
      |   ^
src\puzzlepro_core/./libduel.cc:2435:21: note: +1
 2435 |   if (playerid != 0 && playerid != 1) {
      |                     ^
src\puzzlepro_core/./libduel.cc:2440:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2440 |   if (lua_gettop(L) >= 2 && !lua_isnil(L, 2)) {
      |   ^
src\puzzlepro_core/./libduel.cc:2440:26: note: +1
 2440 |   if (lua_gettop(L) >= 2 && !lua_isnil(L, 2)) {
      |                          ^
src\puzzlepro_core/./libduel.cc:2448:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2448 |   if (lua_gettop(L) >= 3 && !lua_isnil(L, 3)) {
      |   ^
src\puzzlepro_core/./libduel.cc:2448:26: note: +1
 2448 |   if (lua_gettop(L) >= 3 && !lua_isnil(L, 3)) {
      |                          ^
src\puzzlepro_core/./libduel.cc:2449:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2449 |     if (check_param(L, PARAM_TYPE_CARD, 3, TRUE)) {
      |     ^
src\puzzlepro_core/./libduel.cc:2452:10: note: +1, nesting level increased to 2
 2452 |     else if (check_param(L, PARAM_TYPE_GROUP, 3, TRUE)) {
      |          ^
src\puzzlepro_core/./libduel.cc:2455:5: note: +1, nesting level increased to 2
 2455 |     else {
      |     ^
src\puzzlepro_core/./libduel.cc:2458:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2458 |     for (int32_t p = 0; p < 2; p++) {
      |     ^
src\puzzlepro_core/./libduel.cc:2460:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2460 |       for (auto &pcard : pduel->game_field->player[p].list_mzone) {
      |       ^
src\puzzlepro_core/./libduel.cc:2461:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 2461 |         if (pcard && pcard != mcard && !(mgroup && mgroup->container.find(pcard) != mgroup->container.end())) {
      |         ^
src\puzzlepro_core/./libduel.cc:2461:37: note: +1
 2461 |         if (pcard && pcard != mcard && !(mgroup && mgroup->container.find(pcard) != mgroup->container.end())) {
      |                                     ^
src\puzzlepro_core/./libduel.cc:2465:9: note: +1, nesting level increased to 4
 2465 |         else {
      |         ^
src\puzzlepro_core/./libduel.cc:2478:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2478 |   if (lua_gettop(L) >= 4 && !lua_isnil(L, 4)) {
      |   ^
src\puzzlepro_core/./libduel.cc:2478:26: note: +1
 2478 |   if (lua_gettop(L) >= 4 && !lua_isnil(L, 4)) {
      |                          ^
src\puzzlepro_core/./libduel.cc:2479:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2479 |     if (check_param(L, PARAM_TYPE_CARD, 4, TRUE)) {
      |     ^
src\puzzlepro_core/./libduel.cc:2482:5: note: +1, nesting level increased to 2
 2482 |     else {
      |     ^
src\puzzlepro_core/./libduel.cc:2488:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2488 |       if (type & TYPE_PENDULUM) {
      |       ^
src\puzzlepro_core/./libduel.cc:2491:7: note: +1, nesting level increased to 3
 2491 |       else {
      |       ^
src\puzzlepro_core/./libduel.cc:2497:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2497 |   if (lua_gettop(L) >= 5) {
      |   ^
src\puzzlepro_core/./libduel.cc:2503:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2503 |   if (swapped) {
      |   ^
src\puzzlepro_core/./libduel.cc:2509:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2509 |   if (use_temp_card) {
      |   ^
src\puzzlepro_core/./libduel.cc:4016:20: warning: function 'duel_set_target_card' has cognitive complexity of 26 (threshold 25) [readability-function-cognitive-complexity]
 4016 | int32_t scriptlib::duel_set_target_card(lua_State *L) {
      |                    ^
src\puzzlepro_core/./libduel.cc:4022:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 4022 |   if (check_param(L, PARAM_TYPE_CARD, 1, TRUE)) {
      |   ^
src\puzzlepro_core/./libduel.cc:4026:8: note: +1, nesting level increased to 1
 4026 |   else if (check_param(L, PARAM_TYPE_GROUP, 1, TRUE)) {
      |        ^
src\puzzlepro_core/./libduel.cc:4030:3: note: +1, nesting level increased to 1
 4030 |   else {
      |   ^
src\puzzlepro_core/./libduel.cc:4034:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 4034 |   if (!ch) {
      |   ^
src\puzzlepro_core/./libduel.cc:4037:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 4037 |   if (!ch->target_cards) {
      |   ^
src\puzzlepro_core/./libduel.cc:4043:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 4043 |   if (peffect->type & EFFECT_TYPE_CONTINUOUS) {
      |   ^
src\puzzlepro_core/./libduel.cc:4044:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 4044 |     if (pcard) {
      |     ^
src\puzzlepro_core/./libduel.cc:4047:5: note: +1, nesting level increased to 2
 4047 |     else {
      |     ^
src\puzzlepro_core/./libduel.cc:4051:3: note: +1, nesting level increased to 1
 4051 |   else {
      |   ^
src\puzzlepro_core/./libduel.cc:4052:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 4052 |     if (pcard) {
      |     ^
src\puzzlepro_core/./libduel.cc:4056:5: note: +1, nesting level increased to 2
 4056 |     else {
      |     ^
src\puzzlepro_core/./libduel.cc:4058:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 4058 |       for (auto &group_card : pgroup->container) {
      |       ^
src\puzzlepro_core/./libduel.cc:4062:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 4062 |     if (peffect->is_flag(EFFECT_FLAG_CARD_TARGET)) {
      |     ^
src\puzzlepro_core/./libduel.cc:4063:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 4063 |       if (pcard) {
      |       ^
src\puzzlepro_core/./libduel.cc:4068:7: note: +1, nesting level increased to 3
 4068 |       else {
      |       ^
src\puzzlepro_core/./libduel.cc:4069:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 4069 |         for (auto &group_card : pgroup->container) {
      |         ^
src\puzzlepro_core/./libduel.cc:4509:20: warning: function 'duel_select_disable_field' has cognitive complexity of 26 (threshold 25) [readability-function-cognitive-complexity]
 4509 | int32_t scriptlib::duel_select_disable_field(lua_State *L) {
      |                    ^
src\puzzlepro_core/./libduel.cc:4513:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 4513 |   if (playerid != 0 && playerid != 1) {
      |   ^
src\puzzlepro_core/./libduel.cc:4513:21: note: +1
 4513 |   if (playerid != 0 && playerid != 1) {
      |                     ^
src\puzzlepro_core/./libduel.cc:4522:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 4522 |   if (location1 & LOCATION_MZONE) {
      |   ^
src\puzzlepro_core/./libduel.cc:4526:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 4526 |   if (location1 & LOCATION_SZONE) {
      |   ^
src\puzzlepro_core/./libduel.cc:4530:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 4530 |   if (location2 & LOCATION_MZONE) {
      |   ^
src\puzzlepro_core/./libduel.cc:4534:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 4534 |   if (location2 & LOCATION_SZONE) {
      |   ^
src\puzzlepro_core/./libduel.cc:4538:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 4538 |   if ((location1 & LOCATION_MZONE) && (location2 & LOCATION_MZONE) && pduel->game_field->core.duel_rule >= NEW_MASTER_RULE) {
      |   ^
src\puzzlepro_core/./libduel.cc:4538:68: note: +1
 4538 |   if ((location1 & LOCATION_MZONE) && (location2 & LOCATION_MZONE) && pduel->game_field->core.duel_rule >= NEW_MASTER_RULE) {
      |                                                                    ^
src\puzzlepro_core/./libduel.cc:4539:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 4539 |     if (pduel->game_field->is_location_useable(playerid, LOCATION_MZONE, 5)) {
      |     ^
src\puzzlepro_core/./libduel.cc:4543:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 4543 |     if (pduel->game_field->is_location_useable(playerid, LOCATION_MZONE, 6)) {
      |     ^
src\puzzlepro_core/./libduel.cc:4549:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 4549 |   if (count > ct1 + ct2 + ct3 + ct4) {
      |   ^
src\puzzlepro_core/./libduel.cc:4552:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 4552 |   if (count == 0) {
      |   ^
src\puzzlepro_core/./libduel.cc:4556:48: note: nesting level increased to 1
 4556 |   return lua_yieldk(L, 0, (lua_KContext)pduel, [](lua_State *L, int32_t status, lua_KContext ctx) {
      |                                                ^
src\puzzlepro_core/./libduel.cc:4562:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 4562 |     for (uint32_t i = 0; i < count; ++i) {
      |     ^
src\puzzlepro_core/./libduel.cc:4566:45: note: +3, including nesting penalty of 2, nesting level increased to 3
 4566 |       dfflag |= 0x1U << (s + (p == playerid ? 0 : 16) + (l == LOCATION_MZONE ? 0 : 8));
      |                                             ^
src\puzzlepro_core/./libduel.cc:4566:78: note: +3, including nesting penalty of 2, nesting level increased to 3
 4566 |       dfflag |= 0x1U << (s + (p == playerid ? 0 : 16) + (l == LOCATION_MZONE ? 0 : 8));
      |                                                                              ^
src\puzzlepro_core/./libduel.cc:4569:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 4569 |     if (dfflag & (0x1U << 5)) {
      |     ^
src\puzzlepro_core/./libduel.cc:4572:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 4572 |     if (dfflag & (0x1U << 6)) {
      |     ^
src\puzzlepro_core/./libgroup.cc:294:20: warning: function 'group_select_unselect' has cognitive complexity of 32 (threshold 25) [readability-function-cognitive-complexity]
  294 | int32_t scriptlib::group_select_unselect(lua_State *L) {
      |                    ^
src\puzzlepro_core/./libgroup.cc:300:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  300 |   if (check_param(L, PARAM_TYPE_GROUP, 2, TRUE)) {
      |   ^
src\puzzlepro_core/./libgroup.cc:305:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  305 |   if (playerid != 0 && playerid != 1) {
      |   ^
src\puzzlepro_core/./libgroup.cc:305:21: note: +1
  305 |   if (playerid != 0 && playerid != 1) {
      |                     ^
src\puzzlepro_core/./libgroup.cc:308:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  308 |   if (select_group->container.size() == 0 && (!unselect_group || unselect_group->container.size() == 0)) {
      |   ^
src\puzzlepro_core/./libgroup.cc:308:43: note: +1
  308 |   if (select_group->container.size() == 0 && (!unselect_group || unselect_group->container.size() == 0)) {
      |                                           ^
src\puzzlepro_core/./libgroup.cc:308:63: note: +1
  308 |   if (select_group->container.size() == 0 && (!unselect_group || unselect_group->container.size() == 0)) {
      |                                                               ^
src\puzzlepro_core/./libgroup.cc:311:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  311 |   if (unselect_group) {
      |   ^
src\puzzlepro_core/./libgroup.cc:312:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  312 |     for (auto it = unselect_group->container.begin(); it != unselect_group->container.end(); ++it) {
      |     ^
src\puzzlepro_core/./libgroup.cc:314:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  314 |       for (auto it2 = select_group->container.begin(); it2 != select_group->container.end(); ++it2) {
      |       ^
src\puzzlepro_core/./libgroup.cc:315:9: note: +4, including nesting penalty of 3, nesting level increased to 4
  315 |         if ((*it2) == pcard) {
      |         ^
src\puzzlepro_core/./libgroup.cc:322:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  322 |   if (lua_gettop(L) > 3) {
      |   ^
src\puzzlepro_core/./libgroup.cc:326:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  326 |   if (lua_gettop(L) > 4) {
      |   ^
src\puzzlepro_core/./libgroup.cc:330:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  330 |   if (lua_gettop(L) > 5) {
      |   ^
src\puzzlepro_core/./libgroup.cc:334:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  334 |   if (lua_gettop(L) > 6) {
      |   ^
src\puzzlepro_core/./libgroup.cc:337:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  337 |   if (min > max) {
      |   ^
src\puzzlepro_core/./libgroup.cc:342:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  342 |   for (auto it = select_group->container.begin(); it != select_group->container.end(); ++it) {
      |   ^
src\puzzlepro_core/./libgroup.cc:345:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  345 |   if (unselect_group) {
      |   ^
src\puzzlepro_core/./libgroup.cc:346:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  346 |     for (auto it = unselect_group->container.begin(); it != unselect_group->container.end(); ++it) {
      |     ^
src\puzzlepro_core/./libgroup.cc:351:48: note: nesting level increased to 1
  351 |   return lua_yieldk(L, 0, (lua_KContext)pduel, [](lua_State *L, int32_t status, lua_KContext ctx) {
      |                                                ^
src\puzzlepro_core/./libgroup.cc:353:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  353 |     if (pduel->game_field->returns.ivalue[0] == -1) {
      |     ^
src\puzzlepro_core/./libgroup.cc:356:5: note: +1, nesting level increased to 2
  356 |     else {
      |     ^
src\puzzlepro_core/./libgroup.cc:359:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  359 |       if (index < (int32_t)pduel->game_field->core.select_cards.size()) {
      |       ^
src\puzzlepro_core/./libgroup.cc:362:7: note: +1, nesting level increased to 3
  362 |       else {
      |       ^
src\puzzlepro_core/./operations.cc:39:184: warning: boolean expression can be simplified by DeMorgan's theorem [readability-simplify-boolean-expr]
   39 |   if (!(pchain.flag & CHAIN_DISABLE_EFFECT) && is_chain_disablable(pchain.chain_count) && (!phandler->is_has_relation(pchain) || phandler->is_affect_by_effect(core.reason_effect)) && !(phandler->is_has_relation(pchain) && phandler->is_status(STATUS_DISABLED) && !forced)) {
      |                                                                                                                                                                                        ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
      |                                                                                                                                                                                          !                                 || !                                    ||
src\puzzlepro_core/./operations.cc:392:16: warning: function 'draw' has cognitive complexity of 64 (threshold 25) [readability-function-cognitive-complexity]
  392 | int32_t field::draw(uint16_t step, effect *reason_effect, uint32_t reason, uint8_t reason_player, uint8_t playerid, int32_t count) {
      |                ^
src\puzzlepro_core/./operations.cc:393:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  393 |   switch (step) {
      |   ^
src\puzzlepro_core/./operations.cc:397:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  397 |       if (!(reason & REASON_RULE) && !is_player_can_draw(playerid)) {
      |       ^
src\puzzlepro_core/./operations.cc:397:35: note: +1
  397 |       if (!(reason & REASON_RULE) && !is_player_can_draw(playerid)) {
      |                                   ^
src\puzzlepro_core/./operations.cc:401:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  401 |       if (count == 0) {
      |       ^
src\puzzlepro_core/./operations.cc:406:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  406 |       for (int32_t i = 0; i < count; ++i) {
      |       ^
src\puzzlepro_core/./operations.cc:407:9: note: +3, including nesting penalty of 2, nesting level increased to 3
  407 |         if (player[playerid].list_main.empty()) {
      |         ^
src\puzzlepro_core/./operations.cc:428:9: note: +3, including nesting penalty of 2, nesting level increased to 3
  428 |         if (pub) {
      |         ^
src\puzzlepro_core/./operations.cc:431:39: note: +3, including nesting penalty of 2, nesting level increased to 3
  431 |         pcard->current.position = pub ? POS_FACEUP : POS_FACEDOWN;
      |                                       ^
src\puzzlepro_core/./operations.cc:437:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  437 |       if (core.overdraw[playerid] && (reason & REASON_RULE)) {
      |       ^
src\puzzlepro_core/./operations.cc:437:35: note: +1
  437 |       if (core.overdraw[playerid] && (reason & REASON_RULE)) {
      |                                   ^
src\puzzlepro_core/./operations.cc:443:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  443 |       if (cv.size()) {
      |       ^
src\puzzlepro_core/./operations.cc:444:9: note: +3, including nesting penalty of 2, nesting level increased to 3
  444 |         if (core.global_flag & GLOBALFLAG_DECK_REVERSE_CHECK) {
      |         ^
src\puzzlepro_core/./operations.cc:445:11: note: +4, including nesting penalty of 3, nesting level increased to 4
  445 |           if (player[playerid].list_main.size()) {
      |           ^
src\puzzlepro_core/./operations.cc:447:13: note: +5, including nesting penalty of 4, nesting level increased to 5
  447 |             if (core.deck_reversed || (ptop->current.position == POS_FACEUP_DEFENSE)) {
      |             ^
src\puzzlepro_core/./operations.cc:447:36: note: +1
  447 |             if (core.deck_reversed || (ptop->current.position == POS_FACEUP_DEFENSE)) {
      |                                    ^
src\puzzlepro_core/./operations.cc:451:15: note: +6, including nesting penalty of 5, nesting level increased to 6
  451 |               if (ptop->current.position != POS_FACEUP_DEFENSE) {
      |               ^
src\puzzlepro_core/./operations.cc:454:15: note: +1, nesting level increased to 6
  454 |               else {
      |               ^
src\puzzlepro_core/./operations.cc:463:9: note: +3, including nesting penalty of 2, nesting level increased to 3
  463 |         for (auto &pcard : cv) {
      |         ^
src\puzzlepro_core/./operations.cc:464:84: note: +4, including nesting penalty of 3, nesting level increased to 4
  464 |           pduel->write_buffer32(pcard->data.code | (pcard->is_position(POS_FACEUP) ? 0x80000000 : 0));
      |                                                                                    ^
src\puzzlepro_core/./operations.cc:466:9: note: +3, including nesting penalty of 2, nesting level increased to 3
  466 |         if (core.deck_reversed && (public_count < cv.size())) {
      |         ^
src\puzzlepro_core/./operations.cc:466:32: note: +1
  466 |         if (core.deck_reversed && (public_count < cv.size())) {
      |                                ^
src\puzzlepro_core/./operations.cc:470:11: note: +4, including nesting penalty of 3, nesting level increased to 4
  470 |           for (auto &pcard : *drawed_set) {
      |           ^
src\puzzlepro_core/./operations.cc:478:9: note: +3, including nesting penalty of 2, nesting level increased to 3
  478 |         for (auto &pcard : *drawed_set) {
      |         ^
src\puzzlepro_core/./operations.cc:479:11: note: +4, including nesting penalty of 3, nesting level increased to 4
  479 |           if (pcard->owner != pcard->current.controler) {
      |           ^
src\puzzlepro_core/./operations.cc:512:16: warning: function 'damage' has cognitive complexity of 41 (threshold 25) [readability-function-cognitive-complexity]
  512 | int32_t field::damage(uint16_t step, effect *reason_effect, uint32_t reason, uint8_t reason_player, card *reason_card, uint8_t playerid, int32_t amount, uint32_t is_step) {
      |                ^
src\puzzlepro_core/./operations.cc:514:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  514 |   switch (step) {
      |   ^
src\puzzlepro_core/./operations.cc:522:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  522 |       if (amount <= 0) {
      |       ^
src\puzzlepro_core/./operations.cc:525:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  525 |       if (!(reason & REASON_RDAMAGE)) {
      |       ^
src\puzzlepro_core/./operations.cc:527:9: note: +3, including nesting penalty of 2, nesting level increased to 3
  527 |         for (effect_set::size_type i = 0; i < eset.size(); ++i) {
      |         ^
src\puzzlepro_core/./operations.cc:532:11: note: +4, including nesting penalty of 3, nesting level increased to 4
  532 |           if (eset[i]->check_value_condition(4)) {
      |           ^
src\puzzlepro_core/./operations.cc:541:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  541 |       for (effect_set::size_type i = 0; i < eset.size(); ++i) {
      |       ^
src\puzzlepro_core/./operations.cc:547:9: note: +3, including nesting penalty of 2, nesting level increased to 3
  547 |         if (eset[i]->check_value_condition(5)) {
      |         ^
src\puzzlepro_core/./operations.cc:556:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  556 |       for (effect_set::size_type i = 0; i < eset.size(); ++i) {
      |       ^
src\puzzlepro_core/./operations.cc:564:9: note: +3, including nesting penalty of 2, nesting level increased to 3
  564 |         if (val == 0) {
      |         ^
src\puzzlepro_core/./operations.cc:642:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  642 |       for (effect_set::size_type i = 0; i < eset.size(); ++i) {
      |       ^
src\puzzlepro_core/./operations.cc:650:9: note: +3, including nesting penalty of 2, nesting level increased to 3
  650 |         if (val == 0) {
      |         ^
src\puzzlepro_core/./operations.cc:655:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  655 |       if (is_step) {
      |       ^
src\puzzlepro_core/./operations.cc:664:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  664 |       if (is_reflect) {
      |       ^
src\puzzlepro_core/./operations.cc:667:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  667 |       if (is_reflect || (reason & REASON_RRECOVER)) {
      |       ^
src\puzzlepro_core/./operations.cc:667:22: note: +1
  667 |       if (is_reflect || (reason & REASON_RRECOVER)) {
      |                      ^
src\puzzlepro_core/./operations.cc:676:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  676 |       if (reason == REASON_BATTLE && reason_card) {
      |       ^
src\puzzlepro_core/./operations.cc:676:35: note: +1
  676 |       if (reason == REASON_BATTLE && reason_card) {
      |                                   ^
src\puzzlepro_core/./operations.cc:677:9: note: +3, including nesting penalty of 2, nesting level increased to 3
  677 |         if ((player[playerid].lp <= 0) && (core.attack_target == 0) && reason_card->is_affected_by_effect(EFFECT_MATCH_KILL)) {
      |         ^
src\puzzlepro_core/./operations.cc:677:69: note: +1
  677 |         if ((player[playerid].lp <= 0) && (core.attack_target == 0) && reason_card->is_affected_by_effect(EFFECT_MATCH_KILL)) {
      |                                                                     ^
src\puzzlepro_core/./operations.cc:768:16: warning: function 'pay_lp_cost' has cognitive complexity of 26 (threshold 25) [readability-function-cognitive-complexity]
  768 | int32_t field::pay_lp_cost(uint32_t step, uint8_t playerid, uint32_t cost, uint32_t must_pay) {
      |                ^
src\puzzlepro_core/./operations.cc:769:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  769 |   switch (step) {
      |   ^
src\puzzlepro_core/./operations.cc:774:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  774 |       for (effect_set::size_type i = 0; i < eset.size(); ++i) {
      |       ^
src\puzzlepro_core/./operations.cc:780:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  780 |       if (val <= 0) {
      |       ^
src\puzzlepro_core/./operations.cc:786:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  786 |       if (val <= player[playerid].lp) {
      |       ^
src\puzzlepro_core/./operations.cc:790:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  790 |       if (must_pay) {
      |       ^
src\puzzlepro_core/./operations.cc:791:9: note: +3, including nesting penalty of 2, nesting level increased to 3
  791 |         if (core.select_options.size() == 0) {
      |         ^
src\puzzlepro_core/./operations.cc:805:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  805 |       for (auto eit = pr.first; eit != pr.second;) {
      |       ^
src\puzzlepro_core/./operations.cc:808:9: note: +3, including nesting penalty of 2, nesting level increased to 3
  808 |         if (peffect->is_activateable(peffect->get_handler_player(), e)) {
      |         ^
src\puzzlepro_core/./operations.cc:813:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  813 |       if (core.select_options.size() == 0) {
      |       ^
src\puzzlepro_core/./operations.cc:816:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  816 |       if (core.select_options.size() == 1) {
      |       ^
src\puzzlepro_core/./operations.cc:819:12: note: +1, nesting level increased to 2
  819 |       else if (core.select_effects[0] == 0 && core.select_effects.size() == 2) {
      |            ^
src\puzzlepro_core/./operations.cc:819:44: note: +1
  819 |       else if (core.select_effects[0] == 0 && core.select_effects.size() == 2) {
      |                                            ^
src\puzzlepro_core/./operations.cc:822:7: note: +1, nesting level increased to 2
  822 |       else {
      |       ^
src\puzzlepro_core/./operations.cc:829:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  829 |       if (!peffect) {
      |       ^
src\puzzlepro_core/./operations.cc:856:16: warning: function 'remove_counter' has cognitive complexity of 27 (threshold 25) [readability-function-cognitive-complexity]
  856 | int32_t field::remove_counter(uint16_t step, uint32_t reason, card *pcard, uint8_t rplayer, uint8_t s, uint8_t o, uint16_t countertype, uint16_t count) {
      |                ^
src\puzzlepro_core/./operations.cc:857:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  857 |   switch (step) {
      |   ^
src\puzzlepro_core/./operations.cc:861:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  861 |       if ((pcard && pcard->get_counter(countertype) >= count) || (!pcard && get_field_counter(rplayer, s, o, countertype))) {
      |       ^
src\puzzlepro_core/./operations.cc:861:63: note: +1
  861 |       if ((pcard && pcard->get_counter(countertype) >= count) || (!pcard && get_field_counter(rplayer, s, o, countertype))) {
      |                                                               ^
src\puzzlepro_core/./operations.cc:861:18: note: +1
  861 |       if ((pcard && pcard->get_counter(countertype) >= count) || (!pcard && get_field_counter(rplayer, s, o, countertype))) {
      |                  ^
src\puzzlepro_core/./operations.cc:861:74: note: +1
  861 |       if ((pcard && pcard->get_counter(countertype) >= count) || (!pcard && get_field_counter(rplayer, s, o, countertype))) {
      |                                                                          ^
src\puzzlepro_core/./operations.cc:873:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  873 |       for (auto eit = pr.first; eit != pr.second;) {
      |       ^
src\puzzlepro_core/./operations.cc:876:9: note: +3, including nesting penalty of 2, nesting level increased to 3
  876 |         if (peffect->is_activateable(peffect->get_handler_player(), e)) {
      |         ^
src\puzzlepro_core/./operations.cc:882:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  882 |       if (core.select_options.size() == 0) {
      |       ^
src\puzzlepro_core/./operations.cc:885:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  885 |       if (core.select_options.size() == 1) {
      |       ^
src\puzzlepro_core/./operations.cc:888:12: note: +1, nesting level increased to 2
  888 |       else if (core.select_effects[0] == nullptr && core.select_effects.size() == 2) {
      |            ^
src\puzzlepro_core/./operations.cc:888:50: note: +1
  888 |       else if (core.select_effects[0] == nullptr && core.select_effects.size() == 2) {
      |                                                  ^
src\puzzlepro_core/./operations.cc:891:7: note: +1, nesting level increased to 2
  891 |       else {
      |       ^
src\puzzlepro_core/./operations.cc:898:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  898 |       if (peffect) {
      |       ^
src\puzzlepro_core/./operations.cc:910:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  910 |       if (pcard) {
      |       ^
src\puzzlepro_core/./operations.cc:919:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  919 |       for (uint32_t i = 0; i < core.select_cards.size(); ++i) {
      |       ^
src\puzzlepro_core/./operations.cc:920:9: note: +3, including nesting penalty of 2, nesting level increased to 3
  920 |         if (returns.svalue[i] > 0) {
      |         ^
src\puzzlepro_core/./operations.cc:939:16: warning: function 'remove_overlay_card' has cognitive complexity of 33 (threshold 25) [readability-function-cognitive-complexity]
  939 | int32_t field::remove_overlay_card(uint16_t step, uint32_t reason, card *pcard, uint8_t rplayer, uint8_t s, uint8_t o, uint16_t min, uint16_t max) {
      |                ^
src\puzzlepro_core/./operations.cc:940:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  940 |   switch (step) {
      |   ^
src\puzzlepro_core/./operations.cc:944:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  944 |       if ((pcard && (int32_t)pcard->xyz_materials.size() >= min) || (!pcard && get_overlay_count(rplayer, s, o) >= min)) {
      |       ^
src\puzzlepro_core/./operations.cc:944:66: note: +1
  944 |       if ((pcard && (int32_t)pcard->xyz_materials.size() >= min) || (!pcard && get_overlay_count(rplayer, s, o) >= min)) {
      |                                                                  ^
src\puzzlepro_core/./operations.cc:944:18: note: +1
  944 |       if ((pcard && (int32_t)pcard->xyz_materials.size() >= min) || (!pcard && get_overlay_count(rplayer, s, o) >= min)) {
      |                  ^
src\puzzlepro_core/./operations.cc:944:77: note: +1
  944 |       if ((pcard && (int32_t)pcard->xyz_materials.size() >= min) || (!pcard && get_overlay_count(rplayer, s, o) >= min)) {
      |                                                                             ^
src\puzzlepro_core/./operations.cc:956:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  956 |       for (auto eit = pr.first; eit != pr.second;) {
      |       ^
src\puzzlepro_core/./operations.cc:959:9: note: +3, including nesting penalty of 2, nesting level increased to 3
  959 |         if (peffect->is_activateable(peffect->get_handler_player(), e)) {
      |         ^
src\puzzlepro_core/./operations.cc:965:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  965 |       if (core.select_options.size() == 0) {
      |       ^
src\puzzlepro_core/./operations.cc:968:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  968 |       if (core.select_options.size() == 1) {
      |       ^
src\puzzlepro_core/./operations.cc:971:12: note: +1, nesting level increased to 2
  971 |       else if (core.select_effects[0] == 0 && core.select_effects.size() == 2) {
      |            ^
src\puzzlepro_core/./operations.cc:971:44: note: +1
  971 |       else if (core.select_effects[0] == 0 && core.select_effects.size() == 2) {
      |                                            ^
src\puzzlepro_core/./operations.cc:974:7: note: +1, nesting level increased to 2
  974 |       else {
      |       ^
src\puzzlepro_core/./operations.cc:980:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  980 |       if (effect *peffect = core.select_effects[returns.ivalue[0]]) {
      |       ^
src\puzzlepro_core/./operations.cc:995:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  995 |       if (core.units.begin()->peffect) {
      |       ^
src\puzzlepro_core/./operations.cc:997:9: note: +3, including nesting penalty of 2, nesting level increased to 3
  997 |         if (replace_count >= max) {
      |         ^
src\puzzlepro_core/./operations.cc:1002:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1002 |         if (min <= 0) {
      |         ^
src\puzzlepro_core/./operations.cc:1009:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1009 |       if (pcard) {
      |       ^
src\puzzlepro_core/./operations.cc:1012:7: note: +1, nesting level increased to 2
 1012 |       else {
      |       ^
src\puzzlepro_core/./operations.cc:1026:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1026 |       for (int32_t i = 0; i < returns.bvalue[0]; ++i) {
      |       ^
src\puzzlepro_core/./operations.cc:1040:16: warning: function 'get_control' has cognitive complexity of 52 (threshold 25) [readability-function-cognitive-complexity]
 1040 | int32_t field::get_control(uint16_t step, effect *reason_effect, uint8_t reason_player, group *targets, uint8_t playerid, uint16_t reset_phase, uint8_t reset_count, uint32_t zone) {
      |                ^
src\puzzlepro_core/./operations.cc:1041:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1041 |   switch (step) {
      |   ^
src\puzzlepro_core/./operations.cc:1045:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1045 |       for (auto cit = targets->container.begin(); cit != targets->container.end();) {
      |       ^
src\puzzlepro_core/./operations.cc:1049:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1049 |         if (pcard->overlay_target) {
      |         ^
src\puzzlepro_core/./operations.cc:1052:14: note: +1, nesting level increased to 3
 1052 |         else if (pcard->current.controler == playerid) {
      |              ^
src\puzzlepro_core/./operations.cc:1055:14: note: +1, nesting level increased to 3
 1055 |         else if (pcard->current.controler == PLAYER_NONE) {
      |              ^
src\puzzlepro_core/./operations.cc:1058:14: note: +1, nesting level increased to 3
 1058 |         else if (pcard->current.location != LOCATION_MZONE) {
      |              ^
src\puzzlepro_core/./operations.cc:1061:14: note: +1, nesting level increased to 3
 1061 |         else if (!pcard->is_capable_change_control()) {
      |              ^
src\puzzlepro_core/./operations.cc:1064:14: note: +1, nesting level increased to 3
 1064 |         else if (!pcard->is_affect_by_effect(reason_effect)) {
      |              ^
src\puzzlepro_core/./operations.cc:1067:14: note: +1, nesting level increased to 3
 1067 |         else if (core.duel_rule <= 4 && (pcard->get_type() & TYPE_TRAPMONSTER) && get_useable_count(pcard, playerid, LOCATION_SZONE, reason_player, LOCATION_REASON_CONTROL) <= 0) {
      |              ^
src\puzzlepro_core/./operations.cc:1067:80: note: +1
 1067 |         else if (core.duel_rule <= 4 && (pcard->get_type() & TYPE_TRAPMONSTER) && get_useable_count(pcard, playerid, LOCATION_SZONE, reason_player, LOCATION_REASON_CONTROL) <= 0) {
      |                                                                                ^
src\puzzlepro_core/./operations.cc:1070:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1070 |         if (!change) {
      |         ^
src\puzzlepro_core/./operations.cc:1073:9: note: +1, nesting level increased to 3
 1073 |         else {
      |         ^
src\puzzlepro_core/./operations.cc:1078:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1078 |       if (fcount <= 0) {
      |       ^
src\puzzlepro_core/./operations.cc:1083:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1083 |       if ((int32_t)targets->container.size() > fcount) {
      |       ^
src\puzzlepro_core/./operations.cc:1085:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1085 |         for (auto &pcard : targets->container) {
      |         ^
src\puzzlepro_core/./operations.cc:1095:7: note: +1, nesting level increased to 2
 1095 |       else {
      |       ^
src\puzzlepro_core/./operations.cc:1102:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1102 |       for (int32_t i = 0; i < returns.bvalue[0]; ++i) {
      |       ^
src\puzzlepro_core/./operations.cc:1110:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1110 |       for (auto &pcard : targets->container) {
      |       ^
src\puzzlepro_core/./operations.cc:1111:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1111 |         if (pcard->unique_code && (pcard->unique_location & LOCATION_MZONE)) {
      |         ^
src\puzzlepro_core/./operations.cc:1111:32: note: +1
 1111 |         if (pcard->unique_code && (pcard->unique_location & LOCATION_MZONE)) {
      |                                ^
src\puzzlepro_core/./operations.cc:1119:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1119 |       if (targets->it == targets->container.end()) {
      |       ^
src\puzzlepro_core/./operations.cc:1125:59: note: +2, including nesting penalty of 1, nesting level increased to 2
 1125 |       move_to_field(pcard, (reason_player != PLAYER_NONE) ? reason_player : playerid, playerid, LOCATION_MZONE, pcard->current.position, FALSE, 0, FALSE, zone);
      |                                                           ^
src\puzzlepro_core/./operations.cc:1129:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1129 |       if (targets->it != targets->container.end()) {
      |       ^
src\puzzlepro_core/./operations.cc:1141:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1141 |       for (auto cit = targets->container.begin(); cit != targets->container.end();) {
      |       ^
src\puzzlepro_core/./operations.cc:1143:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1143 |         if (!(pcard->current.location & LOCATION_ONFIELD)) {
      |         ^
src\puzzlepro_core/./operations.cc:1147:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1147 |         if (pcard->unique_code && (pcard->unique_location & LOCATION_MZONE)) {
      |         ^
src\puzzlepro_core/./operations.cc:1147:32: note: +1
 1147 |         if (pcard->unique_code && (pcard->unique_location & LOCATION_MZONE)) {
      |                                ^
src\puzzlepro_core/./operations.cc:1154:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1154 |       if (targets->container.size()) {
      |       ^
src\puzzlepro_core/./operations.cc:1164:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1164 |       if (destroy_set->size()) {
      |       ^
src\puzzlepro_core/./operations.cc:1180:16: warning: function 'swap_control' has cognitive complexity of 95 (threshold 25) [readability-function-cognitive-complexity]
 1180 | int32_t field::swap_control(uint16_t step, effect *reason_effect, uint8_t reason_player, group *targets1, group *targets2, uint16_t reset_phase, uint8_t reset_count) {
      |                ^
src\puzzlepro_core/./operations.cc:1182:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1182 |   switch (step) {
      |   ^
src\puzzlepro_core/./operations.cc:1185:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1185 |       if (targets1->container.size() == 0) {
      |       ^
src\puzzlepro_core/./operations.cc:1188:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1188 |       if (targets2->container.size() == 0) {
      |       ^
src\puzzlepro_core/./operations.cc:1191:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1191 |       if (targets1->container.size() != targets2->container.size()) {
      |       ^
src\puzzlepro_core/./operations.cc:1194:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1194 |       for (auto &pcard : targets1->container) {
      |       ^
src\puzzlepro_core/./operations.cc:1197:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1197 |       for (auto &pcard : targets2->container) {
      |       ^
src\puzzlepro_core/./operations.cc:1203:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1203 |       if (p1 == p2 || p1 == PLAYER_NONE || p2 == PLAYER_NONE) {
      |       ^
src\puzzlepro_core/./operations.cc:1203:41: note: +1
 1203 |       if (p1 == p2 || p1 == PLAYER_NONE || p2 == PLAYER_NONE) {
      |                                         ^
src\puzzlepro_core/./operations.cc:1206:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1206 |       for (auto &pcard : targets1->container) {
      |       ^
src\puzzlepro_core/./operations.cc:1207:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1207 |         if (pcard->overlay_target) {
      |         ^
src\puzzlepro_core/./operations.cc:1210:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1210 |         if (pcard->current.controler != p1) {
      |         ^
src\puzzlepro_core/./operations.cc:1213:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1213 |         if (pcard->current.location != LOCATION_MZONE) {
      |         ^
src\puzzlepro_core/./operations.cc:1216:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1216 |         if (!pcard->is_capable_change_control()) {
      |         ^
src\puzzlepro_core/./operations.cc:1219:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1219 |         if (!pcard->is_affect_by_effect(reason_effect)) {
      |         ^
src\puzzlepro_core/./operations.cc:1223:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1223 |       for (auto &pcard : targets2->container) {
      |       ^
src\puzzlepro_core/./operations.cc:1224:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1224 |         if (pcard->overlay_target) {
      |         ^
src\puzzlepro_core/./operations.cc:1227:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1227 |         if (pcard->current.controler != p2) {
      |         ^
src\puzzlepro_core/./operations.cc:1230:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1230 |         if (pcard->current.location != LOCATION_MZONE) {
      |         ^
src\puzzlepro_core/./operations.cc:1233:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1233 |         if (!pcard->is_capable_change_control()) {
      |         ^
src\puzzlepro_core/./operations.cc:1236:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1236 |         if (!pcard->is_affect_by_effect(reason_effect)) {
      |         ^
src\puzzlepro_core/./operations.cc:1241:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1241 |       for (auto &pcard : targets1->container) {
      |       ^
src\puzzlepro_core/./operations.cc:1242:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1242 |         if (pcard->current.sequence >= 5) {
      |         ^
src\puzzlepro_core/./operations.cc:1246:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1246 |       if (ct < 0) {
      |       ^
src\puzzlepro_core/./operations.cc:1250:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1250 |       for (auto &pcard : targets2->container) {
      |       ^
src\puzzlepro_core/./operations.cc:1251:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1251 |         if (pcard->current.sequence >= 5) {
      |         ^
src\puzzlepro_core/./operations.cc:1255:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1255 |       if (ct < 0) {
      |       ^
src\puzzlepro_core/./operations.cc:1258:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1258 |       for (auto &pcard : targets1->container) {
      |       ^
src\puzzlepro_core/./operations.cc:1259:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1259 |         if (pcard->unique_code && (pcard->unique_location & LOCATION_MZONE)) {
      |         ^
src\puzzlepro_core/./operations.cc:1259:32: note: +1
 1259 |         if (pcard->unique_code && (pcard->unique_location & LOCATION_MZONE)) {
      |                                ^
src\puzzlepro_core/./operations.cc:1263:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1263 |       for (auto &pcard : targets2->container) {
      |       ^
src\puzzlepro_core/./operations.cc:1264:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1264 |         if (pcard->unique_code && (pcard->unique_location & LOCATION_MZONE)) {
      |         ^
src\puzzlepro_core/./operations.cc:1264:32: note: +1
 1264 |         if (pcard->unique_code && (pcard->unique_location & LOCATION_MZONE)) {
      |                                ^
src\puzzlepro_core/./operations.cc:1274:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1274 |       if (targets1->it == targets1->container.end() || targets2->it == targets2->container.end()) {
      |       ^
src\puzzlepro_core/./operations.cc:1274:53: note: +1
 1274 |       if (targets1->it == targets1->container.end() || targets2->it == targets2->container.end()) {
      |                                                     ^
src\puzzlepro_core/./operations.cc:1284:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1284 |       if (reason_player == p1) {
      |       ^
src\puzzlepro_core/./operations.cc:1287:7: note: +1, nesting level increased to 2
 1287 |       else {
      |       ^
src\puzzlepro_core/./operations.cc:1298:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1298 |       if (targets1->it == targets1->container.end() || targets2->it == targets2->container.end()) {
      |       ^
src\puzzlepro_core/./operations.cc:1298:53: note: +1
 1298 |       if (targets1->it == targets1->container.end() || targets2->it == targets2->container.end()) {
      |                                                     ^
src\puzzlepro_core/./operations.cc:1309:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1309 |       if (reason_player == p2) {
      |       ^
src\puzzlepro_core/./operations.cc:1312:7: note: +1, nesting level increased to 2
 1312 |       else {
      |       ^
src\puzzlepro_core/./operations.cc:1323:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1323 |       if (targets1->it == targets1->container.end() || targets2->it == targets2->container.end()) {
      |       ^
src\puzzlepro_core/./operations.cc:1323:53: note: +1
 1323 |       if (targets1->it == targets1->container.end() || targets2->it == targets2->container.end()) {
      |                                                     ^
src\puzzlepro_core/./operations.cc:1344:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1344 |       for (auto &pcard : targets1->container) {
      |       ^
src\puzzlepro_core/./operations.cc:1346:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1346 |         if (pcard->unique_code && (pcard->unique_location & LOCATION_MZONE)) {
      |         ^
src\puzzlepro_core/./operations.cc:1346:32: note: +1
 1346 |         if (pcard->unique_code && (pcard->unique_location & LOCATION_MZONE)) {
      |                                ^
src\puzzlepro_core/./operations.cc:1376:16: warning: function 'self_destroy' has cognitive complexity of 66 (threshold 25) [readability-function-cognitive-complexity]
 1376 | int32_t field::self_destroy(uint16_t step, card *ucard, int32_t p) {
      |                ^
src\puzzlepro_core/./operations.cc:1378:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1378 |   switch (step) {
      |   ^
src\puzzlepro_core/./operations.cc:1380:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1380 |       if (core.unique_cards[p].find(ucard) == core.unique_cards[p].end()) {
      |       ^
src\puzzlepro_core/./operations.cc:1386:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1386 |       if (cset.size() == 0) {
      |       ^
src\puzzlepro_core/./operations.cc:1389:12: note: +1, nesting level increased to 2
 1389 |       else if (cset.size() == 1) {
      |            ^
src\puzzlepro_core/./operations.cc:1393:7: note: +1, nesting level increased to 2
 1393 |       else {
      |       ^
src\puzzlepro_core/./operations.cc:1396:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1396 |         for (auto &pcard : cset) {
      |         ^
src\puzzlepro_core/./operations.cc:1397:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 1397 |           if (pcard->current.controler == select_player && pcard->unique_fieldid != UINT_MAX) {
      |           ^
src\puzzlepro_core/./operations.cc:1397:57: note: +1
 1397 |           if (pcard->current.controler == select_player && pcard->unique_fieldid != UINT_MAX) {
      |                                                         ^
src\puzzlepro_core/./operations.cc:1401:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1401 |         if (core.select_cards.size() == 0) {
      |         ^
src\puzzlepro_core/./operations.cc:1403:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 1403 |           for (auto &pcard : cset) {
      |           ^
src\puzzlepro_core/./operations.cc:1404:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 1404 |             if (pcard->current.controler == select_player && pcard->unique_fieldid != UINT_MAX) {
      |             ^
src\puzzlepro_core/./operations.cc:1404:59: note: +1
 1404 |             if (pcard->current.controler == select_player && pcard->unique_fieldid != UINT_MAX) {
      |                                                           ^
src\puzzlepro_core/./operations.cc:1409:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1409 |         if (core.select_cards.size() == 0) {
      |         ^
src\puzzlepro_core/./operations.cc:1411:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 1411 |           for (auto &pcard : cset) {
      |           ^
src\puzzlepro_core/./operations.cc:1412:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 1412 |             if (pcard->current.controler == select_player) {
      |             ^
src\puzzlepro_core/./operations.cc:1417:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1417 |         if (core.select_cards.size() == 0) {
      |         ^
src\puzzlepro_core/./operations.cc:1419:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 1419 |           for (auto &pcard : cset) {
      |           ^
src\puzzlepro_core/./operations.cc:1420:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 1420 |             if (pcard->current.controler == select_player) {
      |             ^
src\puzzlepro_core/./operations.cc:1425:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1425 |         if (core.select_cards.size() == 1) {
      |         ^
src\puzzlepro_core/./operations.cc:1428:9: note: +1, nesting level increased to 3
 1428 |         else {
      |         ^
src\puzzlepro_core/./operations.cc:1446:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1446 |       for (auto &pcard : cset) {
      |       ^
src\puzzlepro_core/./operations.cc:1460:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1460 |       if (core.self_destroy_set.empty()) {
      |       ^
src\puzzlepro_core/./operations.cc:1466:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1466 |       if (peffect) {
      |       ^
src\puzzlepro_core/./operations.cc:1484:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1484 |       if (core.self_tograve_set.empty()) {
      |       ^
src\puzzlepro_core/./operations.cc:1490:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1490 |       if (peffect) {
      |       ^
src\puzzlepro_core/./operations.cc:1510:16: warning: function 'trap_monster_adjust' has cognitive complexity of 35 (threshold 25) [readability-function-cognitive-complexity]
 1510 | int32_t field::trap_monster_adjust(uint16_t step) {
      |                ^
src\puzzlepro_core/./operations.cc:1511:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1511 |   switch (step) {
      |   ^
src\puzzlepro_core/./operations.cc:1513:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1513 |       if (core.duel_rule <= 4) {
      |       ^
src\puzzlepro_core/./operations.cc:1524:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1524 |       if (core.units.begin()->value1) {
      |       ^
src\puzzlepro_core/./operations.cc:1529:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1529 |       if (fcount <= 0) {
      |       ^
src\puzzlepro_core/./operations.cc:1530:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1530 |         for (auto &pcard : core.trap_monster_adjust_set[check_player]) {
      |         ^
src\puzzlepro_core/./operations.cc:1536:12: note: +1, nesting level increased to 2
 1536 |       else if ((int32_t)core.trap_monster_adjust_set[check_player].size() > fcount) {
      |            ^
src\puzzlepro_core/./operations.cc:1539:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1539 |         for (auto &pcard : core.trap_monster_adjust_set[check_player]) {
      |         ^
src\puzzlepro_core/./operations.cc:1548:7: note: +1, nesting level increased to 2
 1548 |       else {
      |       ^
src\puzzlepro_core/./operations.cc:1556:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1556 |       if (core.units.begin()->value1) {
      |       ^
src\puzzlepro_core/./operations.cc:1559:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1559 |       for (int32_t i = 0; i < returns.bvalue[0]; ++i) {
      |       ^
src\puzzlepro_core/./operations.cc:1566:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1566 |       if (!core.units.begin()->value1) {
      |       ^
src\puzzlepro_core/./operations.cc:1574:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1574 |       for (uint8_t p = 0; p < 2; ++p) {
      |       ^
src\puzzlepro_core/./operations.cc:1575:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1575 |         for (auto &pcard : core.trap_monster_adjust_set[tp]) {
      |         ^
src\puzzlepro_core/./operations.cc:1577:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 1577 |           if (core.duel_rule <= 4) {
      |           ^
src\puzzlepro_core/./operations.cc:1584:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1584 |       if (card_set *to_grave_set = (card_set *)core.units.begin()->ptr1) {
      |       ^
src\puzzlepro_core/./operations.cc:1585:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1585 |         if (to_grave_set->size()) {
      |         ^
src\puzzlepro_core/./operations.cc:1596:16: warning: function 'equip' has cognitive complexity of 43 (threshold 25) [readability-function-cognitive-complexity]
 1596 | int32_t field::equip(uint16_t step, uint8_t equip_player, card *equip_card, card *target, uint32_t up, uint32_t is_step) {
      |                ^
src\puzzlepro_core/./operations.cc:1597:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1597 |   switch (step) {
      |   ^
src\puzzlepro_core/./operations.cc:1600:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1600 |       if (!equip_card->is_affect_by_effect(core.reason_effect)) {
      |       ^
src\puzzlepro_core/./operations.cc:1603:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1603 |       if (equip_card == target) {
      |       ^
src\puzzlepro_core/./operations.cc:1607:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1607 |       if (target->current.location != LOCATION_MZONE || (target->current.position & POS_FACEDOWN)) {
      |       ^
src\puzzlepro_core/./operations.cc:1607:54: note: +1
 1607 |       if (target->current.location != LOCATION_MZONE || (target->current.position & POS_FACEDOWN)) {
      |                                                      ^
src\puzzlepro_core/./operations.cc:1610:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1610 |       if (equip_card->current.location != LOCATION_SZONE) {
      |       ^
src\puzzlepro_core/./operations.cc:1612:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1612 |         if (get_useable_count(equip_card, equip_player, LOCATION_SZONE, equip_player, LOCATION_REASON_TOFIELD) <= 0) {
      |         ^
src\puzzlepro_core/./operations.cc:1616:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1616 |       if (to_grave) {
      |       ^
src\puzzlepro_core/./operations.cc:1617:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1617 |         if (equip_card->current.location != LOCATION_GRAVE) {
      |         ^
src\puzzlepro_core/./operations.cc:1623:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1623 |       if (!(equip_card->data.type & TYPE_EQUIP)) {
      |       ^
src\puzzlepro_core/./operations.cc:1626:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1626 |       if (equip_card->equiping_target) {
      |       ^
src\puzzlepro_core/./operations.cc:1633:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1633 |       if (equip_card->current.location == LOCATION_SZONE) {
      |       ^
src\puzzlepro_core/./operations.cc:1634:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1634 |         if (up && equip_card->is_position(POS_FACEDOWN)) {
      |         ^
src\puzzlepro_core/./operations.cc:1634:16: note: +1
 1634 |         if (up && equip_card->is_position(POS_FACEDOWN)) {
      |                ^
src\puzzlepro_core/./operations.cc:1640:121: note: +2, including nesting penalty of 1, nesting level increased to 2
 1640 |       move_to_field(equip_card, equip_player, equip_player, LOCATION_SZONE, (up || equip_card->is_position(POS_FACEUP)) ? POS_FACEUP : POS_FACEDOWN);
      |                                                                                                                         ^
src\puzzlepro_core/./operations.cc:1640:81: note: +1
 1640 |       move_to_field(equip_card, equip_player, equip_player, LOCATION_SZONE, (up || equip_card->is_position(POS_FACEUP)) ? POS_FACEUP : POS_FACEDOWN);
      |                                                                                 ^
src\puzzlepro_core/./operations.cc:1645:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1645 |       if (!(equip_card->data.type & TYPE_EQUIP)) {
      |       ^
src\puzzlepro_core/./operations.cc:1651:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1651 |         if (equip_card_type & TYPE_TRAP) {
      |         ^
src\puzzlepro_core/./operations.cc:1655:9: note: +1, nesting level increased to 3
 1655 |         else {
      |         ^
src\puzzlepro_core/./operations.cc:1665:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1665 |       if (!is_step) {
      |       ^
src\puzzlepro_core/./operations.cc:1666:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1666 |         if (equip_card->is_position(POS_FACEUP)) {
      |         ^
src\puzzlepro_core/./operations.cc:1679:7: note: +1, nesting level increased to 2
 1679 |       else {
      |       ^
src\puzzlepro_core/./operations.cc:1697:16: warning: function 'summon' has cognitive complexity of 389 (threshold 25) [readability-function-cognitive-complexity]
 1697 | int32_t field::summon(uint16_t step, uint8_t sumplayer, card *target, effect *proc, uint8_t ignore_count, uint8_t min_tribute, uint32_t zone, uint32_t action_type) {
      |                ^
src\puzzlepro_core/./operations.cc:1698:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1698 |   switch (step) {
      |   ^
src\puzzlepro_core/./operations.cc:1700:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1700 |       if (!target->is_summonable_card()) {
      |       ^
src\puzzlepro_core/./operations.cc:1703:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1703 |       if (check_unique_onfield(target, sumplayer, LOCATION_MZONE)) {
      |       ^
src\puzzlepro_core/./operations.cc:1706:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1706 |       if (target->is_affected_by_effect(EFFECT_CANNOT_SUMMON)) {
      |       ^
src\puzzlepro_core/./operations.cc:1709:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1709 |       if (target->current.location == LOCATION_MZONE) {
      |       ^
src\puzzlepro_core/./operations.cc:1710:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1710 |         if (target->is_position(POS_FACEDOWN)) {
      |         ^
src\puzzlepro_core/./operations.cc:1713:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1713 |         if (!ignore_count && (core.extra_summon[sumplayer] || !target->is_affected_by_effect(EFFECT_EXTRA_SUMMON_COUNT)) && (core.summon_count[sumplayer] >= get_summon_count_limit(sumplayer))) {
      |         ^
src\puzzlepro_core/./operations.cc:1713:122: note: +1
 1713 |         if (!ignore_count && (core.extra_summon[sumplayer] || !target->is_affected_by_effect(EFFECT_EXTRA_SUMMON_COUNT)) && (core.summon_count[sumplayer] >= get_summon_count_limit(sumplayer))) {
      |                                                                                                                          ^
src\puzzlepro_core/./operations.cc:1713:60: note: +1
 1713 |         if (!ignore_count && (core.extra_summon[sumplayer] || !target->is_affected_by_effect(EFFECT_EXTRA_SUMMON_COUNT)) && (core.summon_count[sumplayer] >= get_summon_count_limit(sumplayer))) {
      |                                                            ^
src\puzzlepro_core/./operations.cc:1716:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1716 |         if (!target->is_affected_by_effect(EFFECT_DUAL_SUMMONABLE)) {
      |         ^
src\puzzlepro_core/./operations.cc:1719:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1719 |         if (target->is_affected_by_effect(EFFECT_DUAL_STATUS)) {
      |         ^
src\puzzlepro_core/./operations.cc:1722:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1722 |         if (!is_player_can_summon(SUMMON_TYPE_DUAL, sumplayer, target, sumplayer)) {
      |         ^
src\puzzlepro_core/./operations.cc:1726:7: note: +1, nesting level increased to 2
 1726 |       else {
      |       ^
src\puzzlepro_core/./operations.cc:1729:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1729 |         if (proc) {
      |         ^
src\puzzlepro_core/./operations.cc:1730:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 1730 |           if (res < 0 || !target->check_summon_procedure(proc, sumplayer, ignore_count, min_tribute, zone)) {
      |           ^
src\puzzlepro_core/./operations.cc:1730:23: note: +1
 1730 |           if (res < 0 || !target->check_summon_procedure(proc, sumplayer, ignore_count, min_tribute, zone)) {
      |                       ^
src\puzzlepro_core/./operations.cc:1734:9: note: +1, nesting level increased to 3
 1734 |         else {
      |         ^
src\puzzlepro_core/./operations.cc:1735:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 1735 |           if (res == -2) {
      |           ^
src\puzzlepro_core/./operations.cc:1740:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 1740 |           if (res > 0) {
      |           ^
src\puzzlepro_core/./operations.cc:1744:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 1744 |           for (effect_set::size_type i = 0; i < eset.size(); ++i) {
      |           ^
src\puzzlepro_core/./operations.cc:1748:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 1748 |           if (core.select_options.empty()) {
      |           ^
src\puzzlepro_core/./operations.cc:1751:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 1751 |           if (core.select_options.size() == 1) {
      |           ^
src\puzzlepro_core/./operations.cc:1754:11: note: +1, nesting level increased to 4
 1754 |           else {
      |           ^
src\puzzlepro_core/./operations.cc:1759:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1759 |       if (core.summon_depth) {
      |       ^
src\puzzlepro_core/./operations.cc:1769:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1769 |       if (target->current.location == LOCATION_MZONE) {
      |       ^
src\puzzlepro_core/./operations.cc:1771:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1771 |         if (!ignore_count && !core.extra_summon[sumplayer]) {
      |         ^
src\puzzlepro_core/./operations.cc:1771:27: note: +1
 1771 |         if (!ignore_count && !core.extra_summon[sumplayer]) {
      |                           ^
src\puzzlepro_core/./operations.cc:1772:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 1772 |           for (effect_set::size_type i = 0; i < eset.size(); ++i) {
      |           ^
src\puzzlepro_core/./operations.cc:1780:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1780 |       if (!proc) {
      |       ^
src\puzzlepro_core/./operations.cc:1786:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1786 |       if (ignore_count || core.summon_count[sumplayer] < get_summon_count_limit(sumplayer)) {
      |       ^
src\puzzlepro_core/./operations.cc:1786:24: note: +1
 1786 |       if (ignore_count || core.summon_count[sumplayer] < get_summon_count_limit(sumplayer)) {
      |                        ^
src\puzzlepro_core/./operations.cc:1790:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1790 |       if (!ignore_count && !core.extra_summon[sumplayer]) {
      |       ^
src\puzzlepro_core/./operations.cc:1790:25: note: +1
 1790 |       if (!ignore_count && !core.extra_summon[sumplayer]) {
      |                         ^
src\puzzlepro_core/./operations.cc:1791:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1791 |         for (effect_set::size_type i = 0; i < eset.size(); ++i) {
      |         ^
src\puzzlepro_core/./operations.cc:1794:55: note: +4, including nesting penalty of 3, nesting level increased to 4
 1794 |           int32_t new_min_tribute = retval.size() > 0 ? static_cast<int32_t>(retval[0]) : 0;
      |                                                       ^
src\puzzlepro_core/./operations.cc:1795:49: note: +4, including nesting penalty of 3, nesting level increased to 4
 1795 |           uint32_t new_zone = retval.size() > 1 ? static_cast<uint32_t>(retval[1]) : 0x1f;
      |                                                 ^
src\puzzlepro_core/./operations.cc:1796:50: note: +4, including nesting penalty of 3, nesting level increased to 4
 1796 |           int32_t releasable = retval.size() > 2 ? (retval[2] < 0 ? 0xff00ff + static_cast<int32_t>(retval[2]) : static_cast<int32_t>(retval[2])) : 0xff00ff;
      |                                                  ^
src\puzzlepro_core/./operations.cc:1796:67: note: +5, including nesting penalty of 4, nesting level increased to 5
 1796 |           int32_t releasable = retval.size() > 2 ? (retval[2] < 0 ? 0xff00ff + static_cast<int32_t>(retval[2]) : static_cast<int32_t>(retval[2])) : 0xff00ff;
      |                                                                   ^
src\puzzlepro_core/./operations.cc:1798:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 1798 |           if (proc) {
      |           ^
src\puzzlepro_core/./operations.cc:1799:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 1799 |             if (new_min_tribute < min_tribute) {
      |             ^
src\puzzlepro_core/./operations.cc:1802:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 1802 |             if (!target->is_summonable(proc, new_min_tribute, new_zone, releasable)) {
      |             ^
src\puzzlepro_core/./operations.cc:1806:11: note: +1, nesting level increased to 4
 1806 |           else {
      |           ^
src\puzzlepro_core/./operations.cc:1810:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 1810 |             if (!is_player_can_summon(SUMMON_TYPE_ADVANCE, sumplayer, target, sumplayer)) {
      |             ^
src\puzzlepro_core/./operations.cc:1813:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 1813 |             if (min < min_tribute) {
      |             ^
src\puzzlepro_core/./operations.cc:1816:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 1816 |             if (max < min) {
      |             ^
src\puzzlepro_core/./operations.cc:1819:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 1819 |             if (min < new_min_tribute) {
      |             ^
src\puzzlepro_core/./operations.cc:1822:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 1822 |             if (!check_tribute(target, min, max, 0, target->current.controler, new_zone, releasable)) {
      |             ^
src\puzzlepro_core/./operations.cc:1830:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1830 |       if (core.select_options.size() == 1) {
      |       ^
src\puzzlepro_core/./operations.cc:1833:7: note: +1, nesting level increased to 2
 1833 |       else {
      |       ^
src\puzzlepro_core/./operations.cc:1842:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1842 |       if (pextra) {
      |       ^
src\puzzlepro_core/./operations.cc:1845:53: note: +3, including nesting penalty of 2, nesting level increased to 3
 1845 |         int32_t new_min_tribute = retval.size() > 0 ? static_cast<int32_t>(retval[0]) : 0;
      |                                                     ^
src\puzzlepro_core/./operations.cc:1846:47: note: +3, including nesting penalty of 2, nesting level increased to 3
 1846 |         uint32_t new_zone = retval.size() > 1 ? static_cast<uint32_t>(retval[1]) : 0x1f;
      |                                               ^
src\puzzlepro_core/./operations.cc:1847:40: note: +3, including nesting penalty of 2, nesting level increased to 3
 1847 |         releasable = retval.size() > 2 ? (retval[2] < 0 ? 0xff00ff + static_cast<int32_t>(retval[2]) : static_cast<int32_t>(retval[2])) : 0xff00ff;
      |                                        ^
src\puzzlepro_core/./operations.cc:1847:57: note: +4, including nesting penalty of 3, nesting level increased to 4
 1847 |         releasable = retval.size() > 2 ? (retval[2] < 0 ? 0xff00ff + static_cast<int32_t>(retval[2]) : static_cast<int32_t>(retval[2])) : 0xff00ff;
      |                                                         ^
src\puzzlepro_core/./operations.cc:1848:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1848 |         if (min_tribute < new_min_tribute) {
      |         ^
src\puzzlepro_core/./operations.cc:1855:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1855 |       if (proc) {
      |       ^
src\puzzlepro_core/./operations.cc:1863:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1863 |       if (min < min_tribute) {
      |       ^
src\puzzlepro_core/./operations.cc:1867:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1867 |       if (max == 0 || !adv) {
      |       ^
src\puzzlepro_core/./operations.cc:1867:20: note: +1
 1867 |       if (max == 0 || !adv) {
      |                    ^
src\puzzlepro_core/./operations.cc:1871:7: note: +1, nesting level increased to 2
 1871 |       else {
      |       ^
src\puzzlepro_core/./operations.cc:1876:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1876 |         if (rcount == 0) {
      |         ^
src\puzzlepro_core/./operations.cc:1880:9: note: +1, nesting level increased to 3
 1880 |         else {
      |         ^
src\puzzlepro_core/./operations.cc:1883:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 1883 |           if (min == 0 && ct > 0 && fcount > 0) {
      |           ^
src\puzzlepro_core/./operations.cc:1883:34: note: +1
 1883 |           if (min == 0 && ct > 0 && fcount > 0) {
      |                                  ^
src\puzzlepro_core/./operations.cc:1887:11: note: +1, nesting level increased to 4
 1887 |           else {
      |           ^
src\puzzlepro_core/./operations.cc:1888:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 1888 |             if (min < -fcount + 1) {
      |             ^
src\puzzlepro_core/./operations.cc:1899:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1899 |       if (returns.ivalue[0]) {
      |       ^
src\puzzlepro_core/./operations.cc:1902:7: note: +1, nesting level increased to 2
 1902 |       else {
      |       ^
src\puzzlepro_core/./operations.cc:1909:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1909 |       if (target->current.location == LOCATION_MZONE) {
      |       ^
src\puzzlepro_core/./operations.cc:1912:12: note: +1, nesting level increased to 2
 1912 |       else if (proc) {
      |            ^
src\puzzlepro_core/./operations.cc:1915:7: note: +1, nesting level increased to 2
 1915 |       else {
      |       ^
src\puzzlepro_core/./operations.cc:1916:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1916 |         if (returns.ivalue[0] == -1) {
      |         ^
src\puzzlepro_core/./operations.cc:1920:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1920 |         if (returns.bvalue[0]) {
      |         ^
src\puzzlepro_core/./operations.cc:1922:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 1922 |           for (int32_t i = 0; i < returns.bvalue[0]; ++i) {
      |           ^
src\puzzlepro_core/./operations.cc:1930:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1930 |       if (eset.size()) {
      |       ^
src\puzzlepro_core/./operations.cc:1931:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1931 |         for (effect_set::size_type i = 0; i < eset.size(); ++i) {
      |         ^
src\puzzlepro_core/./operations.cc:1932:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 1932 |           if (eset[i]->operation) {
      |           ^
src\puzzlepro_core/./operations.cc:1947:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1947 |       if (level < 5) {
      |       ^
src\puzzlepro_core/./operations.cc:1950:12: note: +1, nesting level increased to 2
 1950 |       else if (level < 7) {
      |            ^
src\puzzlepro_core/./operations.cc:1953:7: note: +1, nesting level increased to 2
 1953 |       else {
      |       ^
src\puzzlepro_core/./operations.cc:1956:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1956 |       if (tributes) {
      |       ^
src\puzzlepro_core/./operations.cc:1959:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1959 |       if (min > 0) {
      |       ^
src\puzzlepro_core/./operations.cc:1963:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1963 |         for (effect_set::size_type i = 0; i < eset.size(); ++i) {
      |         ^
src\puzzlepro_core/./operations.cc:1964:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 1964 |           if (eset[i]->is_flag(EFFECT_FLAG_COUNT_LIMIT)) {
      |           ^
src\puzzlepro_core/./operations.cc:1969:43: note: +4, including nesting penalty of 3, nesting level increased to 4
 1969 |           int32_t dec = retval.size() > 0 ? static_cast<int32_t>(retval[0]) : 0;
      |                                           ^
src\puzzlepro_core/./operations.cc:1970:51: note: +4, including nesting penalty of 3, nesting level increased to 4
 1970 |           int32_t effect_code = retval.size() > 1 ? static_cast<int32_t>(retval[1]) : 0;
      |                                                   ^
src\puzzlepro_core/./operations.cc:1971:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 1971 |           if (effect_code > 0) {
      |           ^
src\puzzlepro_core/./operations.cc:1973:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 1973 |             if (it == duplicate.end()) {
      |             ^
src\puzzlepro_core/./operations.cc:1976:13: note: +1, nesting level increased to 5
 1976 |             else {
      |             ^
src\puzzlepro_core/./operations.cc:1986:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1986 |         for (effect_set::size_type i = 0; i < eset.size() && min > 0; ++i) {
      |         ^
src\puzzlepro_core/./operations.cc:1986:59: note: +1
 1986 |         for (effect_set::size_type i = 0; i < eset.size() && min > 0; ++i) {
      |                                                           ^
src\puzzlepro_core/./operations.cc:1987:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 1987 |           if (!eset[i]->is_flag(EFFECT_FLAG_COUNT_LIMIT) || eset[i]->count_limit == 0 || !eset[i]->target) {
      |           ^
src\puzzlepro_core/./operations.cc:1987:87: note: +1
 1987 |           if (!eset[i]->is_flag(EFFECT_FLAG_COUNT_LIMIT) || eset[i]->count_limit == 0 || !eset[i]->target) {
      |                                                                                       ^
src\puzzlepro_core/./operations.cc:1992:43: note: +4, including nesting penalty of 3, nesting level increased to 4
 1992 |           int32_t dec = retval.size() > 0 ? static_cast<int32_t>(retval[0]) : 0;
      |                                           ^
src\puzzlepro_core/./operations.cc:1993:51: note: +4, including nesting penalty of 3, nesting level increased to 4
 1993 |           int32_t effect_code = retval.size() > 1 ? static_cast<int32_t>(retval[1]) : 0;
      |                                                   ^
src\puzzlepro_core/./operations.cc:1994:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 1994 |           if (effect_code > 0) {
      |           ^
src\puzzlepro_core/./operations.cc:1996:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 1996 |             if (it == duplicate.end()) {
      |             ^
src\puzzlepro_core/./operations.cc:1999:13: note: +1, nesting level increased to 5
 1999 |             else {
      |             ^
src\puzzlepro_core/./operations.cc:2010:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2010 |         for (effect_set::size_type i = 0; i < eset.size() && min > 0; ++i) {
      |         ^
src\puzzlepro_core/./operations.cc:2010:59: note: +1
 2010 |         for (effect_set::size_type i = 0; i < eset.size() && min > 0; ++i) {
      |                                                           ^
src\puzzlepro_core/./operations.cc:2011:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 2011 |           if (!eset[i]->is_flag(EFFECT_FLAG_COUNT_LIMIT) || eset[i]->count_limit == 0 || eset[i]->target) {
      |           ^
src\puzzlepro_core/./operations.cc:2011:87: note: +1
 2011 |           if (!eset[i]->is_flag(EFFECT_FLAG_COUNT_LIMIT) || eset[i]->count_limit == 0 || eset[i]->target) {
      |                                                                                       ^
src\puzzlepro_core/./operations.cc:2016:43: note: +4, including nesting penalty of 3, nesting level increased to 4
 2016 |           int32_t dec = retval.size() > 0 ? static_cast<int32_t>(retval[0]) : 0;
      |                                           ^
src\puzzlepro_core/./operations.cc:2017:51: note: +4, including nesting penalty of 3, nesting level increased to 4
 2017 |           int32_t effect_code = retval.size() > 1 ? static_cast<int32_t>(retval[1]) : 0;
      |                                                   ^
src\puzzlepro_core/./operations.cc:2018:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 2018 |           if (effect_code > 0) {
      |           ^
src\puzzlepro_core/./operations.cc:2020:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 2020 |             if (it == duplicate.end()) {
      |             ^
src\puzzlepro_core/./operations.cc:2023:13: note: +1, nesting level increased to 5
 2023 |             else {
      |             ^
src\puzzlepro_core/./operations.cc:2035:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2035 |       if (tributes) {
      |       ^
src\puzzlepro_core/./operations.cc:2036:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2036 |         for (auto &pcard : *tributes) {
      |         ^
src\puzzlepro_core/./operations.cc:2046:7: note: +1, nesting level increased to 2
 2046 |       else {
      |       ^
src\puzzlepro_core/./operations.cc:2059:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2059 |       if (proc->operation) {
      |       ^
src\puzzlepro_core/./operations.cc:2076:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2076 |       if (core.summon_depth) {
      |       ^
src\puzzlepro_core/./operations.cc:2080:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2080 |       if (ignore_count) {
      |       ^
src\puzzlepro_core/./operations.cc:2084:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2084 |       if (!pextra) {
      |       ^
src\puzzlepro_core/./operations.cc:2087:7: note: +1, nesting level increased to 2
 2087 |       else {
      |       ^
src\puzzlepro_core/./operations.cc:2093:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2093 |         if (pextra->operation) {
      |         ^
src\puzzlepro_core/./operations.cc:2104:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2104 |       if (is_player_affected_by_effect(sumplayer, EFFECT_DIVINE_LIGHT)) {
      |       ^
src\puzzlepro_core/./operations.cc:2107:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2107 |       if (proc && proc->is_flag(EFFECT_FLAG_SPSUM_PARAM)) {
      |       ^
src\puzzlepro_core/./operations.cc:2107:16: note: +1
 2107 |       if (proc && proc->is_flag(EFFECT_FLAG_SPSUM_PARAM)) {
      |                ^
src\puzzlepro_core/./operations.cc:2109:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2109 |         if (proc->o_range) {
      |         ^
src\puzzlepro_core/./operations.cc:2120:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2120 |       if (core.summon_depth) {
      |       ^
src\puzzlepro_core/./operations.cc:2139:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2139 |       if (ignore_count) {
      |       ^
src\puzzlepro_core/./operations.cc:2143:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2143 |       if (!pextra) {
      |       ^
src\puzzlepro_core/./operations.cc:2146:7: note: +1, nesting level increased to 2
 2146 |       else {
      |       ^
src\puzzlepro_core/./operations.cc:2152:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2152 |         if (pextra->operation) {
      |         ^
src\puzzlepro_core/./operations.cc:2165:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2165 |       if (core.current_chain.size() == 0) {
      |       ^
src\puzzlepro_core/./operations.cc:2166:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2166 |         if (core.is_gemini_summoning) {
      |         ^
src\puzzlepro_core/./operations.cc:2170:9: note: +1, nesting level increased to 3
 2170 |         else {
      |         ^
src\puzzlepro_core/./operations.cc:2178:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2178 |       if (target->material_cards.size()) {
      |       ^
src\puzzlepro_core/./operations.cc:2179:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2179 |         for (auto &mcard : target->material_cards) {
      |         ^
src\puzzlepro_core/./operations.cc:2189:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2189 |       if (core.current_chain.size() == 0) {
      |       ^
src\puzzlepro_core/./operations.cc:2190:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2190 |         if (target->is_affected_by_effect(EFFECT_CANNOT_DISABLE_SUMMON)) {
      |         ^
src\puzzlepro_core/./operations.cc:2195:7: note: +1, nesting level increased to 2
 2195 |       else {
      |       ^
src\puzzlepro_core/./operations.cc:2210:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2210 |       if (core.is_gemini_summoning && target->is_status(STATUS_FLIP_SUMMONING) || !core.is_gemini_summoning && target->is_status(STATUS_SUMMONING)) {
      |       ^
src\puzzlepro_core/./operations.cc:2210:80: note: +1
 2210 |       if (core.is_gemini_summoning && target->is_status(STATUS_FLIP_SUMMONING) || !core.is_gemini_summoning && target->is_status(STATUS_SUMMONING)) {
      |                                                                                ^
src\puzzlepro_core/./operations.cc:2210:36: note: +1
 2210 |       if (core.is_gemini_summoning && target->is_status(STATUS_FLIP_SUMMONING) || !core.is_gemini_summoning && target->is_status(STATUS_SUMMONING)) {
      |                                    ^
src\puzzlepro_core/./operations.cc:2210:109: note: +1
 2210 |       if (core.is_gemini_summoning && target->is_status(STATUS_FLIP_SUMMONING) || !core.is_gemini_summoning && target->is_status(STATUS_SUMMONING)) {
      |                                                                                                             ^
src\puzzlepro_core/./operations.cc:2214:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2214 |       if (core.is_summon_negated) {
      |       ^
src\puzzlepro_core/./operations.cc:2215:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2215 |         if (proc) {
      |         ^
src\puzzlepro_core/./operations.cc:2217:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 2217 |           if (proc->is_flag(EFFECT_FLAG_COUNT_LIMIT) && (proc->count_code & EFFECT_COUNT_CODE_OATH)) {
      |           ^
src\puzzlepro_core/./operations.cc:2217:54: note: +1
 2217 |           if (proc->is_flag(EFFECT_FLAG_COUNT_LIMIT) && (proc->count_code & EFFECT_COUNT_CODE_OATH)) {
      |                                                      ^
src\puzzlepro_core/./operations.cc:2221:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2221 |         if (effect_set *peset = (effect_set *)core.units.begin()->ptr2) {
      |         ^
src\puzzlepro_core/./operations.cc:2222:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 2222 |           for (int32_t i = 0; i < peset->size(); ++i) {
      |           ^
src\puzzlepro_core/./operations.cc:2228:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2228 |         if (target->get_status(STATUS_SUMMON_DISABLED | STATUS_FLIP_SUMMON_DISABLED) && target->current.location == LOCATION_MZONE) {
      |         ^
src\puzzlepro_core/./operations.cc:2228:86: note: +1
 2228 |         if (target->get_status(STATUS_SUMMON_DISABLED | STATUS_FLIP_SUMMON_DISABLED) && target->current.location == LOCATION_MZONE) {
      |                                                                                      ^
src\puzzlepro_core/./operations.cc:2240:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2240 |       if (proc) {
      |       ^
src\puzzlepro_core/./operations.cc:2243:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2243 |       if (effect_set *peset = (effect_set *)core.units.begin()->ptr2) {
      |       ^
src\puzzlepro_core/./operations.cc:2244:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2244 |         for (int32_t i = 0; i < peset->size(); ++i) {
      |         ^
src\puzzlepro_core/./operations.cc:2255:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2255 |       if (target->is_status(STATUS_DISABLED)) {
      |       ^
src\puzzlepro_core/./operations.cc:2263:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2263 |       if (target->material_cards.size()) {
      |       ^
src\puzzlepro_core/./operations.cc:2264:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2264 |         for (auto &mcard : target->material_cards) {
      |         ^
src\puzzlepro_core/./operations.cc:2282:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2282 |       if (action_type == SUMMON_IN_IDLE) {
      |       ^
src\puzzlepro_core/./operations.cc:2293:16: warning: function 'flip_summon' has cognitive complexity of 43 (threshold 25) [readability-function-cognitive-complexity]
 2293 | int32_t field::flip_summon(uint16_t step, uint8_t sumplayer, card *target, uint32_t action_type) {
      |                ^
src\puzzlepro_core/./operations.cc:2294:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2294 |   switch (step) {
      |   ^
src\puzzlepro_core/./operations.cc:2296:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2296 |       if (target->current.location != LOCATION_MZONE) {
      |       ^
src\puzzlepro_core/./operations.cc:2299:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2299 |       if (!(target->current.position & POS_FACEDOWN)) {
      |       ^
src\puzzlepro_core/./operations.cc:2302:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2302 |       if (check_unique_onfield(target, sumplayer, LOCATION_MZONE)) {
      |       ^
src\puzzlepro_core/./operations.cc:2307:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2307 |       if (eset.size()) {
      |       ^
src\puzzlepro_core/./operations.cc:2308:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2308 |         for (effect_set::size_type i = 0; i < eset.size(); ++i) {
      |         ^
src\puzzlepro_core/./operations.cc:2309:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 2309 |           if (eset[i]->operation) {
      |           ^
src\puzzlepro_core/./operations.cc:2331:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2331 |       if (target->is_affected_by_effect(EFFECT_CANNOT_DISABLE_FLIP_SUMMON)) {
      |       ^
src\puzzlepro_core/./operations.cc:2334:7: note: +1, nesting level increased to 2
 2334 |       else {
      |       ^
src\puzzlepro_core/./operations.cc:2344:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2344 |       if (target->is_status(STATUS_FLIP_SUMMONING)) {
      |       ^
src\puzzlepro_core/./operations.cc:2347:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2347 |       if (core.is_summon_negated) {
      |       ^
src\puzzlepro_core/./operations.cc:2348:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2348 |         if (effect_set *peset = (effect_set *)core.units.begin()->ptr1) {
      |         ^
src\puzzlepro_core/./operations.cc:2349:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 2349 |           for (int32_t i = 0; i < peset->size(); ++i) {
      |           ^
src\puzzlepro_core/./operations.cc:2355:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2355 |         if (target->is_status(STATUS_FLIP_SUMMON_DISABLED) && target->current.location == LOCATION_MZONE) {
      |         ^
src\puzzlepro_core/./operations.cc:2355:60: note: +1
 2355 |         if (target->is_status(STATUS_FLIP_SUMMON_DISABLED) && target->current.location == LOCATION_MZONE) {
      |                                                            ^
src\puzzlepro_core/./operations.cc:2364:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2364 |       if (effect_set *peset = (effect_set *)core.units.begin()->ptr1) {
      |       ^
src\puzzlepro_core/./operations.cc:2365:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2365 |         for (int32_t i = 0; i < peset->size(); ++i) {
      |         ^
src\puzzlepro_core/./operations.cc:2373:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2373 |       if (target->is_status(STATUS_DISABLED)) {
      |       ^
src\puzzlepro_core/./operations.cc:2394:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2394 |       if (action_type == SUMMON_IN_IDLE) {
      |       ^
src\puzzlepro_core/./operations.cc:2404:16: warning: function 'mset' has cognitive complexity of 271 (threshold 25) [readability-function-cognitive-complexity]
 2404 | int32_t field::mset(uint16_t step, uint8_t setplayer, card *target, effect *proc, uint8_t ignore_count, uint8_t min_tribute, uint32_t zone, uint32_t action_type) {
      |                ^
src\puzzlepro_core/./operations.cc:2405:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2405 |   switch (step) {
      |   ^
src\puzzlepro_core/./operations.cc:2407:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2407 |       if (!target->is_summonable_card()) {
      |       ^
src\puzzlepro_core/./operations.cc:2410:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2410 |       if (target->current.location != LOCATION_HAND) {
      |       ^
src\puzzlepro_core/./operations.cc:2413:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2413 |       if (!(target->data.type & TYPE_MONSTER)) {
      |       ^
src\puzzlepro_core/./operations.cc:2416:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2416 |       if (target->is_affected_by_effect(EFFECT_CANNOT_MSET)) {
      |       ^
src\puzzlepro_core/./operations.cc:2421:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2421 |       if (proc) {
      |       ^
src\puzzlepro_core/./operations.cc:2422:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2422 |         if (res < 0 || !target->check_set_procedure(proc, setplayer, ignore_count, min_tribute, zone)) {
      |         ^
src\puzzlepro_core/./operations.cc:2422:21: note: +1
 2422 |         if (res < 0 || !target->check_set_procedure(proc, setplayer, ignore_count, min_tribute, zone)) {
      |                     ^
src\puzzlepro_core/./operations.cc:2426:7: note: +1, nesting level increased to 2
 2426 |       else {
      |       ^
src\puzzlepro_core/./operations.cc:2427:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2427 |         if (res == -2) {
      |         ^
src\puzzlepro_core/./operations.cc:2432:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2432 |         if (res > 0) {
      |         ^
src\puzzlepro_core/./operations.cc:2436:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2436 |         for (effect_set::size_type i = 0; i < eset.size(); ++i) {
      |         ^
src\puzzlepro_core/./operations.cc:2440:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2440 |         if (core.select_options.size() == 1) {
      |         ^
src\puzzlepro_core/./operations.cc:2443:9: note: +1, nesting level increased to 3
 2443 |         else {
      |         ^
src\puzzlepro_core/./operations.cc:2453:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2453 |       if (!proc) {
      |       ^
src\puzzlepro_core/./operations.cc:2459:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2459 |       if (ignore_count || core.summon_count[setplayer] < get_summon_count_limit(setplayer)) {
      |       ^
src\puzzlepro_core/./operations.cc:2459:24: note: +1
 2459 |       if (ignore_count || core.summon_count[setplayer] < get_summon_count_limit(setplayer)) {
      |                        ^
src\puzzlepro_core/./operations.cc:2463:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2463 |       if (!ignore_count && !core.extra_summon[setplayer]) {
      |       ^
src\puzzlepro_core/./operations.cc:2463:25: note: +1
 2463 |       if (!ignore_count && !core.extra_summon[setplayer]) {
      |                         ^
src\puzzlepro_core/./operations.cc:2464:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2464 |         for (effect_set::size_type i = 0; i < eset.size(); ++i) {
      |         ^
src\puzzlepro_core/./operations.cc:2467:55: note: +4, including nesting penalty of 3, nesting level increased to 4
 2467 |           int32_t new_min_tribute = retval.size() > 0 ? static_cast<int32_t>(retval[0]) : 0;
      |                                                       ^
src\puzzlepro_core/./operations.cc:2468:49: note: +4, including nesting penalty of 3, nesting level increased to 4
 2468 |           uint32_t new_zone = retval.size() > 1 ? static_cast<uint32_t>(retval[1]) : 0x1f;
      |                                                 ^
src\puzzlepro_core/./operations.cc:2469:50: note: +4, including nesting penalty of 3, nesting level increased to 4
 2469 |           int32_t releasable = retval.size() > 2 ? (retval[2] < 0 ? 0xff00ff + static_cast<int32_t>(retval[2]) : static_cast<int32_t>(retval[2])) : 0xff00ff;
      |                                                  ^
src\puzzlepro_core/./operations.cc:2469:67: note: +5, including nesting penalty of 4, nesting level increased to 5
 2469 |           int32_t releasable = retval.size() > 2 ? (retval[2] < 0 ? 0xff00ff + static_cast<int32_t>(retval[2]) : static_cast<int32_t>(retval[2])) : 0xff00ff;
      |                                                                   ^
src\puzzlepro_core/./operations.cc:2471:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 2471 |           if (proc) {
      |           ^
src\puzzlepro_core/./operations.cc:2472:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 2472 |             if (new_min_tribute < (int32_t)min_tribute) {
      |             ^
src\puzzlepro_core/./operations.cc:2475:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 2475 |             if (!target->is_summonable(proc, new_min_tribute, new_zone, releasable)) {
      |             ^
src\puzzlepro_core/./operations.cc:2479:11: note: +1, nesting level increased to 4
 2479 |           else {
      |           ^
src\puzzlepro_core/./operations.cc:2483:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 2483 |             if (!is_player_can_mset(SUMMON_TYPE_ADVANCE, setplayer, target, setplayer)) {
      |             ^
src\puzzlepro_core/./operations.cc:2486:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 2486 |             if (min < (int32_t)min_tribute) {
      |             ^
src\puzzlepro_core/./operations.cc:2489:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 2489 |             if (max < min) {
      |             ^
src\puzzlepro_core/./operations.cc:2492:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 2492 |             if (min < new_min_tribute) {
      |             ^
src\puzzlepro_core/./operations.cc:2495:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 2495 |             if (!check_tribute(target, min, max, 0, target->current.controler, new_zone, releasable, POS_FACEDOWN_DEFENSE)) {
      |             ^
src\puzzlepro_core/./operations.cc:2503:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2503 |       if (core.select_options.size() == 1) {
      |       ^
src\puzzlepro_core/./operations.cc:2506:7: note: +1, nesting level increased to 2
 2506 |       else {
      |       ^
src\puzzlepro_core/./operations.cc:2515:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2515 |       if (pextra) {
      |       ^
src\puzzlepro_core/./operations.cc:2518:53: note: +3, including nesting penalty of 2, nesting level increased to 3
 2518 |         int32_t new_min_tribute = retval.size() > 0 ? static_cast<int32_t>(retval[0]) : 0;
      |                                                     ^
src\puzzlepro_core/./operations.cc:2519:47: note: +3, including nesting penalty of 2, nesting level increased to 3
 2519 |         uint32_t new_zone = retval.size() > 1 ? static_cast<uint32_t>(retval[1]) : 0x1f;
      |                                               ^
src\puzzlepro_core/./operations.cc:2520:40: note: +3, including nesting penalty of 2, nesting level increased to 3
 2520 |         releasable = retval.size() > 2 ? (retval[2] < 0 ? 0xff00ff + static_cast<int32_t>(retval[2]) : static_cast<int32_t>(retval[2])) : 0xff00ff;
      |                                        ^
src\puzzlepro_core/./operations.cc:2520:57: note: +4, including nesting penalty of 3, nesting level increased to 4
 2520 |         releasable = retval.size() > 2 ? (retval[2] < 0 ? 0xff00ff + static_cast<int32_t>(retval[2]) : static_cast<int32_t>(retval[2])) : 0xff00ff;
      |                                                         ^
src\puzzlepro_core/./operations.cc:2521:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2521 |         if (min_tribute < new_min_tribute) {
      |         ^
src\puzzlepro_core/./operations.cc:2527:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2527 |       if (proc) {
      |       ^
src\puzzlepro_core/./operations.cc:2535:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2535 |       if (min < min_tribute) {
      |       ^
src\puzzlepro_core/./operations.cc:2539:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2539 |       if (max == 0 || !adv) {
      |       ^
src\puzzlepro_core/./operations.cc:2539:20: note: +1
 2539 |       if (max == 0 || !adv) {
      |                    ^
src\puzzlepro_core/./operations.cc:2543:7: note: +1, nesting level increased to 2
 2543 |       else {
      |       ^
src\puzzlepro_core/./operations.cc:2548:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2548 |         if (rcount == 0) {
      |         ^
src\puzzlepro_core/./operations.cc:2552:9: note: +1, nesting level increased to 3
 2552 |         else {
      |         ^
src\puzzlepro_core/./operations.cc:2555:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 2555 |           if (min == 0 && ct > 0 && fcount > 0) {
      |           ^
src\puzzlepro_core/./operations.cc:2555:34: note: +1
 2555 |           if (min == 0 && ct > 0 && fcount > 0) {
      |                                  ^
src\puzzlepro_core/./operations.cc:2559:11: note: +1, nesting level increased to 4
 2559 |           else {
      |           ^
src\puzzlepro_core/./operations.cc:2560:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 2560 |             if (min < -fcount + 1) {
      |             ^
src\puzzlepro_core/./operations.cc:2571:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2571 |       if (returns.ivalue[0]) {
      |       ^
src\puzzlepro_core/./operations.cc:2574:7: note: +1, nesting level increased to 2
 2574 |       else {
      |       ^
src\puzzlepro_core/./operations.cc:2581:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2581 |       if (proc) {
      |       ^
src\puzzlepro_core/./operations.cc:2584:7: note: +1, nesting level increased to 2
 2584 |       else {
      |       ^
src\puzzlepro_core/./operations.cc:2585:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2585 |         if (returns.ivalue[0] == -1) {
      |         ^
src\puzzlepro_core/./operations.cc:2588:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2588 |         if (returns.bvalue[0]) {
      |         ^
src\puzzlepro_core/./operations.cc:2590:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 2590 |           for (int32_t i = 0; i < returns.bvalue[0]; ++i) {
      |           ^
src\puzzlepro_core/./operations.cc:2598:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2598 |       for (effect_set::size_type i = 0; i < eset.size(); ++i) {
      |       ^
src\puzzlepro_core/./operations.cc:2599:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2599 |         if (eset[i]->operation) {
      |         ^
src\puzzlepro_core/./operations.cc:2610:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2610 |       if (level < 5) {
      |       ^
src\puzzlepro_core/./operations.cc:2613:12: note: +1, nesting level increased to 2
 2613 |       else if (level < 7) {
      |            ^
src\puzzlepro_core/./operations.cc:2616:7: note: +1, nesting level increased to 2
 2616 |       else {
      |       ^
src\puzzlepro_core/./operations.cc:2619:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2619 |       if (tributes) {
      |       ^
src\puzzlepro_core/./operations.cc:2622:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2622 |       if (min > 0) {
      |       ^
src\puzzlepro_core/./operations.cc:2626:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2626 |         for (effect_set::size_type i = 0; i < eset.size(); ++i) {
      |         ^
src\puzzlepro_core/./operations.cc:2627:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 2627 |           if (eset[i]->is_flag(EFFECT_FLAG_COUNT_LIMIT)) {
      |           ^
src\puzzlepro_core/./operations.cc:2632:43: note: +4, including nesting penalty of 3, nesting level increased to 4
 2632 |           int32_t dec = retval.size() > 0 ? static_cast<int32_t>(retval[0]) : 0;
      |                                           ^
src\puzzlepro_core/./operations.cc:2633:51: note: +4, including nesting penalty of 3, nesting level increased to 4
 2633 |           int32_t effect_code = retval.size() > 1 ? static_cast<int32_t>(retval[1]) : 0;
      |                                                   ^
src\puzzlepro_core/./operations.cc:2634:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 2634 |           if (effect_code > 0) {
      |           ^
src\puzzlepro_core/./operations.cc:2636:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 2636 |             if (it == duplicate.end()) {
      |             ^
src\puzzlepro_core/./operations.cc:2639:13: note: +1, nesting level increased to 5
 2639 |             else {
      |             ^
src\puzzlepro_core/./operations.cc:2649:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2649 |         for (effect_set::size_type i = 0; i < eset.size() && min > 0; ++i) {
      |         ^
src\puzzlepro_core/./operations.cc:2649:59: note: +1
 2649 |         for (effect_set::size_type i = 0; i < eset.size() && min > 0; ++i) {
      |                                                           ^
src\puzzlepro_core/./operations.cc:2650:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 2650 |           if (!eset[i]->is_flag(EFFECT_FLAG_COUNT_LIMIT) || eset[i]->count_limit == 0 || !eset[i]->target) {
      |           ^
src\puzzlepro_core/./operations.cc:2650:87: note: +1
 2650 |           if (!eset[i]->is_flag(EFFECT_FLAG_COUNT_LIMIT) || eset[i]->count_limit == 0 || !eset[i]->target) {
      |                                                                                       ^
src\puzzlepro_core/./operations.cc:2655:43: note: +4, including nesting penalty of 3, nesting level increased to 4
 2655 |           int32_t dec = retval.size() > 0 ? static_cast<int32_t>(retval[0]) : 0;
      |                                           ^
src\puzzlepro_core/./operations.cc:2656:51: note: +4, including nesting penalty of 3, nesting level increased to 4
 2656 |           int32_t effect_code = retval.size() > 1 ? static_cast<int32_t>(retval[1]) : 0;
      |                                                   ^
src\puzzlepro_core/./operations.cc:2657:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 2657 |           if (effect_code > 0) {
      |           ^
src\puzzlepro_core/./operations.cc:2659:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 2659 |             if (it == duplicate.end()) {
      |             ^
src\puzzlepro_core/./operations.cc:2662:13: note: +1, nesting level increased to 5
 2662 |             else {
      |             ^
src\puzzlepro_core/./operations.cc:2673:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2673 |         for (effect_set::size_type i = 0; i < eset.size() && min > 0; ++i) {
      |         ^
src\puzzlepro_core/./operations.cc:2673:59: note: +1
 2673 |         for (effect_set::size_type i = 0; i < eset.size() && min > 0; ++i) {
      |                                                           ^
src\puzzlepro_core/./operations.cc:2674:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 2674 |           if (!eset[i]->is_flag(EFFECT_FLAG_COUNT_LIMIT) || eset[i]->count_limit == 0 || eset[i]->target) {
      |           ^
src\puzzlepro_core/./operations.cc:2674:87: note: +1
 2674 |           if (!eset[i]->is_flag(EFFECT_FLAG_COUNT_LIMIT) || eset[i]->count_limit == 0 || eset[i]->target) {
      |                                                                                       ^
src\puzzlepro_core/./operations.cc:2679:43: note: +4, including nesting penalty of 3, nesting level increased to 4
 2679 |           int32_t dec = retval.size() > 0 ? static_cast<int32_t>(retval[0]) : 0;
      |                                           ^
src\puzzlepro_core/./operations.cc:2680:51: note: +4, including nesting penalty of 3, nesting level increased to 4
 2680 |           int32_t effect_code = retval.size() > 1 ? static_cast<int32_t>(retval[1]) : 0;
      |                                                   ^
src\puzzlepro_core/./operations.cc:2681:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 2681 |           if (effect_code > 0) {
      |           ^
src\puzzlepro_core/./operations.cc:2683:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 2683 |             if (it == duplicate.end()) {
      |             ^
src\puzzlepro_core/./operations.cc:2686:13: note: +1, nesting level increased to 5
 2686 |             else {
      |             ^
src\puzzlepro_core/./operations.cc:2698:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2698 |       if (tributes) {
      |       ^
src\puzzlepro_core/./operations.cc:2699:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2699 |         for (auto &pcard : *tributes) {
      |         ^
src\puzzlepro_core/./operations.cc:2709:7: note: +1, nesting level increased to 2
 2709 |       else {
      |       ^
src\puzzlepro_core/./operations.cc:2731:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2731 |       if (ignore_count) {
      |       ^
src\puzzlepro_core/./operations.cc:2735:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2735 |       if (!pextra) {
      |       ^
src\puzzlepro_core/./operations.cc:2738:7: note: +1, nesting level increased to 2
 2738 |       else {
      |       ^
src\puzzlepro_core/./operations.cc:2744:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2744 |         if (pextra->operation) {
      |         ^
src\puzzlepro_core/./operations.cc:2755:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2755 |       if (proc && proc->is_flag(EFFECT_FLAG_SPSUM_PARAM)) {
      |       ^
src\puzzlepro_core/./operations.cc:2755:16: note: +1
 2755 |       if (proc && proc->is_flag(EFFECT_FLAG_SPSUM_PARAM)) {
      |                ^
src\puzzlepro_core/./operations.cc:2757:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2757 |         if (proc->o_range) {
      |         ^
src\puzzlepro_core/./operations.cc:2778:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2778 |       if (action_type == SUMMON_IN_IDLE) {
      |       ^
src\puzzlepro_core/./operations.cc:2789:16: warning: function 'sset' has cognitive complexity of 27 (threshold 25) [readability-function-cognitive-complexity]
 2789 | int32_t field::sset(uint16_t step, uint8_t setplayer, uint8_t toplayer, card *target, effect *reason_effect) {
      |                ^
src\puzzlepro_core/./operations.cc:2790:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2790 |   switch (step) {
      |   ^
src\puzzlepro_core/./operations.cc:2792:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2792 |       if (!(target->data.type & TYPE_FIELD) && get_useable_count(target, toplayer, LOCATION_SZONE, setplayer, LOCATION_REASON_TOFIELD) <= 0) {
      |       ^
src\puzzlepro_core/./operations.cc:2792:45: note: +1
 2792 |       if (!(target->data.type & TYPE_FIELD) && get_useable_count(target, toplayer, LOCATION_SZONE, setplayer, LOCATION_REASON_TOFIELD) <= 0) {
      |                                             ^
src\puzzlepro_core/./operations.cc:2795:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2795 |       if (target->data.type & TYPE_MONSTER && !target->is_affected_by_effect(EFFECT_MONSTER_SSET)) {
      |       ^
src\puzzlepro_core/./operations.cc:2795:44: note: +1
 2795 |       if (target->data.type & TYPE_MONSTER && !target->is_affected_by_effect(EFFECT_MONSTER_SSET)) {
      |                                            ^
src\puzzlepro_core/./operations.cc:2798:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2798 |       if (target->current.location == LOCATION_SZONE) {
      |       ^
src\puzzlepro_core/./operations.cc:2801:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2801 |       if (!is_player_can_sset(setplayer, target)) {
      |       ^
src\puzzlepro_core/./operations.cc:2804:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2804 |       if (target->is_affected_by_effect(EFFECT_CANNOT_SSET)) {
      |       ^
src\puzzlepro_core/./operations.cc:2808:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2808 |       if (target->data.type & TYPE_FIELD) {
      |       ^
src\puzzlepro_core/./operations.cc:2811:7: note: +1, nesting level increased to 2
 2811 |       else {
      |       ^
src\puzzlepro_core/./operations.cc:2824:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2824 |       if (returns.bvalue[1] == 0) {
      |       ^
src\puzzlepro_core/./operations.cc:2830:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2830 |       for (effect_set::size_type i = 0; i < eset.size(); ++i) {
      |       ^
src\puzzlepro_core/./operations.cc:2831:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2831 |         if (eset[i]->operation) {
      |         ^
src\puzzlepro_core/./operations.cc:2846:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2846 |       if (target->data.type & TYPE_MONSTER) {
      |       ^
src\puzzlepro_core/./operations.cc:2863:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2863 |       if (core.current_chain.size() == 0) {
      |       ^
src\puzzlepro_core/./operations.cc:2873:16: warning: function 'sset_g' has cognitive complexity of 73 (threshold 25) [readability-function-cognitive-complexity]
 2873 | int32_t field::sset_g(uint16_t step, uint8_t setplayer, uint8_t toplayer, group *ptarget, uint8_t confirm, effect *reason_effect) {
      |                ^
src\puzzlepro_core/./operations.cc:2874:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2874 |   switch (step) {
      |   ^
src\puzzlepro_core/./operations.cc:2879:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2879 |       for (auto &target : ptarget->container) {
      |       ^
src\puzzlepro_core/./operations.cc:2880:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2880 |         if ((target->data.type & TYPE_MONSTER && !target->is_affected_by_effect(EFFECT_MONSTER_SSET)) || (target->current.location == LOCATION_SZONE) || (!is_player_can_sset(setplayer, target)) || (target->is_affected_by_effect(EFFECT_CANNOT_SSET))) {
      |         ^
src\puzzlepro_core/./operations.cc:2880:195: note: +1
 2880 |         if ((target->data.type & TYPE_MONSTER && !target->is_affected_by_effect(EFFECT_MONSTER_SSET)) || (target->current.location == LOCATION_SZONE) || (!is_player_can_sset(setplayer, target)) || (target->is_affected_by_effect(EFFECT_CANNOT_SSET))) {
      |                                                                                                                                                                                                   ^
src\puzzlepro_core/./operations.cc:2880:47: note: +1
 2880 |         if ((target->data.type & TYPE_MONSTER && !target->is_affected_by_effect(EFFECT_MONSTER_SSET)) || (target->current.location == LOCATION_SZONE) || (!is_player_can_sset(setplayer, target)) || (target->is_affected_by_effect(EFFECT_CANNOT_SSET))) {
      |                                               ^
src\puzzlepro_core/./operations.cc:2883:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2883 |         if (!(target->data.type & TYPE_FIELD) && get_useable_count(target, toplayer, LOCATION_SZONE, setplayer, LOCATION_REASON_TOFIELD) <= 0) {
      |         ^
src\puzzlepro_core/./operations.cc:2883:47: note: +1
 2883 |         if (!(target->data.type & TYPE_FIELD) && get_useable_count(target, toplayer, LOCATION_SZONE, setplayer, LOCATION_REASON_TOFIELD) <= 0) {
      |                                               ^
src\puzzlepro_core/./operations.cc:2884:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 2884 |           if (target->current.location != LOCATION_GRAVE) {
      |           ^
src\puzzlepro_core/./operations.cc:2891:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2891 |       if (set_cards->empty()) {
      |       ^
src\puzzlepro_core/./operations.cc:2897:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2897 |       for (auto &pcard : *set_cards) {
      |       ^
src\puzzlepro_core/./operations.cc:2900:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2900 |         for (effect_set::size_type i = 0; i < eset.size(); ++i) {
      |         ^
src\puzzlepro_core/./operations.cc:2901:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 2901 |           if (eset[i]->operation) {
      |           ^
src\puzzlepro_core/./operations.cc:2916:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2916 |       if (target->data.type & TYPE_FIELD) {
      |       ^
src\puzzlepro_core/./operations.cc:2923:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2923 |       if (setplayer == toplayer) {
      |       ^
src\puzzlepro_core/./operations.cc:2926:7: note: +1, nesting level increased to 2
 2926 |       else {
      |       ^
src\puzzlepro_core/./operations.cc:2945:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2945 |       if (!set_cards->empty()) {
      |       ^
src\puzzlepro_core/./operations.cc:2948:7: note: +1, nesting level increased to 2
 2948 |       else {
      |       ^
src\puzzlepro_core/./operations.cc:2958:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2958 |       if (target->data.type & TYPE_FIELD) {
      |       ^
src\puzzlepro_core/./operations.cc:2961:7: note: +1, nesting level increased to 2
 2961 |       else {
      |       ^
src\puzzlepro_core/./operations.cc:2962:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2962 |         for (int32_t i = 0; i < 7; i++) {
      |         ^
src\puzzlepro_core/./operations.cc:2964:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 2964 |           if (core.set_group_used_zones & zone) {
      |           ^
src\puzzlepro_core/./operations.cc:2977:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2977 |       if (target->data.type & TYPE_MONSTER) {
      |       ^
src\puzzlepro_core/./operations.cc:2993:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2993 |       if (!set_cards->empty()) {
      |       ^
src\puzzlepro_core/./operations.cc:2999:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2999 |       if (core.unable_tofield_set.size()) {
      |       ^
src\puzzlepro_core/./operations.cc:3006:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3006 |       if (core.set_group_set.size() == 0) {
      |       ^
src\puzzlepro_core/./operations.cc:3010:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3010 |       if (confirm) {
      |       ^
src\puzzlepro_core/./operations.cc:3014:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3014 |         for (auto &pcard : core.set_group_set) {
      |         ^
src\puzzlepro_core/./operations.cc:3025:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3025 |       for (auto &pcard : core.set_group_set) {
      |       ^
src\puzzlepro_core/./operations.cc:3029:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3029 |       if (core.set_group_used_zones & (0x1U << 5)) {
      |       ^
src\puzzlepro_core/./operations.cc:3032:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3032 |       if (ct <= 1) {
      |       ^
src\puzzlepro_core/./operations.cc:3039:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3039 |       for (auto cit = core.operated_set.begin(); cit != core.operated_set.end(); ++cit) {
      |       ^
src\puzzlepro_core/./operations.cc:3043:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3043 |         if (pcard->data.type & TYPE_FIELD) {
      |         ^
src\puzzlepro_core/./operations.cc:3050:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3050 |       for (uint32_t i = 0; i < ct; ++i) {
      |       ^
src\puzzlepro_core/./operations.cc:3059:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3059 |       if (core.current_chain.size() == 0) {
      |       ^
src\puzzlepro_core/./operations.cc:3074:16: warning: function 'special_summon_rule' has cognitive complexity of 231 (threshold 25) [readability-function-cognitive-complexity]
 3074 | int32_t field::special_summon_rule(uint16_t step, uint8_t sumplayer, card *target, uint32_t summon_type, uint32_t action_type) {
      |                ^
src\puzzlepro_core/./operations.cc:3075:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 3075 |   switch (step) {
      |   ^
src\puzzlepro_core/./operations.cc:3092:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3092 |       if (!eset.size()) {
      |       ^
src\puzzlepro_core/./operations.cc:3097:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3097 |       for (effect_set::size_type i = 0; i < eset.size(); ++i) {
      |       ^
src\puzzlepro_core/./operations.cc:3101:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3101 |       if (core.select_options.size() == 1) {
      |       ^
src\puzzlepro_core/./operations.cc:3104:7: note: +1, nesting level increased to 2
 3104 |       else {
      |       ^
src\puzzlepro_core/./operations.cc:3112:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3112 |       if (peffect->code == EFFECT_SPSUMMON_PROC_G) {
      |       ^
src\puzzlepro_core/./operations.cc:3117:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3117 |       if (peffect->target) {
      |       ^
src\puzzlepro_core/./operations.cc:3119:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3119 |         if (core.limit_tuner || core.limit_syn) {
      |         ^
src\puzzlepro_core/./operations.cc:3119:30: note: +1
 3119 |         if (core.limit_tuner || core.limit_syn) {
      |                              ^
src\puzzlepro_core/./operations.cc:3122:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 3122 |           if (core.limit_syn_minc) {
      |           ^
src\puzzlepro_core/./operations.cc:3127:14: note: +1, nesting level increased to 3
 3127 |         else if (core.limit_xyz) {
      |              ^
src\puzzlepro_core/./operations.cc:3129:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 3129 |           if (core.limit_xyz_minc) {
      |           ^
src\puzzlepro_core/./operations.cc:3134:14: note: +1, nesting level increased to 3
 3134 |         else if (core.limit_link || core.limit_link_card) {
      |              ^
src\puzzlepro_core/./operations.cc:3134:34: note: +1
 3134 |         else if (core.limit_link || core.limit_link_card) {
      |                                  ^
src\puzzlepro_core/./operations.cc:3137:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 3137 |           if (core.limit_link_minc) {
      |           ^
src\puzzlepro_core/./operations.cc:3148:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3148 |       if (!returns.ivalue[0]) {
      |       ^
src\puzzlepro_core/./operations.cc:3153:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3153 |       if (eset.size()) {
      |       ^
src\puzzlepro_core/./operations.cc:3154:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3154 |         for (effect_set::size_type i = 0; i < eset.size(); ++i) {
      |         ^
src\puzzlepro_core/./operations.cc:3155:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 3155 |           if (eset[i]->operation) {
      |           ^
src\puzzlepro_core/./operations.cc:3169:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3169 |       if (peffect->operation) {
      |       ^
src\puzzlepro_core/./operations.cc:3171:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3171 |         if (core.limit_tuner || core.limit_syn) {
      |         ^
src\puzzlepro_core/./operations.cc:3171:30: note: +1
 3171 |         if (core.limit_tuner || core.limit_syn) {
      |                              ^
src\puzzlepro_core/./operations.cc:3175:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 3175 |           if (core.limit_syn_minc) {
      |           ^
src\puzzlepro_core/./operations.cc:3182:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3182 |         if (core.limit_xyz) {
      |         ^
src\puzzlepro_core/./operations.cc:3184:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 3184 |           if (core.limit_xyz_minc) {
      |           ^
src\puzzlepro_core/./operations.cc:3191:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3191 |         if (core.limit_link || core.limit_link_card) {
      |         ^
src\puzzlepro_core/./operations.cc:3191:29: note: +1
 3191 |         if (core.limit_link || core.limit_link_card) {
      |                             ^
src\puzzlepro_core/./operations.cc:3195:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 3195 |           if (core.limit_link_minc) {
      |           ^
src\puzzlepro_core/./operations.cc:3209:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3209 |       if (core.limit_syn) {
      |       ^
src\puzzlepro_core/./operations.cc:3213:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3213 |       if (core.limit_xyz) {
      |       ^
src\puzzlepro_core/./operations.cc:3217:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3217 |       if (core.limit_link) {
      |       ^
src\puzzlepro_core/./operations.cc:3224:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3224 |       if (peffect->is_flag(EFFECT_FLAG_SPSUM_PARAM)) {
      |       ^
src\puzzlepro_core/./operations.cc:3226:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3226 |         if (peffect->o_range == 0) {
      |         ^
src\puzzlepro_core/./operations.cc:3229:9: note: +1, nesting level increased to 3
 3229 |         else {
      |         ^
src\puzzlepro_core/./operations.cc:3235:48: note: +2, including nesting penalty of 1, nesting level increased to 2
 3235 |       uint32_t summon_info = retval.size() > 0 ? static_cast<uint32_t>(retval[0]) : 0;
      |                                                ^
src\puzzlepro_core/./operations.cc:3237:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3237 |       if (positions == 0) {
      |       ^
src\puzzlepro_core/./operations.cc:3240:41: note: +2, including nesting penalty of 1, nesting level increased to 2
 3240 |       uint32_t zone = retval.size() > 1 ? static_cast<uint32_t>(retval[1]) : 0xff;
      |                                         ^
src\puzzlepro_core/./operations.cc:3264:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3264 |       if (proc->value == SUMMON_TYPE_SYNCHRO) {
      |       ^
src\puzzlepro_core/./operations.cc:3267:12: note: +1, nesting level increased to 2
 3267 |       else if (proc->value == SUMMON_TYPE_XYZ) {
      |            ^
src\puzzlepro_core/./operations.cc:3270:12: note: +1, nesting level increased to 2
 3270 |       else if (proc->value == SUMMON_TYPE_LINK) {
      |            ^
src\puzzlepro_core/./operations.cc:3273:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3273 |       if (target->material_cards.size()) {
      |       ^
src\puzzlepro_core/./operations.cc:3274:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3274 |         for (auto &mcard : target->material_cards) {
      |         ^
src\puzzlepro_core/./operations.cc:3284:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3284 |       if (core.current_chain.size() == 0) {
      |       ^
src\puzzlepro_core/./operations.cc:3285:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3285 |         if (target->is_affected_by_effect(EFFECT_CANNOT_DISABLE_SPSUMMON)) {
      |         ^
src\puzzlepro_core/./operations.cc:3288:9: note: +1, nesting level increased to 3
 3288 |         else {
      |         ^
src\puzzlepro_core/./operations.cc:3293:7: note: +1, nesting level increased to 2
 3293 |       else {
      |       ^
src\puzzlepro_core/./operations.cc:3307:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3307 |       if (target->is_status(STATUS_SUMMONING)) {
      |       ^
src\puzzlepro_core/./operations.cc:3313:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3313 |       if (peffect->is_flag(EFFECT_FLAG_COUNT_LIMIT) && (peffect->count_code & EFFECT_COUNT_CODE_OATH)) {
      |       ^
src\puzzlepro_core/./operations.cc:3313:53: note: +1
 3313 |       if (peffect->is_flag(EFFECT_FLAG_COUNT_LIMIT) && (peffect->count_code & EFFECT_COUNT_CODE_OATH)) {
      |                                                     ^
src\puzzlepro_core/./operations.cc:3316:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3316 |       if (effect_set *peset = (effect_set *)core.units.begin()->ptr1) {
      |       ^
src\puzzlepro_core/./operations.cc:3317:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3317 |         for (int32_t i = 0; i < peset->size(); ++i) {
      |         ^
src\puzzlepro_core/./operations.cc:3323:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3323 |       if (target->is_status(STATUS_SUMMON_DISABLED) && target->current.location == LOCATION_MZONE) {
      |       ^
src\puzzlepro_core/./operations.cc:3323:53: note: +1
 3323 |       if (target->is_status(STATUS_SUMMON_DISABLED) && target->current.location == LOCATION_MZONE) {
      |                                                     ^
src\puzzlepro_core/./operations.cc:3332:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3332 |       if (effect_set *peset = (effect_set *)core.units.begin()->ptr1) {
      |       ^
src\puzzlepro_core/./operations.cc:3333:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3333 |         for (int32_t i = 0; i < peset->size(); ++i) {
      |         ^
src\puzzlepro_core/./operations.cc:3343:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3343 |       if (target->is_status(STATUS_DISABLED)) {
      |       ^
src\puzzlepro_core/./operations.cc:3353:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3353 |       if (proc->value == SUMMON_TYPE_SYNCHRO) {
      |       ^
src\puzzlepro_core/./operations.cc:3356:12: note: +1, nesting level increased to 2
 3356 |       else if (proc->value == SUMMON_TYPE_XYZ) {
      |            ^
src\puzzlepro_core/./operations.cc:3359:12: note: +1, nesting level increased to 2
 3359 |       else if (proc->value == SUMMON_TYPE_LINK) {
      |            ^
src\puzzlepro_core/./operations.cc:3362:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3362 |       if (target->material_cards.size()) {
      |       ^
src\puzzlepro_core/./operations.cc:3363:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3363 |         for (auto &mcard : target->material_cards) {
      |         ^
src\puzzlepro_core/./operations.cc:3376:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3376 |       if (target->spsummon_code) {
      |       ^
src\puzzlepro_core/./operations.cc:3384:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3384 |       if (action_type == SUMMON_IN_IDLE) {
      |       ^
src\puzzlepro_core/./operations.cc:3395:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3395 |       if (peffect->operation) {
      |       ^
src\puzzlepro_core/./operations.cc:3406:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3406 |       for (auto cit = pgroup->container.begin(); cit != pgroup->container.end();) {
      |       ^
src\puzzlepro_core/./operations.cc:3408:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3408 |         if (!(pcard->data.type & TYPE_MONSTER) || (pcard->current.location == LOCATION_MZONE) || check_unique_onfield(pcard, sumplayer, LOCATION_MZONE) || pcard->is_affected_by_effect(EFFECT_CANNOT_SPECIAL_SUMMON)) {
      |         ^
src\puzzlepro_core/./operations.cc:3408:153: note: +1
 3408 |         if (!(pcard->data.type & TYPE_MONSTER) || (pcard->current.location == LOCATION_MZONE) || check_unique_onfield(pcard, sumplayer, LOCATION_MZONE) || pcard->is_affected_by_effect(EFFECT_CANNOT_SPECIAL_SUMMON)) {
      |                                                                                                                                                         ^
src\puzzlepro_core/./operations.cc:3414:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3414 |         if (eset.size()) {
      |         ^
src\puzzlepro_core/./operations.cc:3415:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 3415 |           for (effect_set::size_type i = 0; i < eset.size(); ++i) {
      |           ^
src\puzzlepro_core/./operations.cc:3416:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 3416 |             if (eset[i]->operation) {
      |             ^
src\puzzlepro_core/./operations.cc:3431:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3431 |       if (pgroup->container.size() == 0) {
      |       ^
src\puzzlepro_core/./operations.cc:3441:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3441 |       if (pgroup->it == pgroup->container.end()) {
      |       ^
src\puzzlepro_core/./operations.cc:3456:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3456 |       for (auto it = pgroup->it; it != pgroup->container.end(); ++it) {
      |       ^
src\puzzlepro_core/./operations.cc:3457:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3457 |         if ((*it)->current.location != LOCATION_EXTRA) {
      |         ^
src\puzzlepro_core/./operations.cc:3460:9: note: +1, nesting level increased to 3
 3460 |         else {
      |         ^
src\puzzlepro_core/./operations.cc:3464:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3464 |       if (pcard->current.location != LOCATION_EXTRA) {
      |       ^
src\puzzlepro_core/./operations.cc:3465:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3465 |         if (ct2 == 0) {
      |         ^
src\puzzlepro_core/./operations.cc:3469:7: note: +1, nesting level increased to 2
 3469 |       else {
      |       ^
src\puzzlepro_core/./operations.cc:3470:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3470 |         if (ct1 == 0) {
      |         ^
src\puzzlepro_core/./operations.cc:3480:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3480 |       if (pgroup->it == pgroup->container.end()) {
      |       ^
src\puzzlepro_core/./operations.cc:3493:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3493 |       if (pgroup->it != pgroup->container.end()) {
      |       ^
src\puzzlepro_core/./operations.cc:3501:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3501 |       for (auto &pcard : pgroup->container) {
      |       ^
src\puzzlepro_core/./operations.cc:3502:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3502 |         if (!pcard->is_affected_by_effect(EFFECT_CANNOT_DISABLE_SPSUMMON)) {
      |         ^
src\puzzlepro_core/./operations.cc:3506:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3506 |       if (cset.size()) {
      |       ^
src\puzzlepro_core/./operations.cc:3516:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3516 |       for (auto cit = pgroup->container.begin(); cit != pgroup->container.end();) {
      |       ^
src\puzzlepro_core/./operations.cc:3518:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3518 |         if (!pcard->is_status(STATUS_SUMMONING)) {
      |         ^
src\puzzlepro_core/./operations.cc:3520:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 3520 |           if (pcard->is_status(STATUS_SUMMON_DISABLED) && pcard->current.location == LOCATION_MZONE) {
      |           ^
src\puzzlepro_core/./operations.cc:3520:56: note: +1
 3520 |           if (pcard->is_status(STATUS_SUMMON_DISABLED) && pcard->current.location == LOCATION_MZONE) {
      |                                                        ^
src\puzzlepro_core/./operations.cc:3524:9: note: +1, nesting level increased to 3
 3524 |         else {
      |         ^
src\puzzlepro_core/./operations.cc:3528:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3528 |       if (cset.size()) {
      |       ^
src\puzzlepro_core/./operations.cc:3532:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3532 |       if (pgroup->container.size() == 0) {
      |       ^
src\puzzlepro_core/./operations.cc:3535:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3535 |         if (peffect->is_flag(EFFECT_FLAG_COUNT_LIMIT) && (peffect->count_code & EFFECT_COUNT_CODE_OATH)) {
      |         ^
src\puzzlepro_core/./operations.cc:3535:55: note: +1
 3535 |         if (peffect->is_flag(EFFECT_FLAG_COUNT_LIMIT) && (peffect->count_code & EFFECT_COUNT_CODE_OATH)) {
      |                                                       ^
src\puzzlepro_core/./operations.cc:3538:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3538 |         if (effect_set *peset = (effect_set *)core.units.begin()->ptr1) {
      |         ^
src\puzzlepro_core/./operations.cc:3539:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 3539 |           for (int32_t i = 0; i < peset->size(); ++i) {
      |           ^
src\puzzlepro_core/./operations.cc:3553:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3553 |       if (effect_set *peset = (effect_set *)core.units.begin()->ptr1) {
      |       ^
src\puzzlepro_core/./operations.cc:3554:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3554 |         for (int32_t i = 0; i < peset->size(); ++i) {
      |         ^
src\puzzlepro_core/./operations.cc:3560:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3560 |       for (auto &pcard : pgroup->container) {
      |       ^
src\puzzlepro_core/./operations.cc:3565:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3565 |         if (pcard->is_status(STATUS_DISABLED)) {
      |         ^
src\puzzlepro_core/./operations.cc:3585:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3585 |       for (auto &pcard : pgroup->container) {
      |       ^
src\puzzlepro_core/./operations.cc:3586:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3586 |         if (pcard->spsummon_code) {
      |         ^
src\puzzlepro_core/./operations.cc:3591:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3591 |       for (auto &cit : spsummon_once_set) {
      |       ^
src\puzzlepro_core/./operations.cc:3594:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3594 |       for (auto &pcard : pgroup->container) {
      |       ^
src\puzzlepro_core/./operations.cc:3600:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3600 |       if (action_type == SUMMON_IN_IDLE) {
      |       ^
src\puzzlepro_core/./operations.cc:3611:16: warning: function 'special_summon_step' has cognitive complexity of 74 (threshold 25) [readability-function-cognitive-complexity]
 3611 | int32_t field::special_summon_step(uint16_t step, group *targets, card *target, uint32_t zone) {
      |                ^
src\puzzlepro_core/./operations.cc:3616:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 3616 |   switch (step) {
      |   ^
src\puzzlepro_core/./operations.cc:3619:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3619 |       if (target->is_affected_by_effect(EFFECT_REVIVE_LIMIT) && !target->is_status(STATUS_PROC_COMPLETE)) {
      |       ^
src\puzzlepro_core/./operations.cc:3619:62: note: +1
 3619 |       if (target->is_affected_by_effect(EFFECT_REVIVE_LIMIT) && !target->is_status(STATUS_PROC_COMPLETE)) {
      |                                                              ^
src\puzzlepro_core/./operations.cc:3620:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3620 |         if ((!nolimit && (target->current.location & 0x38)) || (!nocheck && !nolimit && (target->current.location & 0x3))) {
      |         ^
src\puzzlepro_core/./operations.cc:3620:61: note: +1
 3620 |         if ((!nolimit && (target->current.location & 0x38)) || (!nocheck && !nolimit && (target->current.location & 0x3))) {
      |                                                             ^
src\puzzlepro_core/./operations.cc:3620:23: note: +1
 3620 |         if ((!nolimit && (target->current.location & 0x38)) || (!nocheck && !nolimit && (target->current.location & 0x3))) {
      |                       ^
src\puzzlepro_core/./operations.cc:3620:86: note: +1
 3620 |         if ((!nolimit && (target->current.location & 0x38)) || (!nocheck && !nolimit && (target->current.location & 0x3))) {
      |                                                                                      ^
src\puzzlepro_core/./operations.cc:3625:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3625 |       if ((target->current.location == LOCATION_MZONE) || !(positions & POS_FACEDOWN) && check_unique_onfield(target, playerid, LOCATION_MZONE) || !is_player_can_spsummon(core.reason_effect, target->summon_info & DEFAULT_SUMMON_TYPE, positions, target->summon_player, playerid, target) || (!nocheck && !(target->data.type & TYPE_MONSTER))) {
      |       ^
src\puzzlepro_core/./operations.cc:3625:287: note: +1
 3625 |       if ((target->current.location == LOCATION_MZONE) || !(positions & POS_FACEDOWN) && check_unique_onfield(target, playerid, LOCATION_MZONE) || !is_player_can_spsummon(core.reason_effect, target->summon_info & DEFAULT_SUMMON_TYPE, positions, target->summon_player, playerid, target) || (!nocheck && !(target->data.type & TYPE_MONSTER))) {
      |                                                                                                                                                                                                                                                                                               ^
src\puzzlepro_core/./operations.cc:3625:87: note: +1
 3625 |       if ((target->current.location == LOCATION_MZONE) || !(positions & POS_FACEDOWN) && check_unique_onfield(target, playerid, LOCATION_MZONE) || !is_player_can_spsummon(core.reason_effect, target->summon_info & DEFAULT_SUMMON_TYPE, positions, target->summon_player, playerid, target) || (!nocheck && !(target->data.type & TYPE_MONSTER))) {
      |                                                                                       ^
src\puzzlepro_core/./operations.cc:3625:300: note: +1
 3625 |       if ((target->current.location == LOCATION_MZONE) || !(positions & POS_FACEDOWN) && check_unique_onfield(target, playerid, LOCATION_MZONE) || !is_player_can_spsummon(core.reason_effect, target->summon_info & DEFAULT_SUMMON_TYPE, positions, target->summon_player, playerid, target) || (!nocheck && !(target->data.type & TYPE_MONSTER))) {
      |                                                                                                                                                                                                                                                                                                            ^
src\puzzlepro_core/./operations.cc:3629:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3629 |       if (get_useable_count(target, playerid, LOCATION_MZONE, target->summon_player, LOCATION_REASON_TOFIELD, zone) <= 0) {
      |       ^
src\puzzlepro_core/./operations.cc:3630:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3630 |         if (target->current.location != LOCATION_GRAVE) {
      |         ^
src\puzzlepro_core/./operations.cc:3636:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3636 |       if (!nocheck) {
      |       ^
src\puzzlepro_core/./operations.cc:3638:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3638 |         for (effect_set::size_type i = 0; i < eset.size(); ++i) {
      |         ^
src\puzzlepro_core/./operations.cc:3644:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 3644 |           if (!eset[i]->check_value_condition(5)) {
      |           ^
src\puzzlepro_core/./operations.cc:3652:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3652 |       if (eset.size()) {
      |       ^
src\puzzlepro_core/./operations.cc:3653:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3653 |         for (effect_set::size_type i = 0; i < eset.size(); ++i) {
      |         ^
src\puzzlepro_core/./operations.cc:3654:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 3654 |           if (eset[i]->operation) {
      |           ^
src\puzzlepro_core/./operations.cc:3666:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3666 |       if (effect_set *peset = (effect_set *)core.units.begin()->ptr2) {
      |       ^
src\puzzlepro_core/./operations.cc:3667:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3667 |         for (int32_t i = 0; i < peset->size(); ++i) {
      |         ^
src\puzzlepro_core/./operations.cc:3673:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3673 |       if (!targets) {
      |       ^
src\puzzlepro_core/./operations.cc:3677:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3677 |       if (targets && core.duel_rule >= NEW_MASTER_RULE) {
      |       ^
src\puzzlepro_core/./operations.cc:3677:19: note: +1
 3677 |       if (targets && core.duel_rule >= NEW_MASTER_RULE) {
      |                   ^
src\puzzlepro_core/./operations.cc:3681:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3681 |         for (auto &pcard : targets->container) {
      |         ^
src\puzzlepro_core/./operations.cc:3682:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 3682 |           if (pcard->current.location == LOCATION_MZONE) {
      |           ^
src\puzzlepro_core/./operations.cc:3685:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 3685 |           if (pcard->current.location != LOCATION_EXTRA) {
      |           ^
src\puzzlepro_core/./operations.cc:3688:11: note: +1, nesting level increased to 4
 3688 |           else {
      |           ^
src\puzzlepro_core/./operations.cc:3692:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3692 |         if (target->current.location != LOCATION_EXTRA) {
      |         ^
src\puzzlepro_core/./operations.cc:3693:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 3693 |           if (ct2 == 0) {
      |           ^
src\puzzlepro_core/./operations.cc:3697:9: note: +1, nesting level increased to 3
 3697 |         else {
      |         ^
src\puzzlepro_core/./operations.cc:3698:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 3698 |           if (ct1 == 0) {
      |           ^
src\puzzlepro_core/./operations.cc:3724:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3724 |       if (targets) {
      |       ^
src\puzzlepro_core/./operations.cc:3733:16: warning: function 'special_summon' has cognitive complexity of 69 (threshold 25) [readability-function-cognitive-complexity]
 3733 | int32_t field::special_summon(uint16_t step, effect *reason_effect, uint8_t reason_player, group *targets, uint32_t zone) {
      |                ^
src\puzzlepro_core/./operations.cc:3734:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 3734 |   switch (step) {
      |   ^
src\puzzlepro_core/./operations.cc:3737:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3737 |       for (auto &pcard : targets->container) {
      |       ^
src\puzzlepro_core/./operations.cc:3738:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3738 |         if (pcard->summon_player == infos.turn_player) {
      |         ^
src\puzzlepro_core/./operations.cc:3741:9: note: +1, nesting level increased to 3
 3741 |         else {
      |         ^
src\puzzlepro_core/./operations.cc:3745:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3745 |       if (!cvs.empty()) {
      |       ^
src\puzzlepro_core/./operations.cc:3746:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3746 |         if (cvs.size() > 1) {
      |         ^
src\puzzlepro_core/./operations.cc:3750:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3750 |         for (auto &pcard : cvs) {
      |         ^
src\puzzlepro_core/./operations.cc:3754:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3754 |       if (!cvo.empty()) {
      |       ^
src\puzzlepro_core/./operations.cc:3755:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3755 |         if (cvo.size() > 1) {
      |         ^
src\puzzlepro_core/./operations.cc:3759:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3759 |         for (auto &pcard : cvo) {
      |         ^
src\puzzlepro_core/./operations.cc:3766:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3766 |       if (core.unable_tofield_set.size()) {
      |       ^
src\puzzlepro_core/./operations.cc:3773:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3773 |       if (targets->container.size() == 0) {
      |       ^
src\puzzlepro_core/./operations.cc:3781:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3781 |       for (auto &pcard : targets->container) {
      |       ^
src\puzzlepro_core/./operations.cc:3782:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3782 |         if (pcard->summon_player == infos.turn_player) {
      |         ^
src\puzzlepro_core/./operations.cc:3785:9: note: +1, nesting level increased to 3
 3785 |         else {
      |         ^
src\puzzlepro_core/./operations.cc:3788:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3788 |         if (pcard->spsummon_code) {
      |         ^
src\puzzlepro_core/./operations.cc:3792:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3792 |       if (tp) {
      |       ^
src\puzzlepro_core/./operations.cc:3795:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3795 |       if (ntp) {
      |       ^
src\puzzlepro_core/./operations.cc:3798:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3798 |       for (auto &cit : spsummon_once_set[0]) {
      |       ^
src\puzzlepro_core/./operations.cc:3801:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3801 |       for (auto &cit : spsummon_once_set[1]) {
      |       ^
src\puzzlepro_core/./operations.cc:3804:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3804 |       for (auto &pcard : targets->container) {
      |       ^
src\puzzlepro_core/./operations.cc:3808:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3808 |         if (pcard->is_position(POS_FACEUP)) {
      |         ^
src\puzzlepro_core/./operations.cc:3817:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3817 |       for (auto &pcard : targets->container) {
      |       ^
src\puzzlepro_core/./operations.cc:3820:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3820 |         if (!(pcard->current.position & POS_FACEDOWN)) {
      |         ^
src\puzzlepro_core/./operations.cc:3825:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3825 |         if (summontype && pcard->material_cards.size() && custom_type != SUMMON_VALUE_FUTURE_FUSION) {
      |         ^
src\puzzlepro_core/./operations.cc:3825:56: note: +1
 3825 |         if (summontype && pcard->material_cards.size() && custom_type != SUMMON_VALUE_FUTURE_FUSION) {
      |                                                        ^
src\puzzlepro_core/./operations.cc:3827:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 3827 |           if (summontype == SUMMON_TYPE_FUSION) {
      |           ^
src\puzzlepro_core/./operations.cc:3830:16: note: +1, nesting level increased to 4
 3830 |           else if (summontype == SUMMON_TYPE_RITUAL) {
      |                ^
src\puzzlepro_core/./operations.cc:3833:16: note: +1, nesting level increased to 4
 3833 |           else if (summontype == SUMMON_TYPE_XYZ) {
      |                ^
src\puzzlepro_core/./operations.cc:3836:16: note: +1, nesting level increased to 4
 3836 |           else if (summontype == SUMMON_TYPE_LINK) {
      |                ^
src\puzzlepro_core/./operations.cc:3839:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 3839 |           for (auto &mcard : pcard->material_cards) {
      |           ^
src\puzzlepro_core/./operations.cc:3893:16: warning: function 'destroy' has cognitive complexity of 238 (threshold 25) [readability-function-cognitive-complexity]
 3893 | int32_t field::destroy(uint16_t step, group *targets, effect *reason_effect, uint32_t reason, uint8_t reason_player) {
      |                ^
src\puzzlepro_core/./operations.cc:3895:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 3895 |   switch (step) {
      |   ^
src\puzzlepro_core/./operations.cc:3901:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3901 |       for (auto cit = targets->container.begin(); cit != targets->container.end();) {
      |       ^
src\puzzlepro_core/./operations.cc:3903:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3903 |         if (!pcard->is_destructable()) {
      |         ^
src\puzzlepro_core/./operations.cc:3908:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3908 |         if (!(pcard->current.reason & (REASON_RULE | REASON_COST))) {
      |         ^
src\puzzlepro_core/./operations.cc:3910:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 3910 |           if (pcard->is_affect_by_effect(pcard->current.reason_effect)) {
      |           ^
src\puzzlepro_core/./operations.cc:3912:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 3912 |             if (indestructable_effect) {
      |             ^
src\puzzlepro_core/./operations.cc:3913:15: note: +6, including nesting penalty of 5, nesting level increased to 6
 3913 |               if (reason_player != PLAYER_SELFDES) {
      |               ^
src\puzzlepro_core/./operations.cc:3919:11: note: +1, nesting level increased to 4
 3919 |           else {
      |           ^
src\puzzlepro_core/./operations.cc:3922:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 3922 |           if (!is_destructable) {
      |           ^
src\puzzlepro_core/./operations.cc:3930:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3930 |         if (eset.size()) {
      |         ^
src\puzzlepro_core/./operations.cc:3932:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 3932 |           for (effect_set::size_type i = 0; i < eset.size(); ++i) {
      |           ^
src\puzzlepro_core/./operations.cc:3936:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 3936 |             if (eset[i]->check_value_condition(3)) {
      |             ^
src\puzzlepro_core/./operations.cc:3937:15: note: +6, including nesting penalty of 5, nesting level increased to 6
 3937 |               if (reason_player != PLAYER_SELFDES) {
      |               ^
src\puzzlepro_core/./operations.cc:3944:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 3944 |           if (!is_destructable) {
      |           ^
src\puzzlepro_core/./operations.cc:3953:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3953 |         if (eset.size()) {
      |         ^
src\puzzlepro_core/./operations.cc:3955:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 3955 |           for (effect_set::size_type i = 0; i < eset.size(); ++i) {
      |           ^
src\puzzlepro_core/./operations.cc:3956:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 3956 |             if (eset[i]->is_flag(EFFECT_FLAG_COUNT_LIMIT)) {
      |             ^
src\puzzlepro_core/./operations.cc:3957:15: note: +6, including nesting penalty of 5, nesting level increased to 6
 3957 |               if (eset[i]->count_limit == 0) {
      |               ^
src\puzzlepro_core/./operations.cc:3963:15: note: +6, including nesting penalty of 5, nesting level increased to 6
 3963 |               if (eset[i]->check_value_condition(3)) {
      |               ^
src\puzzlepro_core/./operations.cc:3968:13: note: +1, nesting level increased to 5
 3968 |             else {
      |             ^
src\puzzlepro_core/./operations.cc:3973:15: note: +6, including nesting penalty of 5, nesting level increased to 6
 3973 |               if (ct) {
      |               ^
src\puzzlepro_core/./operations.cc:3975:17: note: +7, including nesting penalty of 6, nesting level increased to 7
 3975 |                 if (++ret.first->second <= ct) {
      |                 ^
src\puzzlepro_core/./operations.cc:3982:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 3982 |           if (!is_destructable) {
      |           ^
src\puzzlepro_core/./operations.cc:3990:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3990 |         if (eset.size()) {
      |         ^
src\puzzlepro_core/./operations.cc:3992:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 3992 |           for (effect_set::size_type i = 0; i < eset.size(); ++i) {
      |           ^
src\puzzlepro_core/./operations.cc:3996:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 3996 |             if (eset[i]->check_value_condition(3)) {
      |             ^
src\puzzlepro_core/./operations.cc:4001:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 4001 |           if (sub) {
      |           ^
src\puzzlepro_core/./operations.cc:4012:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4012 |       for (auto &pcard : indestructable_set) {
      |       ^
src\puzzlepro_core/./operations.cc:4019:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4019 |       for (auto &pcard : core.indestructable_count_set) {
      |       ^
src\puzzlepro_core/./operations.cc:4025:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4025 |       for (auto &rep : extra) {
      |       ^
src\puzzlepro_core/./operations.cc:4027:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 4027 |         if (targets->container.count(rep) == 0) {
      |         ^
src\puzzlepro_core/./operations.cc:4039:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4039 |       for (auto &peffect : indestructable_effect_set) {
      |       ^
src\puzzlepro_core/./operations.cc:4050:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4050 |       for (auto &pcard : targets->container) {
      |       ^
src\puzzlepro_core/./operations.cc:4056:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4056 |       for (auto &pcard : core.destroy_canceled) {
      |       ^
src\puzzlepro_core/./operations.cc:4060:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4060 |       for (auto &pcard : core.indestructable_count_set) {
      |       ^
src\puzzlepro_core/./operations.cc:4067:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4067 |       if (!targets->container.size()) {
      |       ^
src\puzzlepro_core/./operations.cc:4074:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4074 |       if (cv.size() > 1) {
      |       ^
src\puzzlepro_core/./operations.cc:4077:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4077 |       for (auto &pcard : cv) {
      |       ^
src\puzzlepro_core/./operations.cc:4078:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 4078 |         if (pcard->current.location & (LOCATION_GRAVE | LOCATION_REMOVED)) {
      |         ^
src\puzzlepro_core/./operations.cc:4098:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4098 |       for (auto &pcard : sendtargets->container) {
      |       ^
src\puzzlepro_core/./operations.cc:4101:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 4101 |         if (!dest) {
      |         ^
src\puzzlepro_core/./operations.cc:4104:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 4104 |         if ((dest == LOCATION_HAND && !pcard->is_capable_send_to_hand(reason_player)) || (dest == LOCATION_DECK && !pcard->is_capable_send_to_deck(reason_player)) || (dest == LOCATION_REMOVED && !pcard->is_removeable(reason_player, pcard->sendto_param.position, reason))) {
      |         ^
src\puzzlepro_core/./operations.cc:4104:164: note: +1
 4104 |         if ((dest == LOCATION_HAND && !pcard->is_capable_send_to_hand(reason_player)) || (dest == LOCATION_DECK && !pcard->is_capable_send_to_deck(reason_player)) || (dest == LOCATION_REMOVED && !pcard->is_removeable(reason_player, pcard->sendto_param.position, reason))) {
      |                                                                                                                                                                    ^
src\puzzlepro_core/./operations.cc:4104:36: note: +1
 4104 |         if ((dest == LOCATION_HAND && !pcard->is_capable_send_to_hand(reason_player)) || (dest == LOCATION_DECK && !pcard->is_capable_send_to_deck(reason_player)) || (dest == LOCATION_REMOVED && !pcard->is_removeable(reason_player, pcard->sendto_param.position, reason))) {
      |                                    ^
src\puzzlepro_core/./operations.cc:4104:113: note: +1
 4104 |         if ((dest == LOCATION_HAND && !pcard->is_capable_send_to_hand(reason_player)) || (dest == LOCATION_DECK && !pcard->is_capable_send_to_deck(reason_player)) || (dest == LOCATION_REMOVED && !pcard->is_removeable(reason_player, pcard->sendto_param.position, reason))) {
      |                                                                                                                 ^
src\puzzlepro_core/./operations.cc:4104:193: note: +1
 4104 |         if ((dest == LOCATION_HAND && !pcard->is_capable_send_to_hand(reason_player)) || (dest == LOCATION_DECK && !pcard->is_capable_send_to_deck(reason_player)) || (dest == LOCATION_REMOVED && !pcard->is_removeable(reason_player, pcard->sendto_param.position, reason))) {
      |                                                                                                                                                                                                 ^
src\puzzlepro_core/./operations.cc:4116:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4116 |       for (auto cit = core.operated_set.begin(); cit != core.operated_set.end();) {
      |       ^
src\puzzlepro_core/./operations.cc:4117:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 4117 |         if ((*cit)->current.reason & REASON_REPLACE) {
      |         ^
src\puzzlepro_core/./operations.cc:4120:9: note: +1, nesting level increased to 3
 4120 |         else {
      |         ^
src\puzzlepro_core/./operations.cc:4130:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4130 |       for (auto cit = targets->container.begin(); cit != targets->container.end();) {
      |       ^
src\puzzlepro_core/./operations.cc:4132:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 4132 |         if (!pcard->is_destructable()) {
      |         ^
src\puzzlepro_core/./operations.cc:4142:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 4142 |         if (eset.size()) {
      |         ^
src\puzzlepro_core/./operations.cc:4144:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 4144 |           for (effect_set::size_type i = 0; i < eset.size(); ++i) {
      |           ^
src\puzzlepro_core/./operations.cc:4148:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 4148 |             if (eset[i]->check_value_condition(3)) {
      |             ^
src\puzzlepro_core/./operations.cc:4157:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 4157 |           if (indes) {
      |           ^
src\puzzlepro_core/./operations.cc:4168:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 4168 |         if (eset.size()) {
      |         ^
src\puzzlepro_core/./operations.cc:4170:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 4170 |           for (effect_set::size_type i = 0; i < eset.size(); ++i) {
      |           ^
src\puzzlepro_core/./operations.cc:4171:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 4171 |             if (eset[i]->is_flag(EFFECT_FLAG_COUNT_LIMIT)) {
      |             ^
src\puzzlepro_core/./operations.cc:4172:15: note: +6, including nesting penalty of 5, nesting level increased to 6
 4172 |               if (eset[i]->count_limit == 0) {
      |               ^
src\puzzlepro_core/./operations.cc:4178:15: note: +6, including nesting penalty of 5, nesting level increased to 6
 4178 |               if (eset[i]->check_value_condition(3)) {
      |               ^
src\puzzlepro_core/./operations.cc:4187:13: note: +1, nesting level increased to 5
 4187 |             else {
      |             ^
src\puzzlepro_core/./operations.cc:4192:15: note: +6, including nesting penalty of 5, nesting level increased to 6
 4192 |               if (ct) {
      |               ^
src\puzzlepro_core/./operations.cc:4194:17: note: +7, including nesting penalty of 6, nesting level increased to 7
 4194 |                 if (++it.first->second <= ct) {
      |                 ^
src\puzzlepro_core/./operations.cc:4204:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 4204 |           if (indes) {
      |           ^
src\puzzlepro_core/./operations.cc:4215:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 4215 |         if (eset.size()) {
      |         ^
src\puzzlepro_core/./operations.cc:4217:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 4217 |           for (effect_set::size_type i = 0; i < eset.size(); ++i) {
      |           ^
src\puzzlepro_core/./operations.cc:4221:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 4221 |             if (eset[i]->check_value_condition(3)) {
      |             ^
src\puzzlepro_core/./operations.cc:4226:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 4226 |           if (sub) {
      |           ^
src\puzzlepro_core/./operations.cc:4237:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4237 |       if (targets->container.size()) {
      |       ^
src\puzzlepro_core/./operations.cc:4243:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4243 |       for (auto &pcard : targets->container) {
      |       ^
src\puzzlepro_core/./operations.cc:4249:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4249 |       for (auto &pcard : core.destroy_canceled) {
      |       ^
src\puzzlepro_core/./operations.cc:4281:16: warning: function 'release' has cognitive complexity of 26 (threshold 25) [readability-function-cognitive-complexity]
 4281 | int32_t field::release(uint16_t step, group *targets, effect *reason_effect, uint32_t reason, uint8_t reason_player) {
      |                ^
src\puzzlepro_core/./operations.cc:4282:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 4282 |   switch (step) {
      |   ^
src\puzzlepro_core/./operations.cc:4284:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4284 |       for (auto cit = targets->container.begin(); cit != targets->container.end();) {
      |       ^
src\puzzlepro_core/./operations.cc:4286:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 4286 |         if (pcard->get_status(STATUS_SUMMONING | STATUS_SPSUMMON_STEP) || ((reason & REASON_SUMMON) && !pcard->is_releasable_by_summon(reason_player, pcard->current.reason_card)) || ((reason & REASON_EFFECT) && (!pcard->is_affect_by_effect(pcard->current.reason_effect) || !pcard->is_releasable_by_nonsummon(reason_player, reason)))) {
      |         ^
src\puzzlepro_core/./operations.cc:4286:180: note: +1
 4286 |         if (pcard->get_status(STATUS_SUMMONING | STATUS_SPSUMMON_STEP) || ((reason & REASON_SUMMON) && !pcard->is_releasable_by_summon(reason_player, pcard->current.reason_card)) || ((reason & REASON_EFFECT) && (!pcard->is_affect_by_effect(pcard->current.reason_effect) || !pcard->is_releasable_by_nonsummon(reason_player, reason)))) {
      |                                                                                                                                                                                    ^
src\puzzlepro_core/./operations.cc:4286:101: note: +1
 4286 |         if (pcard->get_status(STATUS_SUMMONING | STATUS_SPSUMMON_STEP) || ((reason & REASON_SUMMON) && !pcard->is_releasable_by_summon(reason_player, pcard->current.reason_card)) || ((reason & REASON_EFFECT) && (!pcard->is_affect_by_effect(pcard->current.reason_effect) || !pcard->is_releasable_by_nonsummon(reason_player, reason)))) {
      |                                                                                                     ^
src\puzzlepro_core/./operations.cc:4286:209: note: +1
 4286 |         if (pcard->get_status(STATUS_SUMMONING | STATUS_SPSUMMON_STEP) || ((reason & REASON_SUMMON) && !pcard->is_releasable_by_summon(reason_player, pcard->current.reason_card)) || ((reason & REASON_EFFECT) && (!pcard->is_affect_by_effect(pcard->current.reason_effect) || !pcard->is_releasable_by_nonsummon(reason_player, reason)))) {
      |                                                                                                                                                                                                                 ^
src\puzzlepro_core/./operations.cc:4286:271: note: +1
 4286 |         if (pcard->get_status(STATUS_SUMMONING | STATUS_SPSUMMON_STEP) || ((reason & REASON_SUMMON) && !pcard->is_releasable_by_summon(reason_player, pcard->current.reason_card)) || ((reason & REASON_EFFECT) && (!pcard->is_affect_by_effect(pcard->current.reason_effect) || !pcard->is_releasable_by_nonsummon(reason_player, reason)))) {
      |                                                                                                                                                                                                                                                                               ^
src\puzzlepro_core/./operations.cc:4292:9: note: +1, nesting level increased to 3
 4292 |         else {
      |         ^
src\puzzlepro_core/./operations.cc:4296:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4296 |       if (reason & REASON_RULE) {
      |       ^
src\puzzlepro_core/./operations.cc:4303:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4303 |       for (auto &pcard : targets->container) {
      |       ^
src\puzzlepro_core/./operations.cc:4309:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4309 |       if (!targets->container.size()) {
      |       ^
src\puzzlepro_core/./operations.cc:4316:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4316 |       if (cv.size() > 1) {
      |       ^
src\puzzlepro_core/./operations.cc:4319:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4319 |       for (auto &pcard : cv) {
      |       ^
src\puzzlepro_core/./operations.cc:4320:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 4320 |         if (pcard->current.location & (LOCATION_GRAVE | LOCATION_REMOVED)) {
      |         ^
src\puzzlepro_core/./operations.cc:4340:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4340 |       for (auto &peffect : core.dec_count_reserve) {
      |       ^
src\puzzlepro_core/./operations.cc:4378:16: warning: function 'send_to' has cognitive complexity of 320 (threshold 25) [readability-function-cognitive-complexity]
 4378 | int32_t field::send_to(uint16_t step, group *targets, effect *reason_effect, uint32_t reason, uint8_t reason_player, uint8_t send_activating) {
      |                ^
src\puzzlepro_core/./operations.cc:4381:10: note: nesting level increased to 1
 4381 |   struct exargs {
      |          ^
src\puzzlepro_core/./operations.cc:4381:10: note: nesting level increased to 1
src\puzzlepro_core/./operations.cc:4381:10: note: nesting level increased to 1
src\puzzlepro_core/./operations.cc:4381:10: note: nesting level increased to 1
src\puzzlepro_core/./operations.cc:4381:10: note: nesting level increased to 1
src\puzzlepro_core/./operations.cc:4381:10: note: nesting level increased to 1
src\puzzlepro_core/./operations.cc:4391:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 4391 |   switch (step) {
      |   ^
src\puzzlepro_core/./operations.cc:4393:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4393 |       for (auto cit = targets->container.begin(); cit != targets->container.end();) {
      |       ^
src\puzzlepro_core/./operations.cc:4396:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 4396 |         if (!(reason & REASON_RULE) && (pcard->get_status(STATUS_SUMMONING | STATUS_SPSUMMON_STEP) || ((pcard->current.reason & REASON_EFFECT) && !pcard->is_affect_by_effect(pcard->current.reason_effect)) || (dest == LOCATION_HAND && !pcard->is_capable_send_to_hand(core.reason_player)) || (dest == LOCATION_DECK && !pcard->is_capable_send_to_deck(core.reason_player, send_activating)) || (dest == LOCATION_REMOVED && !pcard->is_removeable(core.reason_player, pcard->sendto_param.position, reason)) || (dest == LOCATION_GRAVE && !pcard->is_capable_send_to_grave(core.reason_player)) ||
      |         ^
src\puzzlepro_core/./operations.cc:4396:37: note: +1
 4396 |         if (!(reason & REASON_RULE) && (pcard->get_status(STATUS_SUMMONING | STATUS_SPSUMMON_STEP) || ((pcard->current.reason & REASON_EFFECT) && !pcard->is_affect_by_effect(pcard->current.reason_effect)) || (dest == LOCATION_HAND && !pcard->is_capable_send_to_hand(core.reason_player)) || (dest == LOCATION_DECK && !pcard->is_capable_send_to_deck(core.reason_player, send_activating)) || (dest == LOCATION_REMOVED && !pcard->is_removeable(core.reason_player, pcard->sendto_param.position, reason)) || (dest == LOCATION_GRAVE && !pcard->is_capable_send_to_grave(core.reason_player)) ||
      |                                     ^
src\puzzlepro_core/./operations.cc:4396:584: note: +1
 4396 |         if (!(reason & REASON_RULE) && (pcard->get_status(STATUS_SUMMONING | STATUS_SPSUMMON_STEP) || ((pcard->current.reason & REASON_EFFECT) && !pcard->is_affect_by_effect(pcard->current.reason_effect)) || (dest == LOCATION_HAND && !pcard->is_capable_send_to_hand(core.reason_player)) || (dest == LOCATION_DECK && !pcard->is_capable_send_to_deck(core.reason_player, send_activating)) || (dest == LOCATION_REMOVED && !pcard->is_removeable(core.reason_player, pcard->sendto_param.position, reason)) || (dest == LOCATION_GRAVE && !pcard->is_capable_send_to_grave(core.reason_player)) ||
      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        ^
src\puzzlepro_core/./operations.cc:4396:144: note: +1
 4396 |         if (!(reason & REASON_RULE) && (pcard->get_status(STATUS_SUMMONING | STATUS_SPSUMMON_STEP) || ((pcard->current.reason & REASON_EFFECT) && !pcard->is_affect_by_effect(pcard->current.reason_effect)) || (dest == LOCATION_HAND && !pcard->is_capable_send_to_hand(core.reason_player)) || (dest == LOCATION_DECK && !pcard->is_capable_send_to_deck(core.reason_player, send_activating)) || (dest == LOCATION_REMOVED && !pcard->is_removeable(core.reason_player, pcard->sendto_param.position, reason)) || (dest == LOCATION_GRAVE && !pcard->is_capable_send_to_grave(core.reason_player)) ||
      |                                                                                                                                                ^
src\puzzlepro_core/./operations.cc:4396:232: note: +1
 4396 |         if (!(reason & REASON_RULE) && (pcard->get_status(STATUS_SUMMONING | STATUS_SPSUMMON_STEP) || ((pcard->current.reason & REASON_EFFECT) && !pcard->is_affect_by_effect(pcard->current.reason_effect)) || (dest == LOCATION_HAND && !pcard->is_capable_send_to_hand(core.reason_player)) || (dest == LOCATION_DECK && !pcard->is_capable_send_to_deck(core.reason_player, send_activating)) || (dest == LOCATION_REMOVED && !pcard->is_removeable(core.reason_player, pcard->sendto_param.position, reason)) || (dest == LOCATION_GRAVE && !pcard->is_capable_send_to_grave(core.reason_player)) ||
      |                                                                                                                                                                                                                                        ^
src\puzzlepro_core/./operations.cc:4396:314: note: +1
 4396 |         if (!(reason & REASON_RULE) && (pcard->get_status(STATUS_SUMMONING | STATUS_SPSUMMON_STEP) || ((pcard->current.reason & REASON_EFFECT) && !pcard->is_affect_by_effect(pcard->current.reason_effect)) || (dest == LOCATION_HAND && !pcard->is_capable_send_to_hand(core.reason_player)) || (dest == LOCATION_DECK && !pcard->is_capable_send_to_deck(core.reason_player, send_activating)) || (dest == LOCATION_REMOVED && !pcard->is_removeable(core.reason_player, pcard->sendto_param.position, reason)) || (dest == LOCATION_GRAVE && !pcard->is_capable_send_to_grave(core.reason_player)) ||
      |                                                                                                                                                                                                                                                                                                                          ^
src\puzzlepro_core/./operations.cc:4396:416: note: +1
 4396 |         if (!(reason & REASON_RULE) && (pcard->get_status(STATUS_SUMMONING | STATUS_SPSUMMON_STEP) || ((pcard->current.reason & REASON_EFFECT) && !pcard->is_affect_by_effect(pcard->current.reason_effect)) || (dest == LOCATION_HAND && !pcard->is_capable_send_to_hand(core.reason_player)) || (dest == LOCATION_DECK && !pcard->is_capable_send_to_deck(core.reason_player, send_activating)) || (dest == LOCATION_REMOVED && !pcard->is_removeable(core.reason_player, pcard->sendto_param.position, reason)) || (dest == LOCATION_GRAVE && !pcard->is_capable_send_to_grave(core.reason_player)) ||
      |                                                                                                                                                                                                                                                                                                                                                                                                                                ^
src\puzzlepro_core/./operations.cc:4396:527: note: +1
 4396 |         if (!(reason & REASON_RULE) && (pcard->get_status(STATUS_SUMMONING | STATUS_SPSUMMON_STEP) || ((pcard->current.reason & REASON_EFFECT) && !pcard->is_affect_by_effect(pcard->current.reason_effect)) || (dest == LOCATION_HAND && !pcard->is_capable_send_to_hand(core.reason_player)) || (dest == LOCATION_DECK && !pcard->is_capable_send_to_deck(core.reason_player, send_activating)) || (dest == LOCATION_REMOVED && !pcard->is_removeable(core.reason_player, pcard->sendto_param.position, reason)) || (dest == LOCATION_GRAVE && !pcard->is_capable_send_to_grave(core.reason_player)) ||
      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               ^
src\puzzlepro_core/./operations.cc:4397:65: note: +1
 4397 |                                         (dest == LOCATION_EXTRA && !pcard->is_capable_send_to_extra(core.reason_player)))) {
      |                                                                 ^
src\puzzlepro_core/./operations.cc:4403:9: note: +1, nesting level increased to 3
 4403 |         else {
      |         ^
src\puzzlepro_core/./operations.cc:4407:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4407 |       if (reason & REASON_RULE) {
      |       ^
src\puzzlepro_core/./operations.cc:4415:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4415 |       for (auto &pcard : targets->container) {
      |       ^
src\puzzlepro_core/./operations.cc:4421:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4421 |       if (!targets->container.size()) {
      |       ^
src\puzzlepro_core/./operations.cc:4428:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4428 |       for (auto &pcard : targets->container) {
      |       ^
src\puzzlepro_core/./operations.cc:4429:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 4429 |         if ((pcard->current.location & LOCATION_ONFIELD) && !pcard->is_status(STATUS_SUMMON_DISABLED) && !pcard->is_status(STATUS_ACTIVATE_DISABLED)) {
      |         ^
src\puzzlepro_core/./operations.cc:4429:103: note: +1
 4429 |         if ((pcard->current.location & LOCATION_ONFIELD) && !pcard->is_status(STATUS_SUMMON_DISABLED) && !pcard->is_status(STATUS_ACTIVATE_DISABLED)) {
      |                                                                                                       ^
src\puzzlepro_core/./operations.cc:4433:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 4433 |         if ((pcard->current.location & LOCATION_ONFIELD)) {
      |         ^
src\puzzlepro_core/./operations.cc:4434:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 4434 |           if (pcard->current.position & POS_FACEUP) {
      |           ^
src\puzzlepro_core/./operations.cc:4438:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 4438 |             if (pcard->current.location & LOCATION_MZONE) {
      |             ^
src\puzzlepro_core/./operations.cc:4448:11: note: +1, nesting level increased to 4
 4448 |           else {
      |           ^
src\puzzlepro_core/./operations.cc:4463:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 4463 |           for (effect_set::size_type i = 0; i < eset.size(); ++i) {
      |           ^
src\puzzlepro_core/./operations.cc:4468:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4468 |       if (leave_p.size()) {
      |       ^
src\puzzlepro_core/./operations.cc:4478:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4478 |       for (auto &pcard : targets->container) {
      |       ^
src\puzzlepro_core/./operations.cc:4482:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4482 |       for (auto &pcard : targets->container) {
      |       ^
src\puzzlepro_core/./operations.cc:4487:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 4487 |         if ((dest & LOCATION_GRAVE) && pcard->is_affected_by_effect(EFFECT_TO_GRAVE_REDIRECT_CB)) {
      |         ^
src\puzzlepro_core/./operations.cc:4487:37: note: +1
 4487 |         if ((dest & LOCATION_GRAVE) && pcard->is_affected_by_effect(EFFECT_TO_GRAVE_REDIRECT_CB)) {
      |                                     ^
src\puzzlepro_core/./operations.cc:4495:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 4495 |         if ((pcard->current.location & LOCATION_ONFIELD) && !pcard->is_status(STATUS_SUMMON_DISABLED) && !pcard->is_status(STATUS_ACTIVATE_DISABLED)) {
      |         ^
src\puzzlepro_core/./operations.cc:4495:103: note: +1
 4495 |         if ((pcard->current.location & LOCATION_ONFIELD) && !pcard->is_status(STATUS_SUMMON_DISABLED) && !pcard->is_status(STATUS_ACTIVATE_DISABLED)) {
      |                                                                                                       ^
src\puzzlepro_core/./operations.cc:4501:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 4501 |         if (redirect) {
      |         ^
src\puzzlepro_core/./operations.cc:4508:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 4508 |           if (dest == LOCATION_REMOVED) {
      |           ^
src\puzzlepro_core/./operations.cc:4509:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 4509 |             if (pcard->sendto_param.position & POS_FACEDOWN_ATTACK) {
      |             ^
src\puzzlepro_core/./operations.cc:4512:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 4512 |             if (pcard->sendto_param.position & POS_FACEDOWN_DEFENSE) {
      |             ^
src\puzzlepro_core/./operations.cc:4522:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 4522 |         if (redirect) {
      |         ^
src\puzzlepro_core/./operations.cc:4526:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 4526 |         if (redirect && (pcard->current.location != redirect)) {
      |         ^
src\puzzlepro_core/./operations.cc:4526:22: note: +1
 4526 |         if (redirect && (pcard->current.location != redirect)) {
      |                      ^
src\puzzlepro_core/./operations.cc:4534:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 4534 |         if (check_cb) {
      |         ^
src\puzzlepro_core/./operations.cc:4559:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4559 |       if (param->cv.size() > 1) {
      |       ^
src\puzzlepro_core/./operations.cc:4562:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4562 |       if (core.global_flag & GLOBALFLAG_DECK_REVERSE_CHECK) {
      |       ^
src\puzzlepro_core/./operations.cc:4565:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 4565 |         for (auto &pcard : param->cv) {
      |         ^
src\puzzlepro_core/./operations.cc:4566:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 4566 |           if (pcard->current.location != LOCATION_DECK) {
      |           ^
src\puzzlepro_core/./operations.cc:4569:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 4569 |           if ((pcard->current.controler == 0) && (pcard->current.sequence == s0)) {
      |           ^
src\puzzlepro_core/./operations.cc:4569:47: note: +1
 4569 |           if ((pcard->current.controler == 0) && (pcard->current.sequence == s0)) {
      |                                               ^
src\puzzlepro_core/./operations.cc:4572:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 4572 |           if ((pcard->current.controler == 1) && (pcard->current.sequence == s1)) {
      |           ^
src\puzzlepro_core/./operations.cc:4572:47: note: +1
 4572 |           if ((pcard->current.controler == 1) && (pcard->current.sequence == s1)) {
      |                                               ^
src\puzzlepro_core/./operations.cc:4576:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 4576 |         if ((s0 != d0) && (s0 > 0)) {
      |         ^
src\puzzlepro_core/./operations.cc:4576:24: note: +1
 4576 |         if ((s0 != d0) && (s0 > 0)) {
      |                        ^
src\puzzlepro_core/./operations.cc:4578:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 4578 |           if (core.deck_reversed || (ptop->current.position == POS_FACEUP_DEFENSE)) {
      |           ^
src\puzzlepro_core/./operations.cc:4578:34: note: +1
 4578 |           if (core.deck_reversed || (ptop->current.position == POS_FACEUP_DEFENSE)) {
      |                                  ^
src\puzzlepro_core/./operations.cc:4582:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 4582 |             if (ptop->current.position != POS_FACEUP_DEFENSE) {
      |             ^
src\puzzlepro_core/./operations.cc:4585:13: note: +1, nesting level increased to 5
 4585 |             else {
      |             ^
src\puzzlepro_core/./operations.cc:4590:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 4590 |         if ((s1 != d1) && (s1 > 0)) {
      |         ^
src\puzzlepro_core/./operations.cc:4590:24: note: +1
 4590 |         if ((s1 != d1) && (s1 > 0)) {
      |                        ^
src\puzzlepro_core/./operations.cc:4592:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 4592 |           if (core.deck_reversed || (ptop->current.position == POS_FACEUP_DEFENSE)) {
      |           ^
src\puzzlepro_core/./operations.cc:4592:34: note: +1
 4592 |           if (core.deck_reversed || (ptop->current.position == POS_FACEUP_DEFENSE)) {
      |                                  ^
src\puzzlepro_core/./operations.cc:4596:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 4596 |             if (ptop->current.position != POS_FACEUP_DEFENSE) {
      |             ^
src\puzzlepro_core/./operations.cc:4599:13: note: +1, nesting level increased to 5
 4599 |             else {
      |             ^
src\puzzlepro_core/./operations.cc:4610:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4610 |       if (param->cvit == param->cv.end()) {
      |       ^
src\puzzlepro_core/./operations.cc:4617:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4617 |       if (check_cb) {
      |       ^
src\puzzlepro_core/./operations.cc:4621:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4621 |       if (pcard->data.type & TYPE_TOKEN) {
      |       ^
src\puzzlepro_core/./operations.cc:4649:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4649 |       if (param->predirect && get_useable_count(pcard, pcard->current.controler, LOCATION_SZONE, pcard->current.controler, LOCATION_REASON_TOFIELD) > 0) {
      |       ^
src\puzzlepro_core/./operations.cc:4649:28: note: +1
 4649 |       if (param->predirect && get_useable_count(pcard, pcard->current.controler, LOCATION_SZONE, pcard->current.controler, LOCATION_REASON_TOFIELD) > 0) {
      |                            ^
src\puzzlepro_core/./operations.cc:4652:7: note: +1, nesting level increased to 2
 4652 |       else {
      |       ^
src\puzzlepro_core/./operations.cc:4658:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4658 |       if (returns.ivalue[0]) {
      |       ^
src\puzzlepro_core/./operations.cc:4667:54: note: +2, including nesting penalty of 1, nesting level increased to 2
 4667 |       uint8_t control_player = pcard->overlay_target ? pcard->overlay_target->current.controler : pcard->current.controler;
      |                                                      ^
src\puzzlepro_core/./operations.cc:4668:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4668 |       if (dest == LOCATION_GRAVE) {
      |       ^
src\puzzlepro_core/./operations.cc:4671:12: note: +1, nesting level increased to 2
 4671 |       else if (dest == LOCATION_HAND) {
      |            ^
src\puzzlepro_core/./operations.cc:4675:12: note: +1, nesting level increased to 2
 4675 |       else if (dest == LOCATION_DECK) {
      |            ^
src\puzzlepro_core/./operations.cc:4679:12: note: +1, nesting level increased to 2
 4679 |       else if (dest == LOCATION_REMOVED) {
      |            ^
src\puzzlepro_core/./operations.cc:4682:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4682 |       if (pcard->current.controler != playerid || pcard->current.location != dest) {
      |       ^
src\puzzlepro_core/./operations.cc:4682:48: note: +1
 4682 |       if (pcard->current.controler != playerid || pcard->current.location != dest) {
      |                                                ^
src\puzzlepro_core/./operations.cc:4686:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 4686 |         if (pcard->overlay_target) {
      |         ^
src\puzzlepro_core/./operations.cc:4695:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4695 |       if ((core.deck_reversed && pcard->current.location == LOCATION_DECK) || (pcard->current.position == POS_FACEUP_DEFENSE)) {
      |       ^
src\puzzlepro_core/./operations.cc:4695:76: note: +1
 4695 |       if ((core.deck_reversed && pcard->current.location == LOCATION_DECK) || (pcard->current.position == POS_FACEUP_DEFENSE)) {
      |                                                                            ^
src\puzzlepro_core/./operations.cc:4695:31: note: +1
 4695 |       if ((core.deck_reversed && pcard->current.location == LOCATION_DECK) || (pcard->current.position == POS_FACEUP_DEFENSE)) {
      |                               ^
src\puzzlepro_core/./operations.cc:4701:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4701 |       if (pcard->status & (STATUS_SUMMON_DISABLED | STATUS_ACTIVATE_DISABLED)) {
      |       ^
src\puzzlepro_core/./operations.cc:4705:12: note: +1, nesting level increased to 2
 4705 |       else if (oloc & LOCATION_ONFIELD) {
      |            ^
src\puzzlepro_core/./operations.cc:4709:12: note: +1, nesting level increased to 2
 4709 |       else if (oloc == LOCATION_GRAVE) {
      |            ^
src\puzzlepro_core/./operations.cc:4712:12: note: +1, nesting level increased to 2
 4712 |       else if (oloc == LOCATION_DECK || oloc == LOCATION_EXTRA) {
      |            ^
src\puzzlepro_core/./operations.cc:4712:38: note: +1
 4712 |       else if (oloc == LOCATION_DECK || oloc == LOCATION_EXTRA) {
      |                                      ^
src\puzzlepro_core/./operations.cc:4715:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4715 |       if (pcard->previous.location == LOCATION_OVERLAY) {
      |       ^
src\puzzlepro_core/./operations.cc:4744:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4744 |       if (pcard->overlay_target) {
      |       ^
src\puzzlepro_core/./operations.cc:4755:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4755 |       if (pcard->status & (STATUS_SUMMON_DISABLED | STATUS_ACTIVATE_DISABLED)) {
      |       ^
src\puzzlepro_core/./operations.cc:4759:12: note: +1, nesting level increased to 2
 4759 |       else if (oloc & LOCATION_ONFIELD) {
      |            ^
src\puzzlepro_core/./operations.cc:4764:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4764 |       if (param->predirect->operation) {
      |       ^
src\puzzlepro_core/./operations.cc:4782:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4782 |       if (core.global_flag & GLOBALFLAG_DECK_REVERSE_CHECK) {
      |       ^
src\puzzlepro_core/./operations.cc:4783:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 4783 |         if (param->show_decktop[0]) {
      |         ^
src\puzzlepro_core/./operations.cc:4788:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 4788 |           if (ptop->current.position != POS_FACEUP_DEFENSE) {
      |           ^
src\puzzlepro_core/./operations.cc:4791:11: note: +1, nesting level increased to 4
 4791 |           else {
      |           ^
src\puzzlepro_core/./operations.cc:4795:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 4795 |         if (param->show_decktop[1]) {
      |         ^
src\puzzlepro_core/./operations.cc:4800:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 4800 |           if (ptop->current.position != POS_FACEUP_DEFENSE) {
      |           ^
src\puzzlepro_core/./operations.cc:4803:11: note: +1, nesting level increased to 4
 4803 |           else {
      |           ^
src\puzzlepro_core/./operations.cc:4808:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4808 |       for (auto &pcard : param->targets->container) {
      |       ^
src\puzzlepro_core/./operations.cc:4809:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 4809 |         if (!(pcard->data.type & TYPE_TOKEN)) {
      |         ^
src\puzzlepro_core/./operations.cc:4813:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 4813 |         if (nloc == LOCATION_HAND) {
      |         ^
src\puzzlepro_core/./operations.cc:4816:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 4816 |         if (nloc == LOCATION_DECK || nloc == LOCATION_EXTRA) {
      |         ^
src\puzzlepro_core/./operations.cc:4816:35: note: +1
 4816 |         if (nloc == LOCATION_DECK || nloc == LOCATION_EXTRA) {
      |                                   ^
src\puzzlepro_core/./operations.cc:4819:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 4819 |         if (nloc == LOCATION_GRAVE) {
      |         ^
src\puzzlepro_core/./operations.cc:4822:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 4822 |         if (nloc == LOCATION_REMOVED || ((pcard->data.type & TYPE_TOKEN) && pcard->sendto_param.location == LOCATION_REMOVED)) {
      |         ^
src\puzzlepro_core/./operations.cc:4822:38: note: +1
 4822 |         if (nloc == LOCATION_REMOVED || ((pcard->data.type & TYPE_TOKEN) && pcard->sendto_param.location == LOCATION_REMOVED)) {
      |                                      ^
src\puzzlepro_core/./operations.cc:4822:74: note: +1
 4822 |         if (nloc == LOCATION_REMOVED || ((pcard->data.type & TYPE_TOKEN) && pcard->sendto_param.location == LOCATION_REMOVED)) {
      |                                                                          ^
src\puzzlepro_core/./operations.cc:4823:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 4823 |           if (pcard->current.reason & REASON_TEMPORARY) {
      |           ^
src\puzzlepro_core/./operations.cc:4826:11: note: +1, nesting level increased to 4
 4826 |           else {
      |           ^
src\puzzlepro_core/./operations.cc:4832:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4832 |       for (auto &pcard : param->leave_field) {
      |       ^
src\puzzlepro_core/./operations.cc:4835:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4835 |       for (auto &pcard : param->leave_grave) {
      |       ^
src\puzzlepro_core/./operations.cc:4838:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4838 |       for (auto &pcard : param->leave_deck) {
      |       ^
src\puzzlepro_core/./operations.cc:4841:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4841 |       if ((core.global_flag & GLOBALFLAG_DETACH_EVENT) && param->detach.size()) {
      |       ^
src\puzzlepro_core/./operations.cc:4841:56: note: +1
 4841 |       if ((core.global_flag & GLOBALFLAG_DETACH_EVENT) && param->detach.size()) {
      |                                                        ^
src\puzzlepro_core/./operations.cc:4842:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 4842 |         for (auto &pcard : param->detach) {
      |         ^
src\puzzlepro_core/./operations.cc:4843:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 4843 |           if (pcard->current.location & LOCATION_MZONE) {
      |           ^
src\puzzlepro_core/./operations.cc:4849:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4849 |       if (param->leave_field.size()) {
      |       ^
src\puzzlepro_core/./operations.cc:4852:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4852 |       if (param->leave_grave.size()) {
      |       ^
src\puzzlepro_core/./operations.cc:4855:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4855 |       if (param->leave_deck.size()) {
      |       ^
src\puzzlepro_core/./operations.cc:4858:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4858 |       if ((core.global_flag & GLOBALFLAG_DETACH_EVENT) && param->detach.size()) {
      |       ^
src\puzzlepro_core/./operations.cc:4858:56: note: +1
 4858 |       if ((core.global_flag & GLOBALFLAG_DETACH_EVENT) && param->detach.size()) {
      |                                                        ^
src\puzzlepro_core/./operations.cc:4872:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4872 |       for (auto &pcard : targets->container) {
      |       ^
src\puzzlepro_core/./operations.cc:4875:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 4875 |         if (pcard->equiping_target && !cb_redirected) {
      |         ^
src\puzzlepro_core/./operations.cc:4875:36: note: +1
 4875 |         if (pcard->equiping_target && !cb_redirected) {
      |                                    ^
src\puzzlepro_core/./operations.cc:4878:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 4878 |         if (pcard->equiping_cards.size()) {
      |         ^
src\puzzlepro_core/./operations.cc:4879:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 4879 |           for (auto csit = pcard->equiping_cards.begin(); csit != pcard->equiping_cards.end();) {
      |           ^
src\puzzlepro_core/./operations.cc:4882:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 4882 |             if (equipc->current.location == LOCATION_SZONE) {
      |             ^
src\puzzlepro_core/./operations.cc:4888:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 4888 |         if (nloc == LOCATION_HAND) {
      |         ^
src\puzzlepro_core/./operations.cc:4889:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 4889 |           if (pcard->owner != pcard->current.controler) {
      |           ^
src\puzzlepro_core/./operations.cc:4902:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 4902 |         if (nloc == LOCATION_DECK || nloc == LOCATION_EXTRA) {
      |         ^
src\puzzlepro_core/./operations.cc:4902:35: note: +1
 4902 |         if (nloc == LOCATION_DECK || nloc == LOCATION_EXTRA) {
      |                                   ^
src\puzzlepro_core/./operations.cc:4906:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 4906 |         if (nloc == LOCATION_GRAVE && !(pcard->current.reason & REASON_RETURN)) {
      |         ^
src\puzzlepro_core/./operations.cc:4906:36: note: +1
 4906 |         if (nloc == LOCATION_GRAVE && !(pcard->current.reason & REASON_RETURN)) {
      |                                    ^
src\puzzlepro_core/./operations.cc:4910:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 4910 |         if (nloc == LOCATION_REMOVED) {
      |         ^
src\puzzlepro_core/./operations.cc:4914:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 4914 |         if (pcard->current.reason & REASON_DISCARD) {
      |         ^
src\puzzlepro_core/./operations.cc:4918:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 4918 |         if (pcard->current.reason & REASON_RELEASE) {
      |         ^
src\puzzlepro_core/./operations.cc:4923:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 4923 |         if (pcard->current.reason & REASON_DESTROY && !(pcard->current.reason & REASON_BATTLE)) {
      |         ^
src\puzzlepro_core/./operations.cc:4923:52: note: +1
 4923 |         if (pcard->current.reason & REASON_DESTROY && !(pcard->current.reason & REASON_BATTLE)) {
      |                                                    ^
src\puzzlepro_core/./operations.cc:4927:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 4927 |         if (pcard->xyz_materials.size()) {
      |         ^
src\puzzlepro_core/./operations.cc:4929:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 4929 |           for (auto &mcard : pcard->xyz_materials) {
      |           ^
src\puzzlepro_core/./operations.cc:4933:9: note: +1, nesting level increased to 3
 4933 |         else {
      |         ^
src\puzzlepro_core/./operations.cc:4938:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4938 |       if (tohand.size()) {
      |       ^
src\puzzlepro_core/./operations.cc:4941:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4941 |       if (todeck.size()) {
      |       ^
src\puzzlepro_core/./operations.cc:4944:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4944 |       if (tograve.size()) {
      |       ^
src\puzzlepro_core/./operations.cc:4947:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4947 |       if (remove.size()) {
      |       ^
src\puzzlepro_core/./operations.cc:4950:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4950 |       if (discard.size()) {
      |       ^
src\puzzlepro_core/./operations.cc:4953:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4953 |       if (released.size()) {
      |       ^
src\puzzlepro_core/./operations.cc:4956:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4956 |       if (destroyed.size()) {
      |       ^
src\puzzlepro_core/./operations.cc:4962:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4962 |       if (equipings.size()) {
      |       ^
src\puzzlepro_core/./operations.cc:4965:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4965 |       if (overlays.size()) {
      |       ^
src\puzzlepro_core/./operations.cc:4982:16: warning: function 'discard_deck' has cognitive complexity of 60 (threshold 25) [readability-function-cognitive-complexity]
 4982 | int32_t field::discard_deck(uint16_t step, uint8_t playerid, uint8_t count, uint32_t reason) {
      |                ^
src\puzzlepro_core/./operations.cc:4983:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 4983 |   switch (step) {
      |   ^
src\puzzlepro_core/./operations.cc:4985:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4985 |       if (is_player_affected_by_effect(playerid, EFFECT_CANNOT_DISCARD_DECK)) {
      |       ^
src\puzzlepro_core/./operations.cc:4991:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4991 |       for (auto cit = player[playerid].list_main.rbegin(); i < count && cit != player[playerid].list_main.rend(); ++cit, ++i) {
      |       ^
src\puzzlepro_core/./operations.cc:4991:70: note: +1
 4991 |       for (auto cit = player[playerid].list_main.rbegin(); i < count && cit != player[playerid].list_main.rend(); ++cit, ++i) {
      |                                                                      ^
src\puzzlepro_core/./operations.cc:4998:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 4998 |         if (redirect) {
      |         ^
src\puzzlepro_core/./operations.cc:5002:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5002 |       if (core.global_flag & GLOBALFLAG_DECK_REVERSE_CHECK) {
      |       ^
src\puzzlepro_core/./operations.cc:5003:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5003 |         if (player[playerid].list_main.size() > count) {
      |         ^
src\puzzlepro_core/./operations.cc:5005:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 5005 |           if (core.deck_reversed || (ptop->current.position == POS_FACEUP_DEFENSE)) {
      |           ^
src\puzzlepro_core/./operations.cc:5005:34: note: +1
 5005 |           if (core.deck_reversed || (ptop->current.position == POS_FACEUP_DEFENSE)) {
      |                                  ^
src\puzzlepro_core/./operations.cc:5009:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 5009 |             if (ptop->current.position != POS_FACEUP_DEFENSE) {
      |             ^
src\puzzlepro_core/./operations.cc:5012:13: note: +1, nesting level increased to 5
 5012 |             else {
      |             ^
src\puzzlepro_core/./operations.cc:5023:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5023 |       for (int32_t i = 0; i < count; ++i) {
      |       ^
src\puzzlepro_core/./operations.cc:5024:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5024 |         if (player[playerid].list_main.size() == 0) {
      |         ^
src\puzzlepro_core/./operations.cc:5029:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5029 |         if (dest == LOCATION_GRAVE) {
      |         ^
src\puzzlepro_core/./operations.cc:5032:14: note: +1, nesting level increased to 3
 5032 |         else if (dest == LOCATION_HAND) {
      |              ^
src\puzzlepro_core/./operations.cc:5036:14: note: +1, nesting level increased to 3
 5036 |         else if (dest == LOCATION_DECK) {
      |              ^
src\puzzlepro_core/./operations.cc:5040:14: note: +1, nesting level increased to 3
 5040 |         else if (dest == LOCATION_REMOVED) {
      |              ^
src\puzzlepro_core/./operations.cc:5041:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 5041 |           if (pcard->current.reason & REASON_TEMPORARY) {
      |           ^
src\puzzlepro_core/./operations.cc:5044:11: note: +1, nesting level increased to 4
 5044 |           else {
      |           ^
src\puzzlepro_core/./operations.cc:5072:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5072 |         if (dest == LOCATION_HAND) {
      |         ^
src\puzzlepro_core/./operations.cc:5073:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 5073 |           if (pcard->owner != pcard->current.controler) {
      |           ^
src\puzzlepro_core/./operations.cc:5086:14: note: +1, nesting level increased to 3
 5086 |         else if (dest == LOCATION_DECK || dest == LOCATION_EXTRA) {
      |              ^
src\puzzlepro_core/./operations.cc:5086:40: note: +1
 5086 |         else if (dest == LOCATION_DECK || dest == LOCATION_EXTRA) {
      |                                        ^
src\puzzlepro_core/./operations.cc:5090:14: note: +1, nesting level increased to 3
 5090 |         else if (dest == LOCATION_GRAVE) {
      |              ^
src\puzzlepro_core/./operations.cc:5094:14: note: +1, nesting level increased to 3
 5094 |         else if (dest == LOCATION_REMOVED) {
      |              ^
src\puzzlepro_core/./operations.cc:5101:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5101 |       if (tohand.size()) {
      |       ^
src\puzzlepro_core/./operations.cc:5104:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5104 |       if (todeck.size()) {
      |       ^
src\puzzlepro_core/./operations.cc:5107:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5107 |       if (tograve.size()) {
      |       ^
src\puzzlepro_core/./operations.cc:5110:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5110 |       if (remove.size()) {
      |       ^
src\puzzlepro_core/./operations.cc:5133:16: warning: function 'move_to_field' has cognitive complexity of 213 (threshold 25) [readability-function-cognitive-complexity]
 5133 | int32_t field::move_to_field(uint16_t step, card *target, uint32_t enable, uint32_t ret, uint32_t pzone, uint32_t zone) {
      |                ^
src\puzzlepro_core/./operations.cc:5138:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 5138 |   switch (step) {
      |   ^
src\puzzlepro_core/./operations.cc:5141:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5141 |       if ((ret == RETURN_TEMP_REMOVE_TO_FIELD) && (!(target->current.reason & REASON_TEMPORARY) || (target->current.reason_effect->owner != core.reason_effect->owner))) {
      |       ^
src\puzzlepro_core/./operations.cc:5141:48: note: +1
 5141 |       if ((ret == RETURN_TEMP_REMOVE_TO_FIELD) && (!(target->current.reason & REASON_TEMPORARY) || (target->current.reason_effect->owner != core.reason_effect->owner))) {
      |                                                ^
src\puzzlepro_core/./operations.cc:5141:97: note: +1
 5141 |       if ((ret == RETURN_TEMP_REMOVE_TO_FIELD) && (!(target->current.reason & REASON_TEMPORARY) || (target->current.reason_effect->owner != core.reason_effect->owner))) {
      |                                                                                                 ^
src\puzzlepro_core/./operations.cc:5144:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5144 |       if (location == LOCATION_SZONE && zone == 0x1U << 5 && (target->data.type & TYPE_FIELD) && (target->data.type & TYPE_SPELL)) {
      |       ^
src\puzzlepro_core/./operations.cc:5144:95: note: +1
 5144 |       if (location == LOCATION_SZONE && zone == 0x1U << 5 && (target->data.type & TYPE_FIELD) && (target->data.type & TYPE_SPELL)) {
      |                                                                                               ^
src\puzzlepro_core/./operations.cc:5146:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5146 |         if (pcard) {
      |         ^
src\puzzlepro_core/./operations.cc:5147:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 5147 |           if (core.duel_rule >= 3) {
      |           ^
src\puzzlepro_core/./operations.cc:5150:11: note: +1, nesting level increased to 4
 5150 |           else {
      |           ^
src\puzzlepro_core/./operations.cc:5156:12: note: +1, nesting level increased to 2
 5156 |       else if (pzone && location == LOCATION_SZONE && (target->data.type & TYPE_PENDULUM)) {
      |            ^
src\puzzlepro_core/./operations.cc:5156:52: note: +1
 5156 |       else if (pzone && location == LOCATION_SZONE && (target->data.type & TYPE_PENDULUM)) {
      |                                                    ^
src\puzzlepro_core/./operations.cc:5159:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5159 |         if (!zone) {
      |         ^
src\puzzlepro_core/./operations.cc:5162:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5162 |         if (is_location_useable(playerid, LOCATION_PZONE, 0) && (zone & 0x1)) {
      |         ^
src\puzzlepro_core/./operations.cc:5162:62: note: +1
 5162 |         if (is_location_useable(playerid, LOCATION_PZONE, 0) && (zone & 0x1)) {
      |                                                              ^
src\puzzlepro_core/./operations.cc:5165:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5165 |         if (is_location_useable(playerid, LOCATION_PZONE, 1) && (zone & 0x2)) {
      |         ^
src\puzzlepro_core/./operations.cc:5165:62: note: +1
 5165 |         if (is_location_useable(playerid, LOCATION_PZONE, 1) && (zone & 0x2)) {
      |                                                              ^
src\puzzlepro_core/./operations.cc:5168:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5168 |         if (!flag) {
      |         ^
src\puzzlepro_core/./operations.cc:5170:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 5170 |           if (target->current.location != LOCATION_GRAVE) {
      |           ^
src\puzzlepro_core/./operations.cc:5175:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5175 |         if (move_player != playerid) {
      |         ^
src\puzzlepro_core/./operations.cc:5185:7: note: +1, nesting level increased to 2
 5185 |       else {
      |       ^
src\puzzlepro_core/./operations.cc:5187:73: note: +3, including nesting penalty of 2, nesting level increased to 3
 5187 |         uint32_t lreason = (target->current.location == LOCATION_MZONE) ? LOCATION_REASON_CONTROL : LOCATION_REASON_TOFIELD;
      |                                                                         ^
src\puzzlepro_core/./operations.cc:5189:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5189 |         if ((ret == RETURN_TEMP_REMOVE_TO_FIELD) && (ct <= 0 || target->is_status(STATUS_FORBIDDEN) || !(positions & POS_FACEDOWN) && check_unique_onfield(target, playerid, location))) {
      |         ^
src\puzzlepro_core/./operations.cc:5189:50: note: +1
 5189 |         if ((ret == RETURN_TEMP_REMOVE_TO_FIELD) && (ct <= 0 || target->is_status(STATUS_FORBIDDEN) || !(positions & POS_FACEDOWN) && check_unique_onfield(target, playerid, location))) {
      |                                                  ^
src\puzzlepro_core/./operations.cc:5189:101: note: +1
 5189 |         if ((ret == RETURN_TEMP_REMOVE_TO_FIELD) && (ct <= 0 || target->is_status(STATUS_FORBIDDEN) || !(positions & POS_FACEDOWN) && check_unique_onfield(target, playerid, location))) {
      |                                                                                                     ^
src\puzzlepro_core/./operations.cc:5189:132: note: +1
 5189 |         if ((ret == RETURN_TEMP_REMOVE_TO_FIELD) && (ct <= 0 || target->is_status(STATUS_FORBIDDEN) || !(positions & POS_FACEDOWN) && check_unique_onfield(target, playerid, location))) {
      |                                                                                                                                    ^
src\puzzlepro_core/./operations.cc:5194:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5194 |         if (ct <= 0) {
      |         ^
src\puzzlepro_core/./operations.cc:5196:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 5196 |           if (target->current.location != LOCATION_GRAVE) {
      |           ^
src\puzzlepro_core/./operations.cc:5201:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5201 |         if ((zone & zone - 1) == 0) {
      |         ^
src\puzzlepro_core/./operations.cc:5202:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 5202 |           for (uint8_t seq = 0; seq < 8; ++seq) {
      |           ^
src\puzzlepro_core/./operations.cc:5203:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 5203 |             if ((0x1U << seq) & zone) {
      |             ^
src\puzzlepro_core/./operations.cc:5209:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5209 |         if (ret == RETURN_TRAP_MONSTER_TO_SZONE && core.duel_rule <= 4) {
      |         ^
src\puzzlepro_core/./operations.cc:5209:49: note: +1
 5209 |         if (ret == RETURN_TRAP_MONSTER_TO_SZONE && core.duel_rule <= 4) {
      |                                                 ^
src\puzzlepro_core/./operations.cc:5213:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5213 |         if (move_player == playerid) {
      |         ^
src\puzzlepro_core/./operations.cc:5214:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 5214 |           if (location == LOCATION_SZONE) {
      |           ^
src\puzzlepro_core/./operations.cc:5217:11: note: +1, nesting level increased to 4
 5217 |           else {
      |           ^
src\puzzlepro_core/./operations.cc:5221:9: note: +1, nesting level increased to 3
 5221 |         else {
      |         ^
src\puzzlepro_core/./operations.cc:5222:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 5222 |           if (location == LOCATION_SZONE) {
      |           ^
src\puzzlepro_core/./operations.cc:5225:11: note: +1, nesting level increased to 4
 5225 |           else {
      |           ^
src\puzzlepro_core/./operations.cc:5240:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5240 |       if (location == LOCATION_SZONE && zone == 0x1U << 5 && (target->data.type & TYPE_FIELD) && (target->data.type & TYPE_SPELL)) {
      |       ^
src\puzzlepro_core/./operations.cc:5240:95: note: +1
 5240 |       if (location == LOCATION_SZONE && zone == 0x1U << 5 && (target->data.type & TYPE_FIELD) && (target->data.type & TYPE_SPELL)) {
      |                                                                                               ^
src\puzzlepro_core/./operations.cc:5243:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5243 |       if (ret != RETURN_TEMP_REMOVE_TO_FIELD) {
      |       ^
src\puzzlepro_core/./operations.cc:5244:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5244 |         if (location != target->current.location) {
      |         ^
src\puzzlepro_core/./operations.cc:5246:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 5246 |           if (location & LOCATION_ONFIELD) {
      |           ^
src\puzzlepro_core/./operations.cc:5249:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 5249 |           if (target->current.location & LOCATION_ONFIELD) {
      |           ^
src\puzzlepro_core/./operations.cc:5253:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 5253 |           if ((location & LOCATION_ONFIELD) && (target->current.location & LOCATION_ONFIELD) && !(peffect && (peffect->value & TYPE_TRAP)) && ret != 2) {
      |           ^
src\puzzlepro_core/./operations.cc:5253:140: note: +1
 5253 |           if ((location & LOCATION_ONFIELD) && (target->current.location & LOCATION_ONFIELD) && !(peffect && (peffect->value & TYPE_TRAP)) && ret != 2) {
      |                                                                                                                                            ^
src\puzzlepro_core/./operations.cc:5260:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5260 |       if (!(target->current.location & LOCATION_ONFIELD)) {
      |       ^
src\puzzlepro_core/./operations.cc:5263:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5263 |       if (ret == RETURN_TEMP_REMOVE_TO_FIELD) {
      |       ^
src\puzzlepro_core/./operations.cc:5266:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5266 |       if (ret == 0 && location != target->current.location || ret == RETURN_TEMP_REMOVE_TO_FIELD) {
      |       ^
src\puzzlepro_core/./operations.cc:5266:60: note: +1
 5266 |       if (ret == 0 && location != target->current.location || ret == RETURN_TEMP_REMOVE_TO_FIELD) {
      |                                                            ^
src\puzzlepro_core/./operations.cc:5266:20: note: +1
 5266 |       if (ret == 0 && location != target->current.location || ret == RETURN_TEMP_REMOVE_TO_FIELD) {
      |                    ^
src\puzzlepro_core/./operations.cc:5274:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5274 |       if (location != LOCATION_MZONE) {
      |       ^
src\puzzlepro_core/./operations.cc:5278:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5278 |       if (target->data.type & TYPE_LINK) {
      |       ^
src\puzzlepro_core/./operations.cc:5286:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5286 |       if (core.global_flag & GLOBALFLAG_DECK_REVERSE_CHECK) {
      |       ^
src\puzzlepro_core/./operations.cc:5287:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5287 |         if (target->current.location == LOCATION_DECK) {
      |         ^
src\puzzlepro_core/./operations.cc:5290:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 5290 |           if (curs > 0 && (curs == player[curp].list_main.size() - 1)) {
      |           ^
src\puzzlepro_core/./operations.cc:5290:24: note: +1
 5290 |           if (curs > 0 && (curs == player[curp].list_main.size() - 1)) {
      |                        ^
src\puzzlepro_core/./operations.cc:5292:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 5292 |             if (core.deck_reversed || (ptop->current.position == POS_FACEUP_DEFENSE)) {
      |             ^
src\puzzlepro_core/./operations.cc:5292:36: note: +1
 5292 |             if (core.deck_reversed || (ptop->current.position == POS_FACEUP_DEFENSE)) {
      |                                    ^
src\puzzlepro_core/./operations.cc:5296:15: note: +6, including nesting penalty of 5, nesting level increased to 6
 5296 |               if (ptop->current.position != POS_FACEUP_DEFENSE) {
      |               ^
src\puzzlepro_core/./operations.cc:5299:15: note: +1, nesting level increased to 6
 5299 |               else {
      |               ^
src\puzzlepro_core/./operations.cc:5309:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5309 |       if (target->overlay_target) {
      |       ^
src\puzzlepro_core/./operations.cc:5317:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5317 |       if (target->current.location != LOCATION_MZONE) {
      |       ^
src\puzzlepro_core/./operations.cc:5318:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5318 |         if (target->equiping_cards.size()) {
      |         ^
src\puzzlepro_core/./operations.cc:5320:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 5320 |           for (auto csit = target->equiping_cards.begin(); csit != target->equiping_cards.end();) {
      |           ^
src\puzzlepro_core/./operations.cc:5325:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5325 |         if (target->xyz_materials.size()) {
      |         ^
src\puzzlepro_core/./operations.cc:5330:9: note: +1, nesting level increased to 3
 5330 |         else {
      |         ^
src\puzzlepro_core/./operations.cc:5334:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5334 |       if ((target->previous.location == LOCATION_SZONE) && target->equiping_target) {
      |       ^
src\puzzlepro_core/./operations.cc:5334:57: note: +1
 5334 |       if ((target->previous.location == LOCATION_SZONE) && target->equiping_target) {
      |                                                         ^
src\puzzlepro_core/./operations.cc:5337:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5337 |       if (target->current.location == LOCATION_MZONE) {
      |       ^
src\puzzlepro_core/./operations.cc:5342:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5342 |         for (effect_set::size_type i = 0; i < eset.size(); i++) {
      |         ^
src\puzzlepro_core/./operations.cc:5344:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 5344 |           if (peffect->is_flag(EFFECT_FLAG_COUNT_LIMIT) && peffect->count_limit == 0) {
      |           ^
src\puzzlepro_core/./operations.cc:5344:57: note: +1
 5344 |           if (peffect->is_flag(EFFECT_FLAG_COUNT_LIMIT) && peffect->count_limit == 0) {
      |                                                         ^
src\puzzlepro_core/./operations.cc:5348:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 5348 |           if (peffect->is_flag(EFFECT_FLAG_PLAYER_TARGET)) {
      |           ^
src\puzzlepro_core/./operations.cc:5351:11: note: +1, nesting level increased to 4
 5351 |           else {
      |           ^
src\puzzlepro_core/./operations.cc:5352:77: note: +5, including nesting penalty of 4, nesting level increased to 5
 5352 |             uint32_t lreason = (target->current.location == LOCATION_MZONE) ? LOCATION_REASON_CONTROL : LOCATION_REASON_TOFIELD;
      |                                                                             ^
src\puzzlepro_core/./operations.cc:5358:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 5358 |           if (peffect->get_handler_player() != target->current.controler) {
      |           ^
src\puzzlepro_core/./operations.cc:5361:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 5361 |           if (value & (0x1U << target->current.sequence)) {
      |           ^
src\puzzlepro_core/./operations.cc:5365:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5365 |         if (effect *teffect = target->is_affected_by_effect(EFFECT_PRE_MONSTER)) {
      |         ^
src\puzzlepro_core/./operations.cc:5367:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 5367 |           if (type & TYPE_TRAP) {
      |           ^
src\puzzlepro_core/./operations.cc:5379:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 5379 |           if (core.duel_rule <= NEW_MASTER_RULE && (type & TYPE_TRAPMONSTER)) {
      |           ^
src\puzzlepro_core/./operations.cc:5379:49: note: +1
 5379 |           if (core.duel_rule <= NEW_MASTER_RULE && (type & TYPE_TRAPMONSTER)) {
      |                                                 ^
src\puzzlepro_core/./operations.cc:5392:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5392 |       if (enable || ((ret == RETURN_TEMP_REMOVE_TO_FIELD) && target->is_position(POS_FACEUP))) {
      |       ^
src\puzzlepro_core/./operations.cc:5392:18: note: +1
 5392 |       if (enable || ((ret == RETURN_TEMP_REMOVE_TO_FIELD) && target->is_position(POS_FACEUP))) {
      |                  ^
src\puzzlepro_core/./operations.cc:5392:59: note: +1
 5392 |       if (enable || ((ret == RETURN_TEMP_REMOVE_TO_FIELD) && target->is_position(POS_FACEUP))) {
      |                                                           ^
src\puzzlepro_core/./operations.cc:5395:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5395 |       if (ret == RETURN_TEMP_REMOVE_TO_FIELD && target->current.location == LOCATION_MZONE && !(target->data.type & TYPE_MONSTER)) {
      |       ^
src\puzzlepro_core/./operations.cc:5395:92: note: +1
 5395 |       if (ret == RETURN_TEMP_REMOVE_TO_FIELD && target->current.location == LOCATION_MZONE && !(target->data.type & TYPE_MONSTER)) {
      |                                                                                            ^
src\puzzlepro_core/./operations.cc:5398:7: note: +1, nesting level increased to 2
 5398 |       else {
      |       ^
src\puzzlepro_core/./operations.cc:5399:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5399 |         if (target->previous.location == LOCATION_GRAVE) {
      |         ^
src\puzzlepro_core/./operations.cc:5403:14: note: +1, nesting level increased to 3
 5403 |         else if (target->previous.location == LOCATION_DECK || target->previous.location == LOCATION_EXTRA) {
      |              ^
src\puzzlepro_core/./operations.cc:5403:61: note: +1
 5403 |         else if (target->previous.location == LOCATION_DECK || target->previous.location == LOCATION_EXTRA) {
      |                                                             ^
src\puzzlepro_core/./operations.cc:5427:16: warning: function 'change_position' has cognitive complexity of 130 (threshold 25) [readability-function-cognitive-complexity]
 5427 | int32_t field::change_position(uint16_t step, group *targets, effect *reason_effect, uint8_t reason_player, uint32_t enable) {
      |                ^
src\puzzlepro_core/./operations.cc:5428:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 5428 |   switch (step) {
      |   ^
src\puzzlepro_core/./operations.cc:5430:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5430 |       for (auto cit = targets->container.begin(); cit != targets->container.end();) {
      |       ^
src\puzzlepro_core/./operations.cc:5434:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5434 |         if ((pcard->current.location != LOCATION_MZONE && pcard->current.location != LOCATION_SZONE) || (pcard->data.type & TYPE_LINK) || pcard->get_status(STATUS_SUMMONING | STATUS_SPSUMMON_STEP) || !pcard->is_affect_by_effect(reason_effect) || npos == opos || (!(pcard->data.type & TYPE_TOKEN) && (opos & POS_FACEUP) && (npos & POS_FACEDOWN) && !pcard->is_capable_turn_set(reason_player)) || (reason_effect && pcard->is_affected_by_effect(EFFECT_CANNOT_CHANGE_POS_E))) {
      |         ^
src\puzzlepro_core/./operations.cc:5434:392: note: +1
 5434 |         if ((pcard->current.location != LOCATION_MZONE && pcard->current.location != LOCATION_SZONE) || (pcard->data.type & TYPE_LINK) || pcard->get_status(STATUS_SUMMONING | STATUS_SPSUMMON_STEP) || !pcard->is_affect_by_effect(reason_effect) || npos == opos || (!(pcard->data.type & TYPE_TOKEN) && (opos & POS_FACEUP) && (npos & POS_FACEDOWN) && !pcard->is_capable_turn_set(reason_player)) || (reason_effect && pcard->is_affected_by_effect(EFFECT_CANNOT_CHANGE_POS_E))) {
      |                                                                                                                                                                                                                                                                                                                                                                                                        ^
src\puzzlepro_core/./operations.cc:5434:56: note: +1
 5434 |         if ((pcard->current.location != LOCATION_MZONE && pcard->current.location != LOCATION_SZONE) || (pcard->data.type & TYPE_LINK) || pcard->get_status(STATUS_SUMMONING | STATUS_SPSUMMON_STEP) || !pcard->is_affect_by_effect(reason_effect) || npos == opos || (!(pcard->data.type & TYPE_TOKEN) && (opos & POS_FACEUP) && (npos & POS_FACEDOWN) && !pcard->is_capable_turn_set(reason_player)) || (reason_effect && pcard->is_affected_by_effect(EFFECT_CANNOT_CHANGE_POS_E))) {
      |                                                        ^
src\puzzlepro_core/./operations.cc:5434:345: note: +1
 5434 |         if ((pcard->current.location != LOCATION_MZONE && pcard->current.location != LOCATION_SZONE) || (pcard->data.type & TYPE_LINK) || pcard->get_status(STATUS_SUMMONING | STATUS_SPSUMMON_STEP) || !pcard->is_affect_by_effect(reason_effect) || npos == opos || (!(pcard->data.type & TYPE_TOKEN) && (opos & POS_FACEUP) && (npos & POS_FACEDOWN) && !pcard->is_capable_turn_set(reason_player)) || (reason_effect && pcard->is_affected_by_effect(EFFECT_CANNOT_CHANGE_POS_E))) {
      |                                                                                                                                                                                                                                                                                                                                                         ^
src\puzzlepro_core/./operations.cc:5434:410: note: +1
 5434 |         if ((pcard->current.location != LOCATION_MZONE && pcard->current.location != LOCATION_SZONE) || (pcard->data.type & TYPE_LINK) || pcard->get_status(STATUS_SUMMONING | STATUS_SPSUMMON_STEP) || !pcard->is_affect_by_effect(reason_effect) || npos == opos || (!(pcard->data.type & TYPE_TOKEN) && (opos & POS_FACEUP) && (npos & POS_FACEDOWN) && !pcard->is_capable_turn_set(reason_player)) || (reason_effect && pcard->is_affected_by_effect(EFFECT_CANNOT_CHANGE_POS_E))) {
      |                                                                                                                                                                                                                                                                                                                                                                                                                          ^
src\puzzlepro_core/./operations.cc:5437:9: note: +1, nesting level increased to 3
 5437 |         else {
      |         ^
src\puzzlepro_core/./operations.cc:5448:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5448 |       if (core.units.begin()->value1) {
      |       ^
src\puzzlepro_core/./operations.cc:5452:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5452 |       for (auto &pcard : targets->container) {
      |       ^
src\puzzlepro_core/./operations.cc:5455:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5455 |         if ((opos & POS_FACEUP) && (npos & POS_FACEDOWN)) {
      |         ^
src\puzzlepro_core/./operations.cc:5455:33: note: +1
 5455 |         if ((opos & POS_FACEUP) && (npos & POS_FACEDOWN)) {
      |                                 ^
src\puzzlepro_core/./operations.cc:5456:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 5456 |           if (pcard->get_type() & TYPE_TRAPMONSTER) {
      |           ^
src\puzzlepro_core/./operations.cc:5457:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 5457 |             if (pcard->current.controler == playerid) {
      |             ^
src\puzzlepro_core/./operations.cc:5463:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5463 |       if (ssets.size()) {
      |       ^
src\puzzlepro_core/./operations.cc:5466:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5466 |         if (fcount <= 0) {
      |         ^
src\puzzlepro_core/./operations.cc:5467:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 5467 |           for (auto &pcard : ssets) {
      |           ^
src\puzzlepro_core/./operations.cc:5473:14: note: +1, nesting level increased to 3
 5473 |         else if ((int32_t)ssets.size() > fcount) {
      |              ^
src\puzzlepro_core/./operations.cc:5475:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 5475 |           for (auto &pcard : ssets) {
      |           ^
src\puzzlepro_core/./operations.cc:5486:7: note: +1, nesting level increased to 2
 5486 |       else {
      |       ^
src\puzzlepro_core/./operations.cc:5493:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5493 |       for (int32_t i = 0; i < returns.bvalue[0]; ++i) {
      |       ^
src\puzzlepro_core/./operations.cc:5501:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5501 |       if (!core.units.begin()->value1) {
      |       ^
src\puzzlepro_core/./operations.cc:5513:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5513 |       if (cv.size() > 1) {
      |       ^
src\puzzlepro_core/./operations.cc:5516:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5516 |       for (auto &pcard : cv) {
      |       ^
src\puzzlepro_core/./operations.cc:5520:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5520 |         if ((pcard->data.type & TYPE_TOKEN) && (npos & POS_FACEDOWN)) {
      |         ^
src\puzzlepro_core/./operations.cc:5520:45: note: +1
 5520 |         if ((pcard->data.type & TYPE_TOKEN) && (npos & POS_FACEDOWN)) {
      |                                             ^
src\puzzlepro_core/./operations.cc:5525:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5525 |         if ((npos & POS_DEFENSE) && !pcard->is_affected_by_effect(EFFECT_DEFENSE_ATTACK)) {
      |         ^
src\puzzlepro_core/./operations.cc:5525:34: note: +1
 5525 |         if ((npos & POS_DEFENSE) && !pcard->is_affected_by_effect(EFFECT_DEFENSE_ATTACK)) {
      |                                  ^
src\puzzlepro_core/./operations.cc:5537:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5537 |         if ((opos & POS_FACEDOWN) && (npos & POS_FACEUP)) {
      |         ^
src\puzzlepro_core/./operations.cc:5537:35: note: +1
 5537 |         if ((opos & POS_FACEDOWN) && (npos & POS_FACEUP)) {
      |                                   ^
src\puzzlepro_core/./operations.cc:5540:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 5540 |           if (check_unique_onfield(pcard, pcard->current.controler, pcard->current.location)) {
      |           ^
src\puzzlepro_core/./operations.cc:5543:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 5543 |           if (pcard->current.location == LOCATION_MZONE) {
      |           ^
src\puzzlepro_core/./operations.cc:5547:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 5547 |           if (enable) {
      |           ^
src\puzzlepro_core/./operations.cc:5548:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 5548 |             if (!reason_effect || !(reason_effect->type & EFFECT_TYPES_CHAIN_LINK) || pcard->current.location != LOCATION_MZONE) {
      |             ^
src\puzzlepro_core/./operations.cc:5548:84: note: +1
 5548 |             if (!reason_effect || !(reason_effect->type & EFFECT_TYPES_CHAIN_LINK) || pcard->current.location != LOCATION_MZONE) {
      |                                                                                    ^
src\puzzlepro_core/./operations.cc:5551:13: note: +1, nesting level increased to 5
 5551 |             else {
      |             ^
src\puzzlepro_core/./operations.cc:5555:11: note: +1, nesting level increased to 4
 5555 |           else {
      |           ^
src\puzzlepro_core/./operations.cc:5559:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5559 |         if (pcard->current.location == LOCATION_MZONE) {
      |         ^
src\puzzlepro_core/./operations.cc:5564:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5564 |         if ((opos & POS_FACEUP) && (npos & POS_FACEDOWN)) {
      |         ^
src\puzzlepro_core/./operations.cc:5564:33: note: +1
 5564 |         if ((opos & POS_FACEUP) && (npos & POS_FACEDOWN)) {
      |                                 ^
src\puzzlepro_core/./operations.cc:5565:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 5565 |           if (pcard->get_type() & TYPE_TRAPMONSTER) {
      |           ^
src\puzzlepro_core/./operations.cc:5568:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 5568 |           if (pcard->status & (STATUS_SUMMON_DISABLED | STATUS_ACTIVATE_DISABLED)) {
      |           ^
src\puzzlepro_core/./operations.cc:5579:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 5579 |           if ((pcard->summon_info & SUMMON_TYPE_PENDULUM) == SUMMON_TYPE_PENDULUM) {
      |           ^
src\puzzlepro_core/./operations.cc:5584:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5584 |         if ((npos & POS_FACEDOWN) && pcard->equiping_cards.size()) {
      |         ^
src\puzzlepro_core/./operations.cc:5584:35: note: +1
 5584 |         if ((npos & POS_FACEDOWN) && pcard->equiping_cards.size()) {
      |                                   ^
src\puzzlepro_core/./operations.cc:5585:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 5585 |           for (auto csit = pcard->equiping_cards.begin(); csit != pcard->equiping_cards.end();) {
      |           ^
src\puzzlepro_core/./operations.cc:5591:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5591 |         if ((npos & POS_FACEDOWN) && pcard->equiping_target) {
      |         ^
src\puzzlepro_core/./operations.cc:5591:35: note: +1
 5591 |         if ((npos & POS_FACEDOWN) && pcard->equiping_target) {
      |                                   ^
src\puzzlepro_core/./operations.cc:5594:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5594 |         if (trapmonster) {
      |         ^
src\puzzlepro_core/./operations.cc:5603:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5603 |       if (flips.size()) {
      |       ^
src\puzzlepro_core/./operations.cc:5606:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5606 |       if (ssets.size()) {
      |       ^
src\puzzlepro_core/./operations.cc:5607:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5607 |         for (auto &pcard : ssets) {
      |         ^
src\puzzlepro_core/./operations.cc:5612:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5612 |       if (pos_changed.size()) {
      |       ^
src\puzzlepro_core/./operations.cc:5616:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5616 |       if (equipings.size()) {
      |       ^
src\puzzlepro_core/./operations.cc:5620:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5620 |       if (to_grave_set->size()) {
      |       ^
src\puzzlepro_core/./operations.cc:5637:16: warning: function 'operation_replace' has cognitive complexity of 100 (threshold 25) [readability-function-cognitive-complexity]
 5637 | int32_t field::operation_replace(uint16_t step, effect *replace_effect, group *targets, card *target, int32_t is_destroy) {
      |                ^
src\puzzlepro_core/./operations.cc:5638:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 5638 |   switch (step) {
      |   ^
src\puzzlepro_core/./operations.cc:5640:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5640 |       if (returns.ivalue[0]) {
      |       ^
src\puzzlepro_core/./operations.cc:5643:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5643 |       if (!replace_effect->target) {
      |       ^
src\puzzlepro_core/./operations.cc:5653:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5653 |       if (!replace_effect->is_activateable(replace_effect->get_handler_player(), e)) {
      |       ^
src\puzzlepro_core/./operations.cc:5675:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5675 |       if (returns.ivalue[0]) {
      |       ^
src\puzzlepro_core/./operations.cc:5676:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5676 |         if (!(target->current.reason_effect && target->current.reason_effect->is_self_destroy_related())) {
      |         ^
src\puzzlepro_core/./operations.cc:5676:45: note: +1
 5676 |         if (!(target->current.reason_effect && target->current.reason_effect->is_self_destroy_related())) {
      |                                             ^
src\puzzlepro_core/./operations.cc:5681:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 5681 |           if (is_destroy) {
      |           ^
src\puzzlepro_core/./operations.cc:5687:7: note: +1, nesting level increased to 2
 5687 |       else {
      |       ^
src\puzzlepro_core/./operations.cc:5693:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5693 |       if (!replace_effect->operation) {
      |       ^
src\puzzlepro_core/./operations.cc:5701:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5701 |       if (core.continuous_chain.rbegin()->target_cards) {
      |       ^
src\puzzlepro_core/./operations.cc:5704:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5704 |       for (auto &oit : core.continuous_chain.rbegin()->opinfos) {
      |       ^
src\puzzlepro_core/./operations.cc:5705:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5705 |         if (oit.second.op_cards) {
      |         ^
src\puzzlepro_core/./operations.cc:5718:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5718 |       if (targets->container.size() == 0) {
      |       ^
src\puzzlepro_core/./operations.cc:5725:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5725 |       if (!replace_effect->is_activateable(replace_effect->get_handler_player(), e) || !replace_effect->value) {
      |       ^
src\puzzlepro_core/./operations.cc:5725:85: note: +1
 5725 |       if (!replace_effect->is_activateable(replace_effect->get_handler_player(), e) || !replace_effect->value) {
      |                                                                                     ^
src\puzzlepro_core/./operations.cc:5747:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5747 |       if (returns.ivalue[0]) {
      |       ^
src\puzzlepro_core/./operations.cc:5748:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5748 |         for (auto cit = targets->container.begin(); cit != targets->container.end();) {
      |         ^
src\puzzlepro_core/./operations.cc:5749:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 5749 |           if (replace_effect->get_value(*cit) && !((*cit)->current.reason_effect && (*cit)->current.reason_effect->is_self_destroy_related())) {
      |           ^
src\puzzlepro_core/./operations.cc:5749:47: note: +1
 5749 |           if (replace_effect->get_value(*cit) && !((*cit)->current.reason_effect && (*cit)->current.reason_effect->is_self_destroy_related())) {
      |                                               ^
src\puzzlepro_core/./operations.cc:5753:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 5753 |             if (is_destroy) {
      |             ^
src\puzzlepro_core/./operations.cc:5758:11: note: +1, nesting level increased to 4
 5758 |           else {
      |           ^
src\puzzlepro_core/./operations.cc:5764:7: note: +1, nesting level increased to 2
 5764 |       else {
      |       ^
src\puzzlepro_core/./operations.cc:5770:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5770 |       if (!replace_effect->operation) {
      |       ^
src\puzzlepro_core/./operations.cc:5778:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5778 |       if (core.continuous_chain.rbegin()->target_cards) {
      |       ^
src\puzzlepro_core/./operations.cc:5781:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5781 |       for (auto &oit : core.continuous_chain.rbegin()->opinfos) {
      |       ^
src\puzzlepro_core/./operations.cc:5782:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5782 |         if (oit.second.op_cards) {
      |         ^
src\puzzlepro_core/./operations.cc:5791:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5791 |       if (returns.ivalue[0]) {
      |       ^
src\puzzlepro_core/./operations.cc:5794:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5794 |       if (!replace_effect->target) {
      |       ^
src\puzzlepro_core/./operations.cc:5804:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5804 |       if (!replace_effect->is_activateable(replace_effect->get_handler_player(), e)) {
      |       ^
src\puzzlepro_core/./operations.cc:5825:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5825 |       if (returns.ivalue[0]) {
      |       ^
src\puzzlepro_core/./operations.cc:5830:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5830 |         if (is_destroy) {
      |         ^
src\puzzlepro_core/./operations.cc:5844:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5844 |       if (targets->container.size() == 0) {
      |       ^
src\puzzlepro_core/./operations.cc:5851:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5851 |       if (!replace_effect->is_activateable(replace_effect->get_handler_player(), e) || !replace_effect->value) {
      |       ^
src\puzzlepro_core/./operations.cc:5851:85: note: +1
 5851 |       if (!replace_effect->is_activateable(replace_effect->get_handler_player(), e) || !replace_effect->value) {
      |                                                                                     ^
src\puzzlepro_core/./operations.cc:5872:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5872 |       if (returns.ivalue[0]) {
      |       ^
src\puzzlepro_core/./operations.cc:5873:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5873 |         for (auto cit = targets->container.begin(); cit != targets->container.end();) {
      |         ^
src\puzzlepro_core/./operations.cc:5874:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 5874 |           if (replace_effect->get_value(*cit)) {
      |           ^
src\puzzlepro_core/./operations.cc:5878:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 5878 |             if (is_destroy) {
      |             ^
src\puzzlepro_core/./operations.cc:5883:11: note: +1, nesting level increased to 4
 5883 |           else {
      |           ^
src\puzzlepro_core/./operations.cc:5894:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5894 |       if (core.desrep_chain.size() == 0) {
      |       ^
src\puzzlepro_core/./operations.cc:5900:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5900 |       if (!reffect->operation) {
      |       ^
src\puzzlepro_core/./operations.cc:5908:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5908 |       if (core.continuous_chain.rbegin()->target_cards) {
      |       ^
src\puzzlepro_core/./operations.cc:5911:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5911 |       for (auto &oit : core.continuous_chain.rbegin()->opinfos) {
      |       ^
src\puzzlepro_core/./operations.cc:5912:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5912 |         if (oit.second.op_cards) {
      |         ^
src\puzzlepro_core/./operations.cc:5971:16: warning: function 'select_synchro_material' has cognitive complexity of 255 (threshold 25) [readability-function-cognitive-complexity]
 5971 | int32_t field::select_synchro_material(int16_t step, uint8_t playerid, card *pcard, int32_t min, int32_t max, card *smat, group *mg, int32_t filter1, int32_t filter2) {
      |                ^
src\puzzlepro_core/./operations.cc:5972:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 5972 |   switch (step) {
      |   ^
src\puzzlepro_core/./operations.cc:5974:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5974 |       if (core.select_cards.size() == 0) {
      |       ^
src\puzzlepro_core/./operations.cc:5985:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5985 |       if (returns.ivalue[0] == -1) {
      |       ^
src\puzzlepro_core/./operations.cc:5992:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5992 |       if (pcheck) {
      |       ^
src\puzzlepro_core/./operations.cc:5997:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5997 |       if ((peffect = tuner->is_affected_by_effect(EFFECT_SYNCHRO_MATERIAL_CUSTOM, pcard))) {
      |       ^
src\puzzlepro_core/./operations.cc:5998:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5998 |         if (!peffect->operation) {
      |         ^
src\puzzlepro_core/./operations.cc:6009:7: note: +1, nesting level increased to 2
 6009 |       else {
      |       ^
src\puzzlepro_core/./operations.cc:6025:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6025 |       if (tuner_limit && tuner_limit->is_flag(EFFECT_FLAG_SPSUM_PARAM)) {
      |       ^
src\puzzlepro_core/./operations.cc:6025:23: note: +1
 6025 |       if (tuner_limit && tuner_limit->is_flag(EFFECT_FLAG_SPSUM_PARAM)) {
      |                       ^
src\puzzlepro_core/./operations.cc:6026:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 6026 |         if (tuner_limit->s_range && tuner_limit->s_range > min) {
      |         ^
src\puzzlepro_core/./operations.cc:6026:34: note: +1
 6026 |         if (tuner_limit->s_range && tuner_limit->s_range > min) {
      |                                  ^
src\puzzlepro_core/./operations.cc:6029:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 6029 |         if (tuner_limit->o_range && tuner_limit->o_range < max) {
      |         ^
src\puzzlepro_core/./operations.cc:6029:34: note: +1
 6029 |         if (tuner_limit->o_range && tuner_limit->o_range < max) {
      |                                  ^
src\puzzlepro_core/./operations.cc:6035:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6035 |       if (mzone_limit < 0) {
      |       ^
src\puzzlepro_core/./operations.cc:6037:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 6037 |         if (ft > min) {
      |         ^
src\puzzlepro_core/./operations.cc:6042:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6042 |       if (!smat) {
      |       ^
src\puzzlepro_core/./operations.cc:6049:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6049 |       if (pcheck) {
      |       ^
src\puzzlepro_core/./operations.cc:6052:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6052 |       if (min == 0) {
      |       ^
src\puzzlepro_core/./operations.cc:6056:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 6056 |         if (!check_must_material(pgroup, playerid, EFFECT_MUST_BE_SMATERIAL)) {
      |         ^
src\puzzlepro_core/./operations.cc:6067:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 6067 |         if (check_with_sum_limit_m(nsyn, lv, 0, 0, 0, 0xffff, 2)) {
      |         ^
src\puzzlepro_core/./operations.cc:6077:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6077 |       if (tuner_limit) {
      |       ^
src\puzzlepro_core/./operations.cc:6078:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 6078 |         if (tuner_limit->value) {
      |         ^
src\puzzlepro_core/./operations.cc:6086:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6086 |       if (smat) {
      |       ^
src\puzzlepro_core/./operations.cc:6092:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6092 |       if (mct > 0) {
      |       ^
src\puzzlepro_core/./operations.cc:6093:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 6093 |         for (auto &mcard : must_list) {
      |         ^
src\puzzlepro_core/./operations.cc:6094:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 6094 |           if (mcard == tuner || mcard == smat) {
      |           ^
src\puzzlepro_core/./operations.cc:6094:30: note: +1
 6094 |           if (mcard == tuner || mcard == smat) {
      |                              ^
src\puzzlepro_core/./operations.cc:6103:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6103 |       if (mg) {
      |       ^
src\puzzlepro_core/./operations.cc:6104:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 6104 |         for (auto &pm : mg->container) {
      |         ^
src\puzzlepro_core/./operations.cc:6105:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 6105 |           if (pm == tuner || pm == smat || must_list.find(pm) != must_list.end() || !pm->is_can_be_synchro_material(pcard, tuner)) {
      |           ^
src\puzzlepro_core/./operations.cc:6105:82: note: +1
 6105 |           if (pm == tuner || pm == smat || must_list.find(pm) != must_list.end() || !pm->is_can_be_synchro_material(pcard, tuner)) {
      |                                                                                  ^
src\puzzlepro_core/./operations.cc:6108:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 6108 |           if (tuner_limit) {
      |           ^
src\puzzlepro_core/./operations.cc:6109:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 6109 |             if (tuner_limit->target) {
      |             ^
src\puzzlepro_core/./operations.cc:6112:15: note: +6, including nesting penalty of 5, nesting level increased to 6
 6112 |               if (!pduel->lua->get_function_value(tuner_limit->target, 2)) {
      |               ^
src\puzzlepro_core/./operations.cc:6116:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 6116 |             if (tuner_limit->value && !(pm->current.location & location)) {
      |             ^
src\puzzlepro_core/./operations.cc:6116:36: note: +1
 6116 |             if (tuner_limit->value && !(pm->current.location & location)) {
      |                                    ^
src\puzzlepro_core/./operations.cc:6120:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 6120 |           if (pcheck) {
      |           ^
src\puzzlepro_core/./operations.cc:6123:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 6123 |           if (pm->current.location == LOCATION_MZONE && !pm->is_position(POS_FACEUP)) {
      |           ^
src\puzzlepro_core/./operations.cc:6123:54: note: +1
 6123 |           if (pm->current.location == LOCATION_MZONE && !pm->is_position(POS_FACEUP)) {
      |                                                      ^
src\puzzlepro_core/./operations.cc:6128:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 6128 |           if (!pduel->lua->check_condition(filter2, 2)) {
      |           ^
src\puzzlepro_core/./operations.cc:6135:7: note: +1, nesting level increased to 2
 6135 |       else {
      |       ^
src\puzzlepro_core/./operations.cc:6138:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 6138 |         for (auto &pm : cv) {
      |         ^
src\puzzlepro_core/./operations.cc:6139:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 6139 |           if (!pm || pm == tuner || pm == smat || must_list.find(pm) != must_list.end() || !pm->is_can_be_synchro_material(pcard, tuner)) {
      |           ^
src\puzzlepro_core/./operations.cc:6139:89: note: +1
 6139 |           if (!pm || pm == tuner || pm == smat || must_list.find(pm) != must_list.end() || !pm->is_can_be_synchro_material(pcard, tuner)) {
      |                                                                                         ^
src\puzzlepro_core/./operations.cc:6142:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 6142 |           if (tuner_limit && tuner_limit->target) {
      |           ^
src\puzzlepro_core/./operations.cc:6142:27: note: +1
 6142 |           if (tuner_limit && tuner_limit->target) {
      |                           ^
src\puzzlepro_core/./operations.cc:6145:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 6145 |             if (!pduel->lua->get_function_value(tuner_limit->target, 2)) {
      |             ^
src\puzzlepro_core/./operations.cc:6149:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 6149 |           if (pcheck) {
      |           ^
src\puzzlepro_core/./operations.cc:6152:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 6152 |           if (pm->current.location == LOCATION_MZONE && !pm->is_position(POS_FACEUP)) {
      |           ^
src\puzzlepro_core/./operations.cc:6152:54: note: +1
 6152 |           if (pm->current.location == LOCATION_MZONE && !pm->is_position(POS_FACEUP)) {
      |                                                      ^
src\puzzlepro_core/./operations.cc:6157:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 6157 |           if (!pduel->lua->check_condition(filter2, 2)) {
      |           ^
src\puzzlepro_core/./operations.cc:6167:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6167 |       for (auto cit = start; cit != nsyn.end(); ++cit) {
      |       ^
src\puzzlepro_core/./operations.cc:6169:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 6169 |         if (start != cit) {
      |         ^
src\puzzlepro_core/./operations.cc:6172:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 6172 |         if (check_other_synchro_material(nsyn, lv, min - 1, max - 1, mcount + 1)) {
      |         ^
src\puzzlepro_core/./operations.cc:6175:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 6175 |         if (start != cit) {
      |         ^
src\puzzlepro_core/./operations.cc:6185:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6185 |       if (ct > 0) {
      |       ^
src\puzzlepro_core/./operations.cc:6194:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6194 |       if (handover_zone_cards.find(tuner) != handover_zone_cards.end()) {
      |       ^
src\puzzlepro_core/./operations.cc:6197:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6197 |       if (smat && handover_zone_cards.find(smat) != handover_zone_cards.end()) {
      |       ^
src\puzzlepro_core/./operations.cc:6197:16: note: +1
 6197 |       if (smat && handover_zone_cards.find(smat) != handover_zone_cards.end()) {
      |                ^
src\puzzlepro_core/./operations.cc:6200:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6200 |       if (ct > 0) {
      |       ^
src\puzzlepro_core/./operations.cc:6205:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6205 |       for (auto &pm : core.select_cards) {
      |       ^
src\puzzlepro_core/./operations.cc:6206:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 6206 |         if (handover_zone_cards.find(pm) != handover_zone_cards.end()) {
      |         ^
src\puzzlepro_core/./operations.cc:6210:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6210 |       if (select_cards->size() == core.select_cards.size()) {
      |       ^
src\puzzlepro_core/./operations.cc:6245:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6245 |       if (core.global_flag & GLOBALFLAG_SCRAP_CHIMERA) {
      |       ^
src\puzzlepro_core/./operations.cc:6247:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 6247 |         for (auto &pm : core.select_cards) {
      |         ^
src\puzzlepro_core/./operations.cc:6249:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 6249 |           if (peffect) {
      |           ^
src\puzzlepro_core/./operations.cc:6253:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 6253 |         if (peffect) {
      |         ^
src\puzzlepro_core/./operations.cc:6257:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 6257 |           for (auto &pm : nsyn) {
      |           ^
src\puzzlepro_core/./operations.cc:6258:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 6258 |             if (!peffect->get_value(pm)) {
      |             ^
src\puzzlepro_core/./operations.cc:6262:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 6262 |           if (nsyn_filtered.size() < nsyn.size()) {
      |           ^
src\puzzlepro_core/./operations.cc:6264:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 6264 |             for (auto &pm : nsyn) {
      |             ^
src\puzzlepro_core/./operations.cc:6265:15: note: +6, including nesting penalty of 5, nesting level increased to 6
 6265 |               if (!pm->is_affected_by_effect(EFFECT_SCRAP_CHIMERA)) {
      |               ^
src\puzzlepro_core/./operations.cc:6272:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 6272 |             for (int32_t i = 0; i < mcount; ++i) {
      |             ^
src\puzzlepro_core/./operations.cc:6273:15: note: +6, including nesting penalty of 5, nesting level increased to 6
 6273 |               if (peffect->get_value(nsyn[i])) {
      |               ^
src\puzzlepro_core/./operations.cc:6276:15: note: +6, including nesting penalty of 5, nesting level increased to 6
 6276 |               if (nsyn[i]->is_affected_by_effect(EFFECT_SCRAP_CHIMERA)) {
      |               ^
src\puzzlepro_core/./operations.cc:6280:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 6280 |             if (mfiltered && check_with_sum_limit_m(nsyn_filtered, lv, 0, min, max, 0xffff, mcount)) {
      |             ^
src\puzzlepro_core/./operations.cc:6280:27: note: +1
 6280 |             if (mfiltered && check_with_sum_limit_m(nsyn_filtered, lv, 0, min, max, 0xffff, mcount)) {
      |                           ^
src\puzzlepro_core/./operations.cc:6281:15: note: +6, including nesting penalty of 5, nesting level increased to 6
 6281 |               if (mremoved && check_with_sum_limit_m(nsyn_removed, lv, 0, min, max, 0xffff, mcount)) {
      |               ^
src\puzzlepro_core/./operations.cc:6281:28: note: +1
 6281 |               if (mremoved && check_with_sum_limit_m(nsyn_removed, lv, 0, min, max, 0xffff, mcount)) {
      |                            ^
src\puzzlepro_core/./operations.cc:6286:15: note: +1, nesting level increased to 6
 6286 |               else {
      |               ^
src\puzzlepro_core/./operations.cc:6290:13: note: +1, nesting level increased to 5
 6290 |             else {
      |             ^
src\puzzlepro_core/./operations.cc:6306:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6306 |       for (int32_t i = mcount; i < returns.bvalue[0]; ++i) {
      |       ^
src\puzzlepro_core/./operations.cc:6328:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6328 |       if (returns.ivalue[0]) {
      |       ^
src\puzzlepro_core/./operations.cc:6330:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 6330 |         for (auto &pm : core.select_cards) {
      |         ^
src\puzzlepro_core/./operations.cc:6332:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 6332 |           if (peffect) {
      |           ^
src\puzzlepro_core/./operations.cc:6337:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 6337 |         for (auto &pm : core.select_cards) {
      |         ^
src\puzzlepro_core/./operations.cc:6338:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 6338 |           if (!peffect->get_value(pm)) {
      |           ^
src\puzzlepro_core/./operations.cc:6344:7: note: +1, nesting level increased to 2
 6344 |       else {
      |       ^
src\puzzlepro_core/./operations.cc:6346:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 6346 |         for (auto &pm : core.select_cards) {
      |         ^
src\puzzlepro_core/./operations.cc:6347:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 6347 |           if (!pm->is_affected_by_effect(EFFECT_SCRAP_CHIMERA)) {
      |           ^
src\puzzlepro_core/./operations.cc:6365:16: warning: function 'select_xyz_material' has cognitive complexity of 229 (threshold 25) [readability-function-cognitive-complexity]
 6365 | int32_t field::select_xyz_material(int16_t step, uint8_t playerid, uint32_t lv, card *scard, int32_t min, int32_t max) {
      |                ^
src\puzzlepro_core/./operations.cc:6366:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 6366 |   switch (step) {
      |   ^
src\puzzlepro_core/./operations.cc:6370:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6370 |       if (mzone_limit <= 0) {
      |       ^
src\puzzlepro_core/./operations.cc:6372:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 6372 |         if (ft > min) {
      |         ^
src\puzzlepro_core/./operations.cc:6380:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6380 |       for (auto &mcard : mcset) {
      |       ^
src\puzzlepro_core/./operations.cc:6383:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6383 |       if (mct == 0) {
      |       ^
src\puzzlepro_core/./operations.cc:6396:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6396 |       if (returns.ivalue[0] == -1) {
      |       ^
src\puzzlepro_core/./operations.cc:6401:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6401 |       for (int32_t i = 0; i < returns.bvalue[0]; ++i) {
      |       ^
src\puzzlepro_core/./operations.cc:6404:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 6404 |         for (auto iter = core.xmaterial_lst.begin(); iter != core.xmaterial_lst.end(); ++iter) {
      |         ^
src\puzzlepro_core/./operations.cc:6405:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 6405 |           if (iter->second == pcard) {
      |           ^
src\puzzlepro_core/./operations.cc:6406:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 6406 |             if (pv < iter->first) {
      |             ^
src\puzzlepro_core/./operations.cc:6415:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6415 |       if (max == 0 || core.xmaterial_lst.size() == 0) {
      |       ^
src\puzzlepro_core/./operations.cc:6415:20: note: +1
 6415 |       if (max == 0 || core.xmaterial_lst.size() == 0) {
      |                    ^
src\puzzlepro_core/./operations.cc:6421:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6421 |       if (min < 0) {
      |       ^
src\puzzlepro_core/./operations.cc:6424:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6424 |       if (pv - (int32_t)core.operated_set.size() > min) {
      |       ^
src\puzzlepro_core/./operations.cc:6428:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6428 |       if (min == 0) {
      |       ^
src\puzzlepro_core/./operations.cc:6436:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6436 |       if (!returns.ivalue[0]) {
      |       ^
src\puzzlepro_core/./operations.cc:6441:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6441 |       if (!(core.global_flag & GLOBALFLAG_TUNE_MAGICIAN)) {
      |       ^
src\puzzlepro_core/./operations.cc:6446:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6446 |       if (ct <= 0) {
      |       ^
src\puzzlepro_core/./operations.cc:6452:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6452 |       for (auto &pcard : core.operated_set) {
      |       ^
src\puzzlepro_core/./operations.cc:6454:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 6454 |         if (peffect) {
      |         ^
src\puzzlepro_core/./operations.cc:6455:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 6455 |           for (auto cit = core.xmaterial_lst.begin(); cit != core.xmaterial_lst.end();) {
      |           ^
src\puzzlepro_core/./operations.cc:6456:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 6456 |             if (peffect->get_value(cit->second)) {
      |             ^
src\puzzlepro_core/./operations.cc:6459:13: note: +1, nesting level increased to 5
 6459 |             else {
      |             ^
src\puzzlepro_core/./operations.cc:6465:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6465 |       for (auto cit = core.xmaterial_lst.begin(); cit != core.xmaterial_lst.end(); ++cit) {
      |       ^
src\puzzlepro_core/./operations.cc:6469:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6469 |       for (auto cit = core.xmaterial_lst.begin(); cit != core.xmaterial_lst.end();) {
      |       ^
src\puzzlepro_core/./operations.cc:6472:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 6472 |         if (peffect) {
      |         ^
src\puzzlepro_core/./operations.cc:6473:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 6473 |           if (std::any_of(core.operated_set.begin(), core.operated_set.end(), [=](card *pcard) {
      |           ^
src\puzzlepro_core/./operations.cc:6473:79: note: nesting level increased to 4
 6473 |           if (std::any_of(core.operated_set.begin(), core.operated_set.end(), [=](card *pcard) {
      |                                                                               ^
src\puzzlepro_core/./operations.cc:6480:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 6480 |           for (auto mit = core.xmaterial_lst.begin(); mit != core.xmaterial_lst.end(); ++mit) {
      |           ^
src\puzzlepro_core/./operations.cc:6481:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 6481 |             if (!peffect->get_value(mit->second)) {
      |             ^
src\puzzlepro_core/./operations.cc:6487:9: note: +1, nesting level increased to 3
 6487 |         else {
      |         ^
src\puzzlepro_core/./operations.cc:6494:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6494 |       for (int32_t icheck = 1; icheck <= digit; icheck <<= 1) {
      |       ^
src\puzzlepro_core/./operations.cc:6496:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 6496 |         for (auto cit = core.xmaterial_lst.begin(); cit != core.xmaterial_lst.end(); ++cit) {
      |         ^
src\puzzlepro_core/./operations.cc:6497:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 6497 |           if (cit->second->sum_param & icheck) {
      |           ^
src\puzzlepro_core/./operations.cc:6501:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 6501 |         if (core.global_flag & GLOBALFLAG_XMAT_COUNT_LIMIT) {
      |         ^
src\puzzlepro_core/./operations.cc:6506:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 6506 |         if (ct <= 0) {
      |         ^
src\puzzlepro_core/./operations.cc:6508:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 6508 |           for (auto cit = mat.begin(); cit != mat.end(); ++cit) {
      |           ^
src\puzzlepro_core/./operations.cc:6510:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 6510 |             if (handover_zone_cards.find(pcard) != handover_zone_cards.end()) {
      |             ^
src\puzzlepro_core/./operations.cc:6514:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 6514 |           if (ft <= 0) {
      |           ^
src\puzzlepro_core/./operations.cc:6518:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 6518 |         if ((int32_t)mat.size() >= min) {
      |         ^
src\puzzlepro_core/./operations.cc:6523:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6523 |       for (auto cit = core.xmaterial_lst.begin(); cit != core.xmaterial_lst.end();) {
      |       ^
src\puzzlepro_core/./operations.cc:6524:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 6524 |         if (!(cit->second->sum_param & selectable)) {
      |         ^
src\puzzlepro_core/./operations.cc:6527:9: note: +1, nesting level increased to 3
 6527 |         else {
      |         ^
src\puzzlepro_core/./operations.cc:6532:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6532 |       if (acc) {
      |       ^
src\puzzlepro_core/./operations.cc:6541:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6541 |       if (ct > 0) {
      |       ^
src\puzzlepro_core/./operations.cc:6551:100: note: nesting level increased to 2
 6551 |       int32_t ft = ct + (int32_t)std::count_if(core.operated_set.begin(), core.operated_set.end(), [=](card *pcard) {
      |                                                                                                    ^
src\puzzlepro_core/./operations.cc:6554:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6554 |       if (ft > 0) {
      |       ^
src\puzzlepro_core/./operations.cc:6561:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6561 |       for (auto iter = core.xmaterial_lst.begin(); iter != core.xmaterial_lst.end(); ++iter) {
      |       ^
src\puzzlepro_core/./operations.cc:6563:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 6563 |         if (handover_zone_cards.find(pcard) != handover_zone_cards.end()) {
      |         ^
src\puzzlepro_core/./operations.cc:6566:9: note: +1, nesting level increased to 3
 6566 |         else {
      |         ^
src\puzzlepro_core/./operations.cc:6570:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6570 |       if (min > mmax) {
      |       ^
src\puzzlepro_core/./operations.cc:6583:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6583 |       if (returns.ivalue[0] == -1) {
      |       ^
src\puzzlepro_core/./operations.cc:6590:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6590 |       for (auto iter = core.xmaterial_lst.begin(); iter != core.xmaterial_lst.end(); ++iter) {
      |       ^
src\puzzlepro_core/./operations.cc:6591:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 6591 |         if (iter->second == pcard) {
      |         ^
src\puzzlepro_core/./operations.cc:6592:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 6592 |           if (pv < iter->first) {
      |           ^
src\puzzlepro_core/./operations.cc:6600:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6600 |       if (max == 0 || core.xmaterial_lst.size() == 0) {
      |       ^
src\puzzlepro_core/./operations.cc:6600:20: note: +1
 6600 |       if (max == 0 || core.xmaterial_lst.size() == 0) {
      |                    ^
src\puzzlepro_core/./operations.cc:6605:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6605 |       if (min > 0) {
      |       ^
src\puzzlepro_core/./operations.cc:6608:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6608 |       if (pv - (int32_t)core.operated_set.size() > min) {
      |       ^
src\puzzlepro_core/./operations.cc:6612:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6612 |       if (min == 0) {
      |       ^
src\puzzlepro_core/./operations.cc:6620:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6620 |       if (!returns.ivalue[0]) {
      |       ^
src\puzzlepro_core/./operations.cc:6626:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6626 |       if (core.xmaterial_lst.size()) {
      |       ^
src\puzzlepro_core/./operations.cc:6629:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6629 |       if (min >= maxv) {
      |       ^
src\puzzlepro_core/./operations.cc:6631:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 6631 |         for (auto iter = core.xmaterial_lst.begin(); iter != core.xmaterial_lst.end(); ++iter) {
      |         ^
src\puzzlepro_core/./operations.cc:6640:7: note: +1, nesting level increased to 2
 6640 |       else {
      |       ^
src\puzzlepro_core/./operations.cc:6646:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6646 |       if (returns.ivalue[0] == -1) {
      |       ^
src\puzzlepro_core/./operations.cc:6651:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6651 |       for (int32_t i = 0; i < returns.bvalue[0]; ++i) {
      |       ^
src\puzzlepro_core/./operations.cc:6660:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6660 |       for (auto iter = core.xmaterial_lst.begin(); iter != core.xmaterial_lst.end(); ++iter) {
      |       ^
src\puzzlepro_core/./operations.cc:6671:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6671 |       if (returns.ivalue[0] == -1) {
      |       ^
src\puzzlepro_core/./operations.cc:6676:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6676 |       for (int32_t i = 0; i < returns.bvalue[0]; ++i) {
      |       ^
src\puzzlepro_core/./operations.cc:6679:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 6679 |         for (auto iter = core.xmaterial_lst.begin(); iter != core.xmaterial_lst.end(); ++iter) {
      |         ^
src\puzzlepro_core/./operations.cc:6680:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 6680 |           if (iter->second == pcard) {
      |           ^
src\puzzlepro_core/./operations.cc:6681:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 6681 |             if (pv < iter->first) {
      |             ^
src\puzzlepro_core/./operations.cc:6690:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6690 |       if (max == 0 || core.xmaterial_lst.size() == 0) {
      |       ^
src\puzzlepro_core/./operations.cc:6690:20: note: +1
 6690 |       if (max == 0 || core.xmaterial_lst.size() == 0) {
      |                    ^
src\puzzlepro_core/./operations.cc:6696:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6696 |       if (pv - (int32_t)core.operated_set.size() > min) {
      |       ^
src\puzzlepro_core/./operations.cc:6700:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6700 |       if (min == 0) {
      |       ^
src\puzzlepro_core/./operations.cc:6708:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6708 |       if (!returns.ivalue[0]) {
      |       ^
src\puzzlepro_core/./operations.cc:6714:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6714 |       for (auto iter = core.xmaterial_lst.begin(); iter != core.xmaterial_lst.end(); ++iter) {
      |       ^
src\puzzlepro_core/./operations.cc:6722:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6722 |       if (min == 0) {
      |       ^
src\puzzlepro_core/./operations.cc:6725:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6725 |       if (min + (int32_t)core.operated_set.size() >= maxv) {
      |       ^
src\puzzlepro_core/./operations.cc:6728:7: note: +1, nesting level increased to 2
 6728 |       else {
      |       ^
src\puzzlepro_core/./operations.cc:6736:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6736 |       for (int32_t i = 0; i < returns.bvalue[0]; ++i) {
      |       ^
src\puzzlepro_core/./operations.cc:6745:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6745 |       if (ct > 0) {
      |       ^
src\puzzlepro_core/./operations.cc:6753:100: note: nesting level increased to 2
 6753 |       int32_t ft = ct + (int32_t)std::count_if(core.operated_set.begin(), core.operated_set.end(), [=](card *pcard) {
      |                                                                                                    ^
src\puzzlepro_core/./operations.cc:6756:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6756 |       if (ft > 0) {
      |       ^
src\puzzlepro_core/./operations.cc:6760:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6760 |       for (auto iter = core.xmaterial_lst.begin(); iter != core.xmaterial_lst.end(); ++iter) {
      |       ^
src\puzzlepro_core/./operations.cc:6762:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 6762 |         if (handover_zone_cards.find(pcard) != handover_zone_cards.end()) {
      |         ^
src\puzzlepro_core/./operations.cc:6776:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6776 |       for (auto iter = core.xmaterial_lst.begin(); iter != core.xmaterial_lst.end(); ++iter) {
      |       ^
src\puzzlepro_core/./operations.cc:6787:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6787 |       if (returns.ivalue[0] == -1) {
      |       ^
src\puzzlepro_core/./operations.cc:6795:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6795 |       for (auto iter = core.xmaterial_lst.begin(); iter != core.xmaterial_lst.end();) {
      |       ^
src\puzzlepro_core/./operations.cc:6796:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 6796 |         if (iter->second == pcard) {
      |         ^
src\puzzlepro_core/./operations.cc:6800:14: note: +1, nesting level increased to 3
 6800 |         else if (!(iter->second->sum_param & selectable)) {
      |              ^
src\puzzlepro_core/./operations.cc:6803:9: note: +1, nesting level increased to 3
 6803 |         else {
      |         ^
src\puzzlepro_core/./operations.cc:6808:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6808 |       if (max == 0 || core.xmaterial_lst.size() == 0) {
      |       ^
src\puzzlepro_core/./operations.cc:6808:20: note: +1
 6808 |       if (max == 0 || core.xmaterial_lst.size() == 0) {
      |                    ^
src\puzzlepro_core/./operations.cc:6813:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6813 |       if (min > 0) {
      |       ^
src\puzzlepro_core/./operations.cc:6816:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6816 |       if (pv - (int32_t)core.operated_set.size() > min) {
      |       ^
src\puzzlepro_core/./operations.cc:6821:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6821 |       if (min == 0) {
      |       ^
src\puzzlepro_core/./operations.cc:6829:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6829 |       if (!returns.ivalue[0]) {
      |       ^
src\puzzlepro_core/./operations.cc:6841:16: warning: function 'select_release_cards' has cognitive complexity of 34 (threshold 25) [readability-function-cognitive-complexity]
 6841 | int32_t field::select_release_cards(int16_t step, uint8_t playerid, uint8_t cancelable, int32_t min, int32_t max) {
      |                ^
src\puzzlepro_core/./operations.cc:6842:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 6842 |   switch (step) {
      |   ^
src\puzzlepro_core/./operations.cc:6845:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6845 |       if (core.release_cards_ex.empty()) {
      |       ^
src\puzzlepro_core/./operations.cc:6850:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6850 |       for (auto &pcard : core.release_cards_ex) {
      |       ^
src\puzzlepro_core/./operations.cc:6863:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6863 |       if (max == 0 || core.release_cards.size() + core.release_cards_ex_oneof.size() == 0) {
      |       ^
src\puzzlepro_core/./operations.cc:6863:20: note: +1
 6863 |       if (max == 0 || core.release_cards.size() + core.release_cards_ex_oneof.size() == 0) {
      |                    ^
src\puzzlepro_core/./operations.cc:6866:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6866 |       for (int32_t i = 0; i < count; ++i) {
      |       ^
src\puzzlepro_core/./operations.cc:6870:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6870 |       if (min < 0) {
      |       ^
src\puzzlepro_core/./operations.cc:6877:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6877 |       if (!core.release_cards_ex_oneof.empty()) {
      |       ^
src\puzzlepro_core/./operations.cc:6878:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 6878 |         if ((int32_t)core.release_cards.size() < min) {
      |         ^
src\puzzlepro_core/./operations.cc:6881:9: note: +1, nesting level increased to 3
 6881 |         else {
      |         ^
src\puzzlepro_core/./operations.cc:6885:7: note: +1, nesting level increased to 2
 6885 |       else {
      |       ^
src\puzzlepro_core/./operations.cc:6891:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6891 |       if (!returns.ivalue[0]) {
      |       ^
src\puzzlepro_core/./operations.cc:6896:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6896 |       for (auto &pcard : core.release_cards_ex_oneof) {
      |       ^
src\puzzlepro_core/./operations.cc:6912:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6912 |       if (max == 0 || core.release_cards.empty()) {
      |       ^
src\puzzlepro_core/./operations.cc:6912:20: note: +1
 6912 |       if (max == 0 || core.release_cards.empty()) {
      |                    ^
src\puzzlepro_core/./operations.cc:6917:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6917 |       if (min < 0) {
      |       ^
src\puzzlepro_core/./operations.cc:6925:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6925 |       for (auto &pcard : core.release_cards) {
      |       ^
src\puzzlepro_core/./operations.cc:6936:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6936 |       for (int32_t i = 0; i < returns.bvalue[0]; ++i) {
      |       ^
src\puzzlepro_core/./operations.cc:6945:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6945 |       for (auto cit = core.operated_set.begin(); cit != core.operated_set.end(); ++cit, ++i) {
      |       ^
src\puzzlepro_core/./operations.cc:6955:16: warning: function 'select_tribute_cards' has cognitive complexity of 110 (threshold 25) [readability-function-cognitive-complexity]
 6955 | int32_t field::select_tribute_cards(int16_t step, card *target, uint8_t playerid, uint8_t cancelable, int32_t min, int32_t max, uint8_t toplayer, uint32_t zone) {
      |                ^
src\puzzlepro_core/./operations.cc:6956:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 6956 |   switch (step) {
      |   ^
src\puzzlepro_core/./operations.cc:6961:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6961 |       if (ct > 0) {
      |       ^
src\puzzlepro_core/./operations.cc:6968:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6968 |       for (auto &pcard : core.release_cards) {
      |       ^
src\puzzlepro_core/./operations.cc:6969:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 6969 |         if (pcard->current.location == LOCATION_MZONE && pcard->current.controler == toplayer && ((zone >> pcard->current.sequence) & 1)) {
      |         ^
src\puzzlepro_core/./operations.cc:6969:95: note: +1
 6969 |         if (pcard->current.location == LOCATION_MZONE && pcard->current.controler == toplayer && ((zone >> pcard->current.sequence) & 1)) {
      |                                                                                               ^
src\puzzlepro_core/./operations.cc:6972:9: note: +1, nesting level increased to 3
 6972 |         else {
      |         ^
src\puzzlepro_core/./operations.cc:6980:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6980 |       if (core.release_cards_ex.empty() && core.release_cards_ex_oneof.empty() && min > rmax) {
      |       ^
src\puzzlepro_core/./operations.cc:6980:80: note: +1
 6980 |       if (core.release_cards_ex.empty() && core.release_cards_ex_oneof.empty() && min > rmax) {
      |                                                                                ^
src\puzzlepro_core/./operations.cc:6981:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 6981 |         if (rmax > 0) {
      |         ^
src\puzzlepro_core/./operations.cc:6983:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 6983 |           for (auto &pcard : core.release_cards) {
      |           ^
src\puzzlepro_core/./operations.cc:6994:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 6994 |       if (returns.ivalue[0] == -1) {
      |       ^
src\puzzlepro_core/./operations.cc:7000:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 7000 |       if (min <= (int32_t)pcard->release_param) {
      |       ^
src\puzzlepro_core/./operations.cc:7001:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 7001 |         if (max > 1 && core.release_cards_ex.empty() && (!core.release_cards.empty() || !core.release_cards_ex_oneof.empty())) {
      |         ^
src\puzzlepro_core/./operations.cc:7001:54: note: +1
 7001 |         if (max > 1 && core.release_cards_ex.empty() && (!core.release_cards.empty() || !core.release_cards_ex_oneof.empty())) {
      |                                                      ^
src\puzzlepro_core/./operations.cc:7001:86: note: +1
 7001 |         if (max > 1 && core.release_cards_ex.empty() && (!core.release_cards.empty() || !core.release_cards_ex_oneof.empty())) {
      |                                                                                      ^
src\puzzlepro_core/./operations.cc:7004:14: note: +1, nesting level increased to 3
 7004 |         else if (max > 1 && !core.release_cards_ex.empty()) {
      |              ^
src\puzzlepro_core/./operations.cc:7004:26: note: +1
 7004 |         else if (max > 1 && !core.release_cards_ex.empty()) {
      |                          ^
src\puzzlepro_core/./operations.cc:7007:9: note: +1, nesting level increased to 3
 7007 |         else {
      |         ^
src\puzzlepro_core/./operations.cc:7011:7: note: +1, nesting level increased to 2
 7011 |       else {
      |       ^
src\puzzlepro_core/./operations.cc:7017:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 7017 |       if (!returns.ivalue[0]) {
      |       ^
src\puzzlepro_core/./operations.cc:7022:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 7022 |       if (!core.operated_set.empty()) {
      |       ^
src\puzzlepro_core/./operations.cc:7027:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 7027 |       if (core.release_cards_ex.size() + core.release_cards_ex_oneof.size() == 0 || (fcount <= 0 && min < 2)) {
      |       ^
src\puzzlepro_core/./operations.cc:7027:82: note: +1
 7027 |       if (core.release_cards_ex.size() + core.release_cards_ex_oneof.size() == 0 || (fcount <= 0 && min < 2)) {
      |                                                                                  ^
src\puzzlepro_core/./operations.cc:7027:98: note: +1
 7027 |       if (core.release_cards_ex.size() + core.release_cards_ex_oneof.size() == 0 || (fcount <= 0 && min < 2)) {
      |                                                                                                  ^
src\puzzlepro_core/./operations.cc:7029:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 7029 |         for (auto &pcard : core.release_cards) {
      |         ^
src\puzzlepro_core/./operations.cc:7040:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 7040 |       if (core.release_cards_ex.size() >= (uint32_t)max) {
      |       ^
src\puzzlepro_core/./operations.cc:7042:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 7042 |         for (auto &pcard : core.release_cards_ex) {
      |         ^
src\puzzlepro_core/./operations.cc:7054:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 7054 |       for (auto &pcard : core.release_cards) {
      |       ^
src\puzzlepro_core/./operations.cc:7057:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 7057 |       for (auto &pcard : core.release_cards_ex) {
      |       ^
src\puzzlepro_core/./operations.cc:7061:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 7061 |       if (rmax < min) {
      |       ^
src\puzzlepro_core/./operations.cc:7063:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 7063 |         if (rmax == 0 && min == 2) {
      |         ^
src\puzzlepro_core/./operations.cc:7063:23: note: +1
 7063 |         if (rmax == 0 && min == 2) {
      |                       ^
src\puzzlepro_core/./operations.cc:7067:12: note: +1, nesting level increased to 2
 7067 |       else if (!core.release_cards_ex_oneof.empty()) {
      |            ^
src\puzzlepro_core/./operations.cc:7070:7: note: +1, nesting level increased to 2
 7070 |       else {
      |       ^
src\puzzlepro_core/./operations.cc:7076:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 7076 |       if (!returns.ivalue[0]) {
      |       ^
src\puzzlepro_core/./operations.cc:7081:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 7081 |       if (core.temp_var[0] == 0) {
      |       ^
src\puzzlepro_core/./operations.cc:7082:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 7082 |         for (auto &pcard : core.release_cards_ex_oneof) {
      |         ^
src\puzzlepro_core/./operations.cc:7086:7: note: +1, nesting level increased to 2
 7086 |       else {
      |       ^
src\puzzlepro_core/./operations.cc:7087:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 7087 |         for (auto &pcard : core.release_cards_ex_oneof) {
      |         ^
src\puzzlepro_core/./operations.cc:7088:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 7088 |           if (pcard->release_param == 2) {
      |           ^
src\puzzlepro_core/./operations.cc:7101:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 7101 |       if (returns.ivalue[0] == -1) {
      |       ^
src\puzzlepro_core/./operations.cc:7111:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 7111 |       for (auto &pcard : core.release_cards_ex) {
      |       ^
src\puzzlepro_core/./operations.cc:7122:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 7122 |       if (returns.ivalue[0] == -1) {
      |       ^
src\puzzlepro_core/./operations.cc:7125:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 7125 |       for (int32_t i = 0; i < returns.bvalue[0]; ++i) {
      |       ^
src\puzzlepro_core/./operations.cc:7130:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 7130 |       for (auto &pcard : core.operated_set) {
      |       ^
src\puzzlepro_core/./operations.cc:7135:21: note: +2, including nesting penalty of 1, nesting level increased to 2
 7135 |       min = min > 0 ? min : 0;
      |                     ^
src\puzzlepro_core/./operations.cc:7136:21: note: +2, including nesting penalty of 1, nesting level increased to 2
 7136 |       max = max > 0 ? max : 0;
      |                     ^
src\puzzlepro_core/./operations.cc:7138:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 7138 |       if (min <= 0) {
      |       ^
src\puzzlepro_core/./operations.cc:7139:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 7139 |         if (max > 0 && !core.release_cards.empty()) {
      |         ^
src\puzzlepro_core/./operations.cc:7139:21: note: +1
 7139 |         if (max > 0 && !core.release_cards.empty()) {
      |                     ^
src\puzzlepro_core/./operations.cc:7142:9: note: +1, nesting level increased to 3
 7142 |         else {
      |         ^
src\puzzlepro_core/./operations.cc:7146:7: note: +1, nesting level increased to 2
 7146 |       else {
      |       ^
src\puzzlepro_core/./operations.cc:7152:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 7152 |       if (!returns.ivalue[0]) {
      |       ^
src\puzzlepro_core/./operations.cc:7157:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 7157 |       for (auto &pcard : core.release_cards) {
      |       ^
src\puzzlepro_core/./operations.cc:7168:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 7168 |       if (returns.ivalue[0] == -1) {
      |       ^
src\puzzlepro_core/./operations.cc:7171:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 7171 |       for (int32_t i = 0; i < returns.bvalue[0]; ++i) {
      |       ^
src\puzzlepro_core/./operations.cc:7180:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 7180 |       for (auto cit = core.operated_set.begin(); cit != core.operated_set.end(); ++cit, ++i) {
      |       ^
src\puzzlepro_core/./operations.cc:7185:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 7185 |       if (peffect) {
      |       ^
src\puzzlepro_core/./operations.cc:7194:16: warning: function 'toss_coin' has cognitive complexity of 39 (threshold 25) [readability-function-cognitive-complexity]
 7194 | int32_t field::toss_coin(uint16_t step, effect *reason_effect, uint8_t reason_player, uint8_t playerid, int32_t count) {
      |                ^
src\puzzlepro_core/./operations.cc:7195:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 7195 |   if (count == 0 || count < -1) {
      |   ^
src\puzzlepro_core/./operations.cc:7195:18: note: +1
 7195 |   if (count == 0 || count < -1) {
      |                  ^
src\puzzlepro_core/./operations.cc:7198:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 7198 |   if (count > MAX_COIN_COUNT) {
      |   ^
src\puzzlepro_core/./operations.cc:7201:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 7201 |   switch (step) {
      |   ^
src\puzzlepro_core/./operations.cc:7212:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 7212 |       for (int32_t i = 0; i < MAX_COIN_COUNT; ++i) {
      |       ^
src\puzzlepro_core/./operations.cc:7216:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 7216 |       for (auto eit = pr.first; eit != pr.second;) {
      |       ^
src\puzzlepro_core/./operations.cc:7219:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 7219 |         if (pe->is_activateable(pe->get_handler_player(), e)) {
      |         ^
src\puzzlepro_core/./operations.cc:7224:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 7224 |       if (!peffect) {
      |       ^
src\puzzlepro_core/./operations.cc:7225:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 7225 |         if (count > 0) {
      |         ^
src\puzzlepro_core/./operations.cc:7230:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 7230 |           for (int32_t i = 0; i < count; ++i) {
      |           ^
src\puzzlepro_core/./operations.cc:7235:14: note: +1, nesting level increased to 3
 7235 |         else if (count == -1) {
      |              ^
src\puzzlepro_core/./operations.cc:7237:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 7237 |           for (int32_t i = 0; i < MAX_COIN_COUNT; ++i) {
      |           ^
src\puzzlepro_core/./operations.cc:7239:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 7239 |             if (!core.coin_result[i]) {
      |             ^
src\puzzlepro_core/./operations.cc:7244:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 7244 |           if (!core.coin_count) {
      |           ^
src\puzzlepro_core/./operations.cc:7250:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 7250 |           for (int32_t i = 0; i < core.coin_count; ++i) {
      |           ^
src\puzzlepro_core/./operations.cc:7257:7: note: +1, nesting level increased to 2
 7257 |       else {
      |       ^
src\puzzlepro_core/./playerop.cc:77:16: warning: function 'select_idle_command' has cognitive complexity of 42 (threshold 25) [readability-function-cognitive-complexity]
   77 | int32_t field::select_idle_command(uint16_t step, uint8_t playerid) {
      |                ^
src\puzzlepro_core/./playerop.cc:78:3: note: +1, including nesting penalty of 0, nesting level increased to 1
   78 |   if (step == 0) {
      |   ^
src\puzzlepro_core/./playerop.cc:83:5: note: +2, including nesting penalty of 1, nesting level increased to 2
   83 |     for (auto &pcard : core.summonable_cards) {
      |     ^
src\puzzlepro_core/./playerop.cc:91:5: note: +2, including nesting penalty of 1, nesting level increased to 2
   91 |     for (auto &pcard : core.spsummonable_cards) {
      |     ^
src\puzzlepro_core/./playerop.cc:99:5: note: +2, including nesting penalty of 1, nesting level increased to 2
   99 |     for (auto &pcard : core.repositionable_cards) {
      |     ^
src\puzzlepro_core/./playerop.cc:107:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  107 |     for (auto &pcard : core.msetable_cards) {
      |     ^
src\puzzlepro_core/./playerop.cc:115:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  115 |     for (auto &pcard : core.ssetable_cards) {
      |     ^
src\puzzlepro_core/./playerop.cc:124:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  124 |     for (const auto &ch : core.select_chains) {
      |     ^
src\puzzlepro_core/./playerop.cc:127:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  127 |       if (!peffect->is_flag(EFFECT_FLAG_FIELD_ONLY)) {
      |       ^
src\puzzlepro_core/./playerop.cc:130:7: note: +1, nesting level increased to 3
  130 |       else {
      |       ^
src\puzzlepro_core/./playerop.cc:139:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  139 |     if (infos.phase == PHASE_MAIN1 && core.to_bp) {
      |     ^
src\puzzlepro_core/./playerop.cc:139:36: note: +1
  139 |     if (infos.phase == PHASE_MAIN1 && core.to_bp) {
      |                                    ^
src\puzzlepro_core/./playerop.cc:142:5: note: +1, nesting level increased to 2
  142 |     else {
      |     ^
src\puzzlepro_core/./playerop.cc:145:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  145 |     if (core.to_ep) {
      |     ^
src\puzzlepro_core/./playerop.cc:148:5: note: +1, nesting level increased to 2
  148 |     else {
      |     ^
src\puzzlepro_core/./playerop.cc:151:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  151 |     if (infos.can_shuffle && player[playerid].list_hand.size() > 1) {
      |     ^
src\puzzlepro_core/./playerop.cc:151:27: note: +1
  151 |     if (infos.can_shuffle && player[playerid].list_hand.size() > 1) {
      |                           ^
src\puzzlepro_core/./playerop.cc:154:5: note: +1, nesting level increased to 2
  154 |     else {
      |     ^
src\puzzlepro_core/./playerop.cc:159:3: note: +1, nesting level increased to 1
  159 |   else {
      |   ^
src\puzzlepro_core/./playerop.cc:165:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  165 |     if (t < 0 || t > 8 || s < 0 || (t == 0 && s >= (int32_t)core.summonable_cards.size()) || (t == 1 && s >= (int32_t)core.spsummonable_cards.size()) || (t == 2 && s >= (int32_t)core.repositionable_cards.size()) || (t == 3 && s >= (int32_t)core.msetable_cards.size()) || (t == 4 && s >= (int32_t)core.ssetable_cards.size()) || (t == 5 && s >= (int32_t)core.select_chains.size()) || (t == 6 && (infos.phase != PHASE_MAIN1 || !core.to_bp)) || (t == 7 && !core.to_ep) || (t == 8 && !(infos.can_shuffle && (int32_t)player[playerid].list_hand.size() > 1))) {
      |     ^
src\puzzlepro_core/./playerop.cc:165:466: note: +1
  165 |     if (t < 0 || t > 8 || s < 0 || (t == 0 && s >= (int32_t)core.summonable_cards.size()) || (t == 1 && s >= (int32_t)core.spsummonable_cards.size()) || (t == 2 && s >= (int32_t)core.repositionable_cards.size()) || (t == 3 && s >= (int32_t)core.msetable_cards.size()) || (t == 4 && s >= (int32_t)core.ssetable_cards.size()) || (t == 5 && s >= (int32_t)core.select_chains.size()) || (t == 6 && (infos.phase != PHASE_MAIN1 || !core.to_bp)) || (t == 7 && !core.to_ep) || (t == 8 && !(infos.can_shuffle && (int32_t)player[playerid].list_hand.size() > 1))) {
      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  ^
src\puzzlepro_core/./playerop.cc:165:44: note: +1
  165 |     if (t < 0 || t > 8 || s < 0 || (t == 0 && s >= (int32_t)core.summonable_cards.size()) || (t == 1 && s >= (int32_t)core.spsummonable_cards.size()) || (t == 2 && s >= (int32_t)core.repositionable_cards.size()) || (t == 3 && s >= (int32_t)core.msetable_cards.size()) || (t == 4 && s >= (int32_t)core.ssetable_cards.size()) || (t == 5 && s >= (int32_t)core.select_chains.size()) || (t == 6 && (infos.phase != PHASE_MAIN1 || !core.to_bp)) || (t == 7 && !core.to_ep) || (t == 8 && !(infos.can_shuffle && (int32_t)player[playerid].list_hand.size() > 1))) {
      |                                            ^
src\puzzlepro_core/./playerop.cc:165:102: note: +1
  165 |     if (t < 0 || t > 8 || s < 0 || (t == 0 && s >= (int32_t)core.summonable_cards.size()) || (t == 1 && s >= (int32_t)core.spsummonable_cards.size()) || (t == 2 && s >= (int32_t)core.repositionable_cards.size()) || (t == 3 && s >= (int32_t)core.msetable_cards.size()) || (t == 4 && s >= (int32_t)core.ssetable_cards.size()) || (t == 5 && s >= (int32_t)core.select_chains.size()) || (t == 6 && (infos.phase != PHASE_MAIN1 || !core.to_bp)) || (t == 7 && !core.to_ep) || (t == 8 && !(infos.can_shuffle && (int32_t)player[playerid].list_hand.size() > 1))) {
      |                                                                                                      ^
src\puzzlepro_core/./playerop.cc:165:162: note: +1
  165 |     if (t < 0 || t > 8 || s < 0 || (t == 0 && s >= (int32_t)core.summonable_cards.size()) || (t == 1 && s >= (int32_t)core.spsummonable_cards.size()) || (t == 2 && s >= (int32_t)core.repositionable_cards.size()) || (t == 3 && s >= (int32_t)core.msetable_cards.size()) || (t == 4 && s >= (int32_t)core.ssetable_cards.size()) || (t == 5 && s >= (int32_t)core.select_chains.size()) || (t == 6 && (infos.phase != PHASE_MAIN1 || !core.to_bp)) || (t == 7 && !core.to_ep) || (t == 8 && !(infos.can_shuffle && (int32_t)player[playerid].list_hand.size() > 1))) {
      |                                                                                                                                                                  ^
src\puzzlepro_core/./playerop.cc:165:224: note: +1
  165 |     if (t < 0 || t > 8 || s < 0 || (t == 0 && s >= (int32_t)core.summonable_cards.size()) || (t == 1 && s >= (int32_t)core.spsummonable_cards.size()) || (t == 2 && s >= (int32_t)core.repositionable_cards.size()) || (t == 3 && s >= (int32_t)core.msetable_cards.size()) || (t == 4 && s >= (int32_t)core.ssetable_cards.size()) || (t == 5 && s >= (int32_t)core.select_chains.size()) || (t == 6 && (infos.phase != PHASE_MAIN1 || !core.to_bp)) || (t == 7 && !core.to_ep) || (t == 8 && !(infos.can_shuffle && (int32_t)player[playerid].list_hand.size() > 1))) {
      |                                                                                                                                                                                                                                ^
src\puzzlepro_core/./playerop.cc:165:280: note: +1
  165 |     if (t < 0 || t > 8 || s < 0 || (t == 0 && s >= (int32_t)core.summonable_cards.size()) || (t == 1 && s >= (int32_t)core.spsummonable_cards.size()) || (t == 2 && s >= (int32_t)core.repositionable_cards.size()) || (t == 3 && s >= (int32_t)core.msetable_cards.size()) || (t == 4 && s >= (int32_t)core.ssetable_cards.size()) || (t == 5 && s >= (int32_t)core.select_chains.size()) || (t == 6 && (infos.phase != PHASE_MAIN1 || !core.to_bp)) || (t == 7 && !core.to_ep) || (t == 8 && !(infos.can_shuffle && (int32_t)player[playerid].list_hand.size() > 1))) {
      |                                                                                                                                                                                                                                                                                        ^
src\puzzlepro_core/./playerop.cc:165:336: note: +1
  165 |     if (t < 0 || t > 8 || s < 0 || (t == 0 && s >= (int32_t)core.summonable_cards.size()) || (t == 1 && s >= (int32_t)core.spsummonable_cards.size()) || (t == 2 && s >= (int32_t)core.repositionable_cards.size()) || (t == 3 && s >= (int32_t)core.msetable_cards.size()) || (t == 4 && s >= (int32_t)core.ssetable_cards.size()) || (t == 5 && s >= (int32_t)core.select_chains.size()) || (t == 6 && (infos.phase != PHASE_MAIN1 || !core.to_bp)) || (t == 7 && !core.to_ep) || (t == 8 && !(infos.can_shuffle && (int32_t)player[playerid].list_hand.size() > 1))) {
      |                                                                                                                                                                                                                                                                                                                                                ^
src\puzzlepro_core/./playerop.cc:165:391: note: +1
  165 |     if (t < 0 || t > 8 || s < 0 || (t == 0 && s >= (int32_t)core.summonable_cards.size()) || (t == 1 && s >= (int32_t)core.spsummonable_cards.size()) || (t == 2 && s >= (int32_t)core.repositionable_cards.size()) || (t == 3 && s >= (int32_t)core.msetable_cards.size()) || (t == 4 && s >= (int32_t)core.ssetable_cards.size()) || (t == 5 && s >= (int32_t)core.select_chains.size()) || (t == 6 && (infos.phase != PHASE_MAIN1 || !core.to_bp)) || (t == 7 && !core.to_ep) || (t == 8 && !(infos.can_shuffle && (int32_t)player[playerid].list_hand.size() > 1))) {
      |                                                                                                                                                                                                                                                                                                                                                                                                       ^
src\puzzlepro_core/./playerop.cc:165:422: note: +1
  165 |     if (t < 0 || t > 8 || s < 0 || (t == 0 && s >= (int32_t)core.summonable_cards.size()) || (t == 1 && s >= (int32_t)core.spsummonable_cards.size()) || (t == 2 && s >= (int32_t)core.repositionable_cards.size()) || (t == 3 && s >= (int32_t)core.msetable_cards.size()) || (t == 4 && s >= (int32_t)core.ssetable_cards.size()) || (t == 5 && s >= (int32_t)core.select_chains.size()) || (t == 6 && (infos.phase != PHASE_MAIN1 || !core.to_bp)) || (t == 7 && !core.to_ep) || (t == 8 && !(infos.can_shuffle && (int32_t)player[playerid].list_hand.size() > 1))) {
      |                                                                                                                                                                                                                                                                                                                                                                                                                                      ^
src\puzzlepro_core/./playerop.cc:165:450: note: +1
  165 |     if (t < 0 || t > 8 || s < 0 || (t == 0 && s >= (int32_t)core.summonable_cards.size()) || (t == 1 && s >= (int32_t)core.spsummonable_cards.size()) || (t == 2 && s >= (int32_t)core.repositionable_cards.size()) || (t == 3 && s >= (int32_t)core.msetable_cards.size()) || (t == 4 && s >= (int32_t)core.ssetable_cards.size()) || (t == 5 && s >= (int32_t)core.select_chains.size()) || (t == 6 && (infos.phase != PHASE_MAIN1 || !core.to_bp)) || (t == 7 && !core.to_ep) || (t == 8 && !(infos.can_shuffle && (int32_t)player[playerid].list_hand.size() > 1))) {
      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                  ^
src\puzzlepro_core/./playerop.cc:165:477: note: +1
  165 |     if (t < 0 || t > 8 || s < 0 || (t == 0 && s >= (int32_t)core.summonable_cards.size()) || (t == 1 && s >= (int32_t)core.spsummonable_cards.size()) || (t == 2 && s >= (int32_t)core.repositionable_cards.size()) || (t == 3 && s >= (int32_t)core.msetable_cards.size()) || (t == 4 && s >= (int32_t)core.ssetable_cards.size()) || (t == 5 && s >= (int32_t)core.select_chains.size()) || (t == 6 && (infos.phase != PHASE_MAIN1 || !core.to_bp)) || (t == 7 && !core.to_ep) || (t == 8 && !(infos.can_shuffle && (int32_t)player[playerid].list_hand.size() > 1))) {
      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             ^
src\puzzlepro_core/./playerop.cc:165:480: warning: boolean expression can be simplified by DeMorgan's theorem [readability-simplify-boolean-expr]
  165 |     if (t < 0 || t > 8 || s < 0 || (t == 0 && s >= (int32_t)core.summonable_cards.size()) || (t == 1 && s >= (int32_t)core.spsummonable_cards.size()) || (t == 2 && s >= (int32_t)core.repositionable_cards.size()) || (t == 3 && s >= (int32_t)core.msetable_cards.size()) || (t == 4 && s >= (int32_t)core.ssetable_cards.size()) || (t == 5 && s >= (int32_t)core.select_chains.size()) || (t == 6 && (infos.phase != PHASE_MAIN1 || !core.to_bp)) || (t == 7 && !core.to_ep) || (t == 8 && !(infos.can_shuffle && (int32_t)player[playerid].list_hand.size() > 1))) {
      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  !                 ||                                            <=
src\puzzlepro_core/./playerop.cc:247:16: warning: function 'select_card' has cognitive complexity of 26 (threshold 25) [readability-function-cognitive-complexity]
  247 | int32_t field::select_card(uint16_t step, uint8_t playerid, uint8_t cancelable, uint8_t min, uint8_t max) {
      |                ^
src\puzzlepro_core/./playerop.cc:248:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  248 |   if (step == 0) {
      |   ^
src\puzzlepro_core/./playerop.cc:250:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  250 |     if (max == 0 || core.select_cards.empty()) {
      |     ^
src\puzzlepro_core/./playerop.cc:250:18: note: +1
  250 |     if (max == 0 || core.select_cards.empty()) {
      |                  ^
src\puzzlepro_core/./playerop.cc:255:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  255 |     if (core.select_cards.size() > UINT8_MAX) {
      |     ^
src\puzzlepro_core/./playerop.cc:258:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  258 |     if (max > core.select_cards.size()) {
      |     ^
src\puzzlepro_core/./playerop.cc:261:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  261 |     if (min > max) {
      |     ^
src\puzzlepro_core/./playerop.cc:264:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  264 |     if ((playerid == 1) && (core.duel_options & DUEL_SIMPLE_AI)) {
      |     ^
src\puzzlepro_core/./playerop.cc:264:25: note: +1
  264 |     if ((playerid == 1) && (core.duel_options & DUEL_SIMPLE_AI)) {
      |                         ^
src\puzzlepro_core/./playerop.cc:266:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  266 |       for (uint8_t i = 0; i < min; ++i) {
      |       ^
src\puzzlepro_core/./playerop.cc:279:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  279 |     for (auto &pcard : core.select_cards) {
      |     ^
src\puzzlepro_core/./playerop.cc:285:3: note: +1, nesting level increased to 1
  285 |   else {
      |   ^
src\puzzlepro_core/./playerop.cc:287:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  287 |     if (returns.ivalue[0] == -1) {
      |     ^
src\puzzlepro_core/./playerop.cc:288:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  288 |       if (cancelable) {
      |       ^
src\puzzlepro_core/./playerop.cc:294:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  294 |     if (!check_response(core.select_cards.size(), min, max)) {
      |     ^
src\puzzlepro_core/./playerop.cc:302:16: warning: function 'select_unselect_card' has cognitive complexity of 27 (threshold 25) [readability-function-cognitive-complexity]
  302 | int32_t field::select_unselect_card(uint16_t step, uint8_t playerid, uint8_t cancelable, uint8_t min, uint8_t max, uint8_t finishable) {
      |                ^
src\puzzlepro_core/./playerop.cc:303:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  303 |   if (step == 0) {
      |   ^
src\puzzlepro_core/./playerop.cc:305:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  305 |     if (core.select_cards.empty() && core.unselect_cards.empty()) {
      |     ^
src\puzzlepro_core/./playerop.cc:305:35: note: +1
  305 |     if (core.select_cards.empty() && core.unselect_cards.empty()) {
      |                                   ^
src\puzzlepro_core/./playerop.cc:308:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  308 |     if ((playerid == 1) && (core.duel_options & DUEL_SIMPLE_AI)) {
      |     ^
src\puzzlepro_core/./playerop.cc:308:25: note: +1
  308 |     if ((playerid == 1) && (core.duel_options & DUEL_SIMPLE_AI)) {
      |                         ^
src\puzzlepro_core/./playerop.cc:310:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  310 |       for (uint8_t i = 0; i < 1; ++i) {
      |       ^
src\puzzlepro_core/./playerop.cc:317:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  317 |     if (core.select_cards.size() > UINT8_MAX) {
      |     ^
src\puzzlepro_core/./playerop.cc:320:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  320 |     if (core.unselect_cards.size() > UINT8_MAX) {
      |     ^
src\puzzlepro_core/./playerop.cc:331:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  331 |     for (auto &pcard : core.select_cards) {
      |     ^
src\puzzlepro_core/./playerop.cc:336:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  336 |     for (auto &pcard : core.unselect_cards) {
      |     ^
src\puzzlepro_core/./playerop.cc:342:3: note: +1, nesting level increased to 1
  342 |   else {
      |   ^
src\puzzlepro_core/./playerop.cc:343:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  343 |     if (returns.ivalue[0] == -1) {
      |     ^
src\puzzlepro_core/./playerop.cc:344:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  344 |       if (cancelable || finishable) {
      |       ^
src\puzzlepro_core/./playerop.cc:344:22: note: +1
  344 |       if (cancelable || finishable) {
      |                      ^
src\puzzlepro_core/./playerop.cc:350:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  350 |     if (!check_response(core.select_cards.size() + core.unselect_cards.size(), 1, 1)) {
      |     ^
src\puzzlepro_core/./playerop.cc:358:16: warning: function 'select_chain' has cognitive complexity of 39 (threshold 25) [readability-function-cognitive-complexity]
  358 | int32_t field::select_chain(uint16_t step, uint8_t playerid, uint8_t spe_count, uint8_t forced) {
      |                ^
src\puzzlepro_core/./playerop.cc:359:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  359 |   if (step == 0) {
      |   ^
src\puzzlepro_core/./playerop.cc:361:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  361 |     if ((playerid == 1) && (core.duel_options & DUEL_SIMPLE_AI)) {
      |     ^
src\puzzlepro_core/./playerop.cc:361:25: note: +1
  361 |     if ((playerid == 1) && (core.duel_options & DUEL_SIMPLE_AI)) {
      |                         ^
src\puzzlepro_core/./playerop.cc:362:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  362 |       if (core.select_chains.size() == 0) {
      |       ^
src\puzzlepro_core/./playerop.cc:365:12: note: +1, nesting level increased to 3
  365 |       else if (forced) {
      |            ^
src\puzzlepro_core/./playerop.cc:368:7: note: +1, nesting level increased to 3
  368 |       else {
      |       ^
src\puzzlepro_core/./playerop.cc:370:9: note: +4, including nesting penalty of 3, nesting level increased to 4
  370 |         for (const auto &ch : core.current_chain) {
      |         ^
src\puzzlepro_core/./playerop.cc:371:11: note: +5, including nesting penalty of 4, nesting level increased to 5
  371 |           if (ch.triggering_player == 1) {
      |           ^
src\puzzlepro_core/./playerop.cc:375:9: note: +4, including nesting penalty of 3, nesting level increased to 4
  375 |         if (act) {
      |         ^
src\puzzlepro_core/./playerop.cc:378:9: note: +1, nesting level increased to 4
  378 |         else {
      |         ^
src\puzzlepro_core/./playerop.cc:392:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  392 |     for (const auto &ch : core.select_chains) {
      |     ^
src\puzzlepro_core/./playerop.cc:395:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  395 |       if (peffect->is_flag(EFFECT_FLAG_FIELD_ONLY)) {
      |       ^
src\puzzlepro_core/./playerop.cc:398:12: note: +1, nesting level increased to 3
  398 |       else if (!(peffect->type & EFFECT_TYPE_ACTIONS)) {
      |            ^
src\puzzlepro_core/./playerop.cc:401:7: note: +1, nesting level increased to 3
  401 |       else {
      |       ^
src\puzzlepro_core/./playerop.cc:410:3: note: +1, nesting level increased to 1
  410 |   else {
      |   ^
src\puzzlepro_core/./playerop.cc:412:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  412 |     if (returns.ivalue[0] == -1) {
      |     ^
src\puzzlepro_core/./playerop.cc:413:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  413 |       if (!forced) {
      |       ^
src\puzzlepro_core/./playerop.cc:419:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  419 |     if (returns.ivalue[0] < 0 || returns.ivalue[0] >= (int32_t)core.select_chains.size()) {
      |     ^
src\puzzlepro_core/./playerop.cc:419:31: note: +1
  419 |     if (returns.ivalue[0] < 0 || returns.ivalue[0] >= (int32_t)core.select_chains.size()) {
      |                               ^
src\puzzlepro_core/./playerop.cc:427:16: warning: function 'select_place' has cognitive complexity of 56 (threshold 25) [readability-function-cognitive-complexity]
  427 | int32_t field::select_place(uint16_t step, uint8_t playerid, uint32_t flag, uint8_t count) {
      |                ^
src\puzzlepro_core/./playerop.cc:428:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  428 |   if (step == 0) {
      |   ^
src\puzzlepro_core/./playerop.cc:429:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  429 |     if ((playerid == 1) && (core.duel_options & DUEL_SIMPLE_AI)) {
      |     ^
src\puzzlepro_core/./playerop.cc:429:25: note: +1
  429 |     if ((playerid == 1) && (core.duel_options & DUEL_SIMPLE_AI)) {
      |                         ^
src\puzzlepro_core/./playerop.cc:433:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  433 |       if (flag & 0x7f) {
      |       ^
src\puzzlepro_core/./playerop.cc:438:12: note: +1, nesting level increased to 3
  438 |       else if (flag & 0x1f00) {
      |            ^
src\puzzlepro_core/./playerop.cc:443:12: note: +1, nesting level increased to 3
  443 |       else if (flag & 0xc000) {
      |            ^
src\puzzlepro_core/./playerop.cc:449:12: note: +1, nesting level increased to 3
  449 |       else if (flag & 0x7f0000) {
      |            ^
src\puzzlepro_core/./playerop.cc:454:12: note: +1, nesting level increased to 3
  454 |       else if (flag & 0x1f000000) {
      |            ^
src\puzzlepro_core/./playerop.cc:459:7: note: +1, nesting level increased to 3
  459 |       else {
      |       ^
src\puzzlepro_core/./playerop.cc:465:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  465 |       if (!pzone) {
      |       ^
src\puzzlepro_core/./playerop.cc:466:9: note: +4, including nesting penalty of 3, nesting level increased to 4
  466 |         if (filter & 0x40) {
      |         ^
src\puzzlepro_core/./playerop.cc:469:14: note: +1, nesting level increased to 4
  469 |         else if (filter & 0x20) {
      |              ^
src\puzzlepro_core/./playerop.cc:472:14: note: +1, nesting level increased to 4
  472 |         else if (filter & 0x4) {
      |              ^
src\puzzlepro_core/./playerop.cc:475:14: note: +1, nesting level increased to 4
  475 |         else if (filter & 0x2) {
      |              ^
src\puzzlepro_core/./playerop.cc:478:14: note: +1, nesting level increased to 4
  478 |         else if (filter & 0x8) {
      |              ^
src\puzzlepro_core/./playerop.cc:481:14: note: +1, nesting level increased to 4
  481 |         else if (filter & 0x1) {
      |              ^
src\puzzlepro_core/./playerop.cc:484:14: note: +1, nesting level increased to 4
  484 |         else if (filter & 0x10) {
      |              ^
src\puzzlepro_core/./playerop.cc:488:7: note: +1, nesting level increased to 3
  488 |       else {
      |       ^
src\puzzlepro_core/./playerop.cc:489:9: note: +4, including nesting penalty of 3, nesting level increased to 4
  489 |         if (filter & 0x1) {
      |         ^
src\puzzlepro_core/./playerop.cc:492:14: note: +1, nesting level increased to 4
  492 |         else if (filter & 0x2) {
      |              ^
src\puzzlepro_core/./playerop.cc:498:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  498 |     if (core.units.begin()->type == PROCESSOR_SELECT_PLACE) {
      |     ^
src\puzzlepro_core/./playerop.cc:501:5: note: +1, nesting level increased to 2
  501 |     else {
      |     ^
src\puzzlepro_core/./playerop.cc:510:3: note: +1, nesting level increased to 1
  510 |   else {
      |   ^
src\puzzlepro_core/./playerop.cc:514:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  514 |     for (int32_t i = 0; i < len; ++i) {
      |     ^
src\puzzlepro_core/./playerop.cc:518:50: note: +3, including nesting penalty of 2, nesting level increased to 3
  518 |       uint32_t sel = 0x1u << (s + (p == playerid ? 0 : 16) + (l == LOCATION_MZONE ? 0 : 8));
      |                                                  ^
src\puzzlepro_core/./playerop.cc:518:83: note: +3, including nesting penalty of 2, nesting level increased to 3
  518 |       uint32_t sel = 0x1u << (s + (p == playerid ? 0 : 16) + (l == LOCATION_MZONE ? 0 : 8));
      |                                                                                   ^
src\puzzlepro_core/./playerop.cc:523:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  523 |       if (!(count == 0 && i == 0 && l == 0) && ((p != 0 && p != 1) || ((l != LOCATION_MZONE) && (l != LOCATION_SZONE)) || (sel & flag) || (sel & selected))) {
      |       ^
src\puzzlepro_core/./playerop.cc:523:45: note: +1
  523 |       if (!(count == 0 && i == 0 && l == 0) && ((p != 0 && p != 1) || ((l != LOCATION_MZONE) && (l != LOCATION_SZONE)) || (sel & flag) || (sel & selected))) {
      |                                             ^
src\puzzlepro_core/./playerop.cc:523:136: note: +1
  523 |       if (!(count == 0 && i == 0 && l == 0) && ((p != 0 && p != 1) || ((l != LOCATION_MZONE) && (l != LOCATION_SZONE)) || (sel & flag) || (sel & selected))) {
      |                                                                                                                                        ^
src\puzzlepro_core/./playerop.cc:523:57: note: +1
  523 |       if (!(count == 0 && i == 0 && l == 0) && ((p != 0 && p != 1) || ((l != LOCATION_MZONE) && (l != LOCATION_SZONE)) || (sel & flag) || (sel & selected))) {
      |                                                         ^
src\puzzlepro_core/./playerop.cc:523:94: note: +1
  523 |       if (!(count == 0 && i == 0 && l == 0) && ((p != 0 && p != 1) || ((l != LOCATION_MZONE) && (l != LOCATION_SZONE)) || (sel & flag) || (sel & selected))) {
      |                                                                                              ^
src\puzzlepro_core/./playerop.cc:527:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  527 |       if (sel & (0x1u << 5)) {
      |       ^
src\puzzlepro_core/./playerop.cc:530:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  530 |       if (sel & (0x1u << 6)) {
      |       ^
src\puzzlepro_core/./playerop.cc:523:11: warning: boolean expression can be simplified by DeMorgan's theorem [readability-simplify-boolean-expr]
  523 |       if (!(count == 0 && i == 0 && l == 0) && ((p != 0 && p != 1) || ((l != LOCATION_MZONE) && (l != LOCATION_SZONE)) || (sel & flag) || (sel & selected))) {
      |           ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
      |                   !=   ||   !=   ||   !=
src\puzzlepro_core/./playerop.cc:583:16: warning: function 'select_tribute' has cognitive complexity of 32 (threshold 25) [readability-function-cognitive-complexity]
  583 | int32_t field::select_tribute(uint16_t step, uint8_t playerid, uint8_t cancelable, uint8_t min, uint8_t max) {
      |                ^
src\puzzlepro_core/./playerop.cc:584:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  584 |   if (step == 0) {
      |   ^
src\puzzlepro_core/./playerop.cc:586:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  586 |     if (max == 0 || core.select_cards.empty()) {
      |     ^
src\puzzlepro_core/./playerop.cc:586:18: note: +1
  586 |     if (max == 0 || core.select_cards.empty()) {
      |                  ^
src\puzzlepro_core/./playerop.cc:591:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  591 |     if (core.select_cards.size() > UINT8_MAX) {
      |     ^
src\puzzlepro_core/./playerop.cc:595:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  595 |     for (auto &pcard : core.select_cards) {
      |     ^
src\puzzlepro_core/./playerop.cc:598:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  598 |     if (max > 5) {
      |     ^
src\puzzlepro_core/./playerop.cc:601:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  601 |     if (max > tm) {
      |     ^
src\puzzlepro_core/./playerop.cc:604:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  604 |     if (min > max) {
      |     ^
src\puzzlepro_core/./playerop.cc:615:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  615 |     for (auto &pcard : core.select_cards) {
      |     ^
src\puzzlepro_core/./playerop.cc:624:3: note: +1, nesting level increased to 1
  624 |   else {
      |   ^
src\puzzlepro_core/./playerop.cc:625:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  625 |     if (returns.ivalue[0] == -1) {
      |     ^
src\puzzlepro_core/./playerop.cc:626:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  626 |       if (cancelable) {
      |       ^
src\puzzlepro_core/./playerop.cc:632:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  632 |     if (returns.bvalue[0] > max) {
      |     ^
src\puzzlepro_core/./playerop.cc:638:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  638 |     for (int32_t i = 0; i < returns.bvalue[0]; ++i) {
      |     ^
src\puzzlepro_core/./playerop.cc:640:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  640 |       if (v >= m || c.count(v)) {
      |       ^
src\puzzlepro_core/./playerop.cc:640:18: note: +1
  640 |       if (v >= m || c.count(v)) {
      |                  ^
src\puzzlepro_core/./playerop.cc:647:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  647 |     if (tt < min) {
      |     ^
src\puzzlepro_core/./playerop.cc:655:16: warning: function 'select_counter' has cognitive complexity of 40 (threshold 25) [readability-function-cognitive-complexity]
  655 | int32_t field::select_counter(uint16_t step, uint8_t playerid, uint16_t countertype, uint16_t count, uint8_t s, uint8_t o) {
      |                ^
src\puzzlepro_core/./playerop.cc:656:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  656 |   if (step == 0) {
      |   ^
src\puzzlepro_core/./playerop.cc:657:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  657 |     if (count == 0) {
      |     ^
src\puzzlepro_core/./playerop.cc:664:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  664 |     for (int p = 0; p < 2; ++p) {
      |     ^
src\puzzlepro_core/./playerop.cc:665:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  665 |       if (avail) {
      |       ^
src\puzzlepro_core/./playerop.cc:666:9: note: +4, including nesting penalty of 3, nesting level increased to 4
  666 |         for (auto &pcard : player[fp].list_mzone) {
      |         ^
src\puzzlepro_core/./playerop.cc:667:11: note: +5, including nesting penalty of 4, nesting level increased to 5
  667 |           if (pcard && pcard->get_counter(countertype)) {
      |           ^
src\puzzlepro_core/./playerop.cc:667:21: note: +1
  667 |           if (pcard && pcard->get_counter(countertype)) {
      |                     ^
src\puzzlepro_core/./playerop.cc:672:9: note: +4, including nesting penalty of 3, nesting level increased to 4
  672 |         for (auto &pcard : player[fp].list_szone) {
      |         ^
src\puzzlepro_core/./playerop.cc:673:11: note: +5, including nesting penalty of 4, nesting level increased to 5
  673 |           if (pcard && pcard->get_counter(countertype)) {
      |           ^
src\puzzlepro_core/./playerop.cc:673:21: note: +1
  673 |           if (pcard && pcard->get_counter(countertype)) {
      |                     ^
src\puzzlepro_core/./playerop.cc:682:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  682 |     if (count > total) {
      |     ^
src\puzzlepro_core/./playerop.cc:694:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  694 |     for (auto &pcard : core.select_cards) {
      |     ^
src\puzzlepro_core/./playerop.cc:703:3: note: +1, nesting level increased to 1
  703 |   else {
      |   ^
src\puzzlepro_core/./playerop.cc:705:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  705 |     for (int32_t i = 0; i < (int32_t)core.select_cards.size(); ++i) {
      |     ^
src\puzzlepro_core/./playerop.cc:706:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  706 |       if (core.select_cards[i]->get_counter(countertype) < returns.svalue[i]) {
      |       ^
src\puzzlepro_core/./playerop.cc:712:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  712 |     if (ct != count) {
      |     ^
src\puzzlepro_core/./playerop.cc:732:16: warning: function 'select_with_sum_limit' has cognitive complexity of 73 (threshold 25) [readability-function-cognitive-complexity]
  732 | int32_t field::select_with_sum_limit(int16_t step, uint8_t playerid, int32_t acc, int32_t min, int32_t max) {
      |                ^
src\puzzlepro_core/./playerop.cc:733:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  733 |   if (step == 0) {
      |   ^
src\puzzlepro_core/./playerop.cc:735:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  735 |     if (core.select_cards.empty()) {
      |     ^
src\puzzlepro_core/./playerop.cc:740:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  740 |     if (core.select_cards.size() > UINT8_MAX) {
      |     ^
src\puzzlepro_core/./playerop.cc:743:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  743 |     if (core.must_select_cards.size() > UINT8_MAX) {
      |     ^
src\puzzlepro_core/./playerop.cc:747:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  747 |     if (max) {
      |     ^
src\puzzlepro_core/./playerop.cc:750:5: note: +1, nesting level increased to 2
  750 |     else {
      |     ^
src\puzzlepro_core/./playerop.cc:753:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  753 |     if (max < min) {
      |     ^
src\puzzlepro_core/./playerop.cc:762:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  762 |     for (auto &pcard : core.must_select_cards) {
      |     ^
src\puzzlepro_core/./playerop.cc:770:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  770 |     for (auto &pcard : core.select_cards) {
      |     ^
src\puzzlepro_core/./playerop.cc:779:3: note: +1, nesting level increased to 1
  779 |   else {
      |   ^
src\puzzlepro_core/./playerop.cc:782:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  782 |     if (mcount > UINT8_MAX) {
      |     ^
src\puzzlepro_core/./playerop.cc:785:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  785 |     if (max) {
      |     ^
src\puzzlepro_core/./playerop.cc:787:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  787 |       if (returns.bvalue[0] < min + mcount || returns.bvalue[0] > max + mcount) {
      |       ^
src\puzzlepro_core/./playerop.cc:787:44: note: +1
  787 |       if (returns.bvalue[0] < min + mcount || returns.bvalue[0] > max + mcount) {
      |                                            ^
src\puzzlepro_core/./playerop.cc:791:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  791 |       for (int32_t i = 0; i < mcount; ++i) {
      |       ^
src\puzzlepro_core/./playerop.cc:795:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  795 |       for (int32_t i = mcount; i < returns.bvalue[0]; ++i) {
      |       ^
src\puzzlepro_core/./playerop.cc:797:9: note: +4, including nesting penalty of 3, nesting level increased to 4
  797 |         if (v < 0 || v >= m || c.count(v)) {
      |         ^
src\puzzlepro_core/./playerop.cc:797:29: note: +1
  797 |         if (v < 0 || v >= m || c.count(v)) {
      |                             ^
src\puzzlepro_core/./playerop.cc:804:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  804 |       if (!select_sum_check1(oparam, returns.bvalue[0], 0, acc, 0xffff)) {
      |       ^
src\puzzlepro_core/./playerop.cc:810:5: note: +1, nesting level increased to 2
  810 |     else {
      |     ^
src\puzzlepro_core/./playerop.cc:812:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  812 |       for (int32_t i = 0; i < mcount; ++i) {
      |       ^
src\puzzlepro_core/./playerop.cc:816:38: note: +4, including nesting penalty of 3, nesting level increased to 4
  816 |         int32_t ms = (o2 && o2 < o1) ? o2 : o1;
      |                                      ^
src\puzzlepro_core/./playerop.cc:816:26: note: +1
  816 |         int32_t ms = (o2 && o2 < o1) ? o2 : o1;
      |                          ^
src\puzzlepro_core/./playerop.cc:819:9: note: +4, including nesting penalty of 3, nesting level increased to 4
  819 |         if (ms < mn) {
      |         ^
src\puzzlepro_core/./playerop.cc:824:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  824 |       for (int32_t i = mcount; i < returns.bvalue[0]; ++i) {
      |       ^
src\puzzlepro_core/./playerop.cc:826:9: note: +4, including nesting penalty of 3, nesting level increased to 4
  826 |         if (v < 0 || v >= m || c.count(v)) {
      |         ^
src\puzzlepro_core/./playerop.cc:826:29: note: +1
  826 |         if (v < 0 || v >= m || c.count(v)) {
      |                             ^
src\puzzlepro_core/./playerop.cc:834:38: note: +4, including nesting penalty of 3, nesting level increased to 4
  834 |         int32_t ms = (o2 && o2 < o1) ? o2 : o1;
      |                                      ^
src\puzzlepro_core/./playerop.cc:834:26: note: +1
  834 |         int32_t ms = (o2 && o2 < o1) ? o2 : o1;
      |                          ^
src\puzzlepro_core/./playerop.cc:837:9: note: +4, including nesting penalty of 3, nesting level increased to 4
  837 |         if (ms < mn) {
      |         ^
src\puzzlepro_core/./playerop.cc:841:7: note: +3, including nesting penalty of 2, nesting level increased to 3
  841 |       if (mx < acc || sum - mn >= acc) {
      |       ^
src\puzzlepro_core/./playerop.cc:841:20: note: +1
  841 |       if (mx < acc || sum - mn >= acc) {
      |                    ^
src\puzzlepro_core/./playerop.cc:982:16: warning: function 'is_declarable' has cognitive complexity of 48 (threshold 25) [readability-function-cognitive-complexity]
  982 | static int32_t is_declarable(card_data const &cd, const std::vector<uint32_t> &opcode) {
      |                ^
src\puzzlepro_core/./playerop.cc:984:3: note: +1, including nesting penalty of 0, nesting level increased to 1
  984 |   for (auto &it : opcode) {
      |   ^
src\puzzlepro_core/./playerop.cc:985:5: note: +2, including nesting penalty of 1, nesting level increased to 2
  985 |     switch (it) {
      |     ^
src\puzzlepro_core/./playerop.cc:987:9: note: +3, including nesting penalty of 2, nesting level increased to 3
  987 |         if (stack.size() >= 2) {
      |         ^
src\puzzlepro_core/./playerop.cc:997:9: note: +3, including nesting penalty of 2, nesting level increased to 3
  997 |         if (stack.size() >= 2) {
      |         ^
src\puzzlepro_core/./playerop.cc:1007:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1007 |         if (stack.size() >= 2) {
      |         ^
src\puzzlepro_core/./playerop.cc:1017:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1017 |         if (stack.size() >= 2) {
      |         ^
src\puzzlepro_core/./playerop.cc:1027:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1027 |         if (stack.size() >= 2) {
      |         ^
src\puzzlepro_core/./playerop.cc:1032:47: note: +1
 1032 |           stack.push(static_cast<int32_t>(lhs && rhs));
      |                                               ^
src\puzzlepro_core/./playerop.cc:1037:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1037 |         if (stack.size() >= 2) {
      |         ^
src\puzzlepro_core/./playerop.cc:1042:47: note: +1
 1042 |           stack.push(static_cast<int32_t>(lhs || rhs));
      |                                               ^
src\puzzlepro_core/./playerop.cc:1047:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1047 |         if (stack.size() >= 1) {
      |         ^
src\puzzlepro_core/./playerop.cc:1055:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1055 |         if (stack.size() >= 1) {
      |         ^
src\puzzlepro_core/./playerop.cc:1063:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1063 |         if (stack.size() >= 1) {
      |         ^
src\puzzlepro_core/./playerop.cc:1071:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1071 |         if (stack.size() >= 1) {
      |         ^
src\puzzlepro_core/./playerop.cc:1080:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1080 |         if (stack.size() >= 1) {
      |         ^
src\puzzlepro_core/./playerop.cc:1088:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1088 |         if (stack.size() >= 1) {
      |         ^
src\puzzlepro_core/./playerop.cc:1096:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1096 |         if (stack.size() >= 1) {
      |         ^
src\puzzlepro_core/./playerop.cc:1109:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1109 |   if (stack.size() != 1 || stack.top() == 0) {
      |   ^
src\puzzlepro_core/./playerop.cc:1109:25: note: +1
 1109 |   if (stack.size() != 1 || stack.top() == 0) {
      |                         ^
src\puzzlepro_core/./playerop.cc:1112:73: note: +1
 1112 |   return cd.code == CARD_MARINE_DOLPHIN || cd.code == CARD_TWINKLE_MOSS || (!cd.alias && (cd.type & (TYPE_MONSTER | TYPE_TOKEN)) != (TYPE_MONSTER | TYPE_TOKEN));
      |                                                                         ^
src\puzzlepro_core/./playerop.cc:1112:87: note: +1
 1112 |   return cd.code == CARD_MARINE_DOLPHIN || cd.code == CARD_TWINKLE_MOSS || (!cd.alias && (cd.type & (TYPE_MONSTER | TYPE_TOKEN)) != (TYPE_MONSTER | TYPE_TOKEN));
      |                                                                                       ^
src\puzzlepro_core/./processor.cc:22:17: warning: function 'process' has cognitive complexity of 307 (threshold 25) [readability-function-cognitive-complexity]
   22 | uint32_t field::process() {
      |                 ^
src\puzzlepro_core/./processor.cc:24:3: note: +1, including nesting penalty of 0, nesting level increased to 1
   24 |   if (core.subunits.size()) {
      |   ^
src\puzzlepro_core/./processor.cc:27:3: note: +1, including nesting penalty of 0, nesting level increased to 1
   27 |   if (core.units.size() == 0) {
      |   ^
src\puzzlepro_core/./processor.cc:51:3: note: +1, including nesting penalty of 0, nesting level increased to 1
   51 |   if (aux["DebugConstant_PROCESSOR"]) {
      |   ^
src\puzzlepro_core/./processor.cc:52:5: note: +2, including nesting penalty of 1, nesting level increased to 2
   52 |     if (not(it->type == PROCESSOR_ADJUST) and not(it->type == PROCESSOR_REFRESH_LOC)) {
      |     ^
src\puzzlepro_core/./processor.cc:52:43: note: +1
   52 |     if (not(it->type == PROCESSOR_ADJUST) and not(it->type == PROCESSOR_REFRESH_LOC)) {
      |                                           ^
src\puzzlepro_core/./processor.cc:56:3: note: +1, including nesting penalty of 0, nesting level increased to 1
   56 |   switch (it->type) {
      |   ^
src\puzzlepro_core/./processor.cc:58:7: note: +2, including nesting penalty of 1, nesting level increased to 2
   58 |       if (adjust_step(it->step)) {
      |       ^
src\puzzlepro_core/./processor.cc:61:7: note: +1, nesting level increased to 2
   61 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:67:7: note: +2, including nesting penalty of 1, nesting level increased to 2
   67 |       if (process_turn(it->step, it->arg1)) {
      |       ^
src\puzzlepro_core/./processor.cc:70:7: note: +1, nesting level increased to 2
   70 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:80:7: note: +2, including nesting penalty of 1, nesting level increased to 2
   80 |       if (refresh_location_info(it->step)) {
      |       ^
src\puzzlepro_core/./processor.cc:83:7: note: +1, nesting level increased to 2
   83 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:89:7: note: +2, including nesting penalty of 1, nesting level increased to 2
   89 |       if (select_battle_command(it->step, it->arg1)) {
      |       ^
src\puzzlepro_core/./processor.cc:93:7: note: +1, nesting level increased to 2
   93 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:99:7: note: +2, including nesting penalty of 1, nesting level increased to 2
   99 |       if (select_idle_command(it->step, it->arg1)) {
      |       ^
src\puzzlepro_core/./processor.cc:103:7: note: +1, nesting level increased to 2
  103 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:109:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  109 |       if (select_effect_yes_no(it->step, it->arg1, it->arg2, (card *)it->ptarget)) {
      |       ^
src\puzzlepro_core/./processor.cc:113:7: note: +1, nesting level increased to 2
  113 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:119:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  119 |       if (select_yes_no(it->step, it->arg1, it->arg2)) {
      |       ^
src\puzzlepro_core/./processor.cc:123:7: note: +1, nesting level increased to 2
  123 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:129:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  129 |       if (select_option(it->step, it->arg1)) {
      |       ^
src\puzzlepro_core/./processor.cc:133:7: note: +1, nesting level increased to 2
  133 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:139:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  139 |       if (select_card(it->step, it->arg1 & 0xff, (it->arg1 >> 16) & 0xff, (it->arg2) & 0xff, (it->arg2 >> 16) & 0xff)) {
      |       ^
src\puzzlepro_core/./processor.cc:143:7: note: +1, nesting level increased to 2
  143 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:149:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  149 |       if (select_unselect_card(it->step, it->arg1 & 0xff, (it->arg1 >> 16) & 0xff, (it->arg2) & 0xff, (it->arg2 >> 16) & 0xff, (it->arg3) & 0xff)) {
      |       ^
src\puzzlepro_core/./processor.cc:153:7: note: +1, nesting level increased to 2
  153 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:159:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  159 |       if (select_chain(it->step, it->arg1, (it->arg2 & 0xffff), it->arg2 >> 16)) {
      |       ^
src\puzzlepro_core/./processor.cc:163:7: note: +1, nesting level increased to 2
  163 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:170:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  170 |       if (select_place(it->step, it->arg1, it->arg2, it->arg3)) {
      |       ^
src\puzzlepro_core/./processor.cc:174:7: note: +1, nesting level increased to 2
  174 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:180:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  180 |       if (select_position(it->step, it->arg1 & 0xffff, it->arg2, (it->arg1 >> 16) & 0xffff)) {
      |       ^
src\puzzlepro_core/./processor.cc:184:7: note: +1, nesting level increased to 2
  184 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:190:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  190 |       if (select_tribute(it->step, it->arg1 & 0xff, (it->arg1 >> 16) & 0xff, (it->arg2) & 0xff, (it->arg2 >> 16) & 0xff)) {
      |       ^
src\puzzlepro_core/./processor.cc:194:7: note: +1, nesting level increased to 2
  194 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:200:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  200 |       if (select_counter(it->step, it->arg1, it->arg2, it->arg3, it->arg4 >> 8, it->arg4 & 0xff)) {
      |       ^
src\puzzlepro_core/./processor.cc:204:7: note: +1, nesting level increased to 2
  204 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:210:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  210 |       if (select_with_sum_limit(it->step, it->arg2, it->arg1, it->arg3, it->arg4)) {
      |       ^
src\puzzlepro_core/./processor.cc:214:7: note: +1, nesting level increased to 2
  214 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:220:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  220 |       if (sort_card(it->step, it->arg1)) {
      |       ^
src\puzzlepro_core/./processor.cc:224:7: note: +1, nesting level increased to 2
  224 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:230:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  230 |       if (select_release_cards(it->step, it->arg1 & 0xff, (it->arg1 >> 16) & 0xff, (it->arg2) & 0xff, (it->arg2 >> 16) & 0xff)) {
      |       ^
src\puzzlepro_core/./processor.cc:233:7: note: +1, nesting level increased to 2
  233 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:239:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  239 |       if (select_tribute_cards(it->step, (card *)it->ptarget, it->arg1 & 0xff, (it->arg1 >> 16) & 0xff, (it->arg2) & 0xff, (it->arg2 >> 16) & 0xff, it->arg3, it->arg4)) {
      |       ^
src\puzzlepro_core/./processor.cc:242:7: note: +1, nesting level increased to 2
  242 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:248:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  248 |       if (process_point_event(it->step, it->arg1 & 0xff, (it->arg1 >> 8) & 0xff, it->arg2)) {
      |       ^
src\puzzlepro_core/./processor.cc:251:7: note: +1, nesting level increased to 2
  251 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:257:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  257 |       if (process_quick_effect(it->step, it->arg1, it->arg2)) {
      |       ^
src\puzzlepro_core/./processor.cc:260:7: note: +1, nesting level increased to 2
  260 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:266:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  266 |       if (process_idle_command(it->step)) {
      |       ^
src\puzzlepro_core/./processor.cc:269:7: note: +1, nesting level increased to 2
  269 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:275:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  275 |       if (process_phase_event(it->step, it->arg1)) {
      |       ^
src\puzzlepro_core/./processor.cc:278:7: note: +1, nesting level increased to 2
  278 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:284:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  284 |       if (process_battle_command(it->step)) {
      |       ^
src\puzzlepro_core/./processor.cc:287:7: note: +1, nesting level increased to 2
  287 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:293:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  293 |       if (process_damage_step(it->step, it->arg2)) {
      |       ^
src\puzzlepro_core/./processor.cc:296:7: note: +1, nesting level increased to 2
  296 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:302:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  302 |       if (add_chain(it->step)) {
      |       ^
src\puzzlepro_core/./processor.cc:305:7: note: +1, nesting level increased to 2
  305 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:311:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  311 |       if (solve_chain(it->step, it->arg1, it->arg2)) {
      |       ^
src\puzzlepro_core/./processor.cc:314:7: note: +1, nesting level increased to 2
  314 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:320:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  320 |       if (solve_continuous(it->step)) {
      |       ^
src\puzzlepro_core/./processor.cc:323:7: note: +1, nesting level increased to 2
  323 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:329:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  329 |       if (execute_cost(it->step, it->peffect, it->arg1)) {
      |       ^
src\puzzlepro_core/./processor.cc:333:7: note: +1, nesting level increased to 2
  333 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:339:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  339 |       if (execute_operation(it->step, it->peffect, it->arg1)) {
      |       ^
src\puzzlepro_core/./processor.cc:343:7: note: +1, nesting level increased to 2
  343 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:349:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  349 |       if (execute_target(it->step, it->peffect, it->arg1)) {
      |       ^
src\puzzlepro_core/./processor.cc:353:7: note: +1, nesting level increased to 2
  353 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:359:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  359 |       if (destroy(it->step, it->ptarget, it->peffect, it->arg1, it->arg2)) {
      |       ^
src\puzzlepro_core/./processor.cc:362:7: note: +1, nesting level increased to 2
  362 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:368:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  368 |       if (release(it->step, it->ptarget, it->peffect, it->arg1, it->arg2)) {
      |       ^
src\puzzlepro_core/./processor.cc:371:7: note: +1, nesting level increased to 2
  371 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:377:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  377 |       if (send_to(it->step, it->ptarget, it->peffect, it->arg1, it->arg2, it->arg3)) {
      |       ^
src\puzzlepro_core/./processor.cc:380:7: note: +1, nesting level increased to 2
  380 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:386:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  386 |       if (destroy_replace(it->step, it->ptarget, (card *)it->ptr1, it->arg2)) {
      |       ^
src\puzzlepro_core/./processor.cc:389:7: note: +1, nesting level increased to 2
  389 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:395:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  395 |       if (release_replace(it->step, it->ptarget, (card *)it->ptr1)) {
      |       ^
src\puzzlepro_core/./processor.cc:398:7: note: +1, nesting level increased to 2
  398 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:404:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  404 |       if (send_replace(it->step, it->ptarget, (card *)it->ptr1)) {
      |       ^
src\puzzlepro_core/./processor.cc:407:7: note: +1, nesting level increased to 2
  407 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:413:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  413 |       if (move_to_field(it->step, (card *)it->ptarget, it->arg1, it->arg2 & 0xff, (it->arg2 >> 8) & 0xff, it->arg3)) {
      |       ^
src\puzzlepro_core/./processor.cc:416:7: note: +1, nesting level increased to 2
  416 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:422:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  422 |       if (change_position(it->step, it->ptarget, it->peffect, it->arg1, it->arg2)) {
      |       ^
src\puzzlepro_core/./processor.cc:425:7: note: +1, nesting level increased to 2
  425 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:431:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  431 |       if (operation_replace(it->step, it->peffect, it->ptarget, (card *)it->ptr1, it->arg1)) {
      |       ^
src\puzzlepro_core/./processor.cc:434:7: note: +1, nesting level increased to 2
  434 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:440:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  440 |       if (activate_effect(it->step, it->peffect)) {
      |       ^
src\puzzlepro_core/./processor.cc:443:7: note: +1, nesting level increased to 2
  443 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:449:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  449 |       if (summon(it->step, it->arg1 & 0xff, (card *)it->ptarget, it->peffect, (it->arg1 >> 8) & 0xff, (it->arg1 >> 16) & 0xff, (it->arg1 >> 24) & 0xff, it->arg2)) {
      |       ^
src\puzzlepro_core/./processor.cc:452:7: note: +1, nesting level increased to 2
  452 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:458:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  458 |       if (special_summon_rule(it->step, it->arg1, (card *)it->ptarget, it->arg2, it->arg3)) {
      |       ^
src\puzzlepro_core/./processor.cc:461:7: note: +1, nesting level increased to 2
  461 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:467:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  467 |       if (special_summon(it->step, it->peffect, it->arg1, it->ptarget, it->arg2)) {
      |       ^
src\puzzlepro_core/./processor.cc:470:7: note: +1, nesting level increased to 2
  470 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:476:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  476 |       if (flip_summon(it->step, it->arg1, (card *)(it->ptarget), it->arg2)) {
      |       ^
src\puzzlepro_core/./processor.cc:479:7: note: +1, nesting level increased to 2
  479 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:485:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  485 |       if (mset(it->step, it->arg1 & 0xff, (card *)it->ptarget, it->peffect, (it->arg1 >> 8) & 0xff, (it->arg1 >> 16) & 0xff, (it->arg1 >> 24) & 0xff, it->arg2)) {
      |       ^
src\puzzlepro_core/./processor.cc:488:7: note: +1, nesting level increased to 2
  488 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:494:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  494 |       if (sset(it->step, it->arg1, it->arg2, (card *)(it->ptarget), it->peffect)) {
      |       ^
src\puzzlepro_core/./processor.cc:497:7: note: +1, nesting level increased to 2
  497 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:503:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  503 |       if (special_summon_step(it->step, it->ptarget, (card *)(it->ptr1), it->arg1)) {
      |       ^
src\puzzlepro_core/./processor.cc:506:7: note: +1, nesting level increased to 2
  506 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:512:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  512 |       if (sset_g(it->step, it->arg1, it->arg2, it->ptarget, it->arg3, it->peffect)) {
      |       ^
src\puzzlepro_core/./processor.cc:515:7: note: +1, nesting level increased to 2
  515 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:521:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  521 |       if (draw(it->step, it->peffect, it->arg1, (it->arg2 >> 4) & 0xf, (it->arg2) & 0xf, it->arg3)) {
      |       ^
src\puzzlepro_core/./processor.cc:524:7: note: +1, nesting level increased to 2
  524 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:533:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  533 |       if (reason & REASON_BATTLE) {
      |       ^
src\puzzlepro_core/./processor.cc:536:7: note: +1, nesting level increased to 2
  536 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:539:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  539 |       if (damage(it->step, reason_effect, reason, (it->arg2 >> 2) & 0x3, reason_card, (it->arg2) & 0x3, it->arg3, (it->arg2 >> 4) & 0x1)) {
      |       ^
src\puzzlepro_core/./processor.cc:540:9: note: +3, including nesting penalty of 2, nesting level increased to 3
  540 |         if (it->step == 9) {
      |         ^
src\puzzlepro_core/./processor.cc:544:9: note: +1, nesting level increased to 3
  544 |         else {
      |         ^
src\puzzlepro_core/./processor.cc:548:7: note: +1, nesting level increased to 2
  548 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:554:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  554 |       if (recover(it->step, it->peffect, it->arg1, (it->arg2 >> 2) & 0x3, (it->arg2) & 0x3, it->arg3, (it->arg2 >> 4) & 0x1)) {
      |       ^
src\puzzlepro_core/./processor.cc:555:9: note: +3, including nesting penalty of 2, nesting level increased to 3
  555 |         if (it->step == 9) {
      |         ^
src\puzzlepro_core/./processor.cc:559:9: note: +1, nesting level increased to 3
  559 |         else {
      |         ^
src\puzzlepro_core/./processor.cc:563:7: note: +1, nesting level increased to 2
  563 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:569:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  569 |       if (equip(it->step, it->arg2 & 0xffff, (card *)it->ptr1, (card *)it->ptarget, (it->arg2 >> 16) & 0xff, (it->arg2 >> 24) & 0xff)) {
      |       ^
src\puzzlepro_core/./processor.cc:572:7: note: +1, nesting level increased to 2
  572 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:578:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  578 |       if (get_control(it->step, it->peffect, (it->arg2 >> 28) & 0xf, it->ptarget, (it->arg2 >> 24) & 0xf, (it->arg2 >> 8) & 0x3ff, it->arg2 & 0xff, it->arg3)) {
      |       ^
src\puzzlepro_core/./processor.cc:581:7: note: +1, nesting level increased to 2
  581 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:587:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  587 |       if (swap_control(it->step, it->peffect, it->arg1, it->ptarget, (group *)it->ptr1, it->arg2, it->arg3)) {
      |       ^
src\puzzlepro_core/./processor.cc:590:7: note: +1, nesting level increased to 2
  590 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:596:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  596 |       if (self_destroy(it->step, (card *)it->ptr1, it->arg1)) {
      |       ^
src\puzzlepro_core/./processor.cc:599:7: note: +1, nesting level increased to 2
  599 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:605:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  605 |       if (trap_monster_adjust(it->step)) {
      |       ^
src\puzzlepro_core/./processor.cc:608:7: note: +1, nesting level increased to 2
  608 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:614:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  614 |       if (pay_lp_cost(it->step, it->arg1, it->arg2, it->arg3)) {
      |       ^
src\puzzlepro_core/./processor.cc:617:7: note: +1, nesting level increased to 2
  617 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:623:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  623 |       if (remove_counter(it->step, it->arg4, (card *)it->ptarget, (it->arg1 >> 16) & 0xff, (it->arg1 >> 8) & 0xff, it->arg1 & 0xff, it->arg2, it->arg3)) {
      |       ^
src\puzzlepro_core/./processor.cc:626:7: note: +1, nesting level increased to 2
  626 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:632:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  632 |       if (it->step == 0) {
      |       ^
src\puzzlepro_core/./processor.cc:634:9: note: +3, including nesting penalty of 2, nesting level increased to 3
  634 |         if (!attacker || core.effect_damage_step != 0 || (attacker->fieldid_r != core.pre_field[0]) || (attacker->current.location != LOCATION_MZONE) || !attacker->is_capable_attack() || !attacker->is_affect_by_effect(core.reason_effect)) {
      |         ^
src\puzzlepro_core/./processor.cc:634:185: note: +1
  634 |         if (!attacker || core.effect_damage_step != 0 || (attacker->fieldid_r != core.pre_field[0]) || (attacker->current.location != LOCATION_MZONE) || !attacker->is_capable_attack() || !attacker->is_affect_by_effect(core.reason_effect)) {
      |                                                                                                                                                                                         ^
src\puzzlepro_core/./processor.cc:638:9: note: +1, nesting level increased to 3
  638 |         else {
      |         ^
src\puzzlepro_core/./processor.cc:649:7: note: +1, nesting level increased to 2
  649 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:656:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  656 |       if (announce_race(it->step, it->arg1 & 0xffff, it->arg1 >> 16, it->arg2)) {
      |       ^
src\puzzlepro_core/./processor.cc:659:7: note: +1, nesting level increased to 2
  659 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:665:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  665 |       if (announce_attribute(it->step, it->arg1 & 0xffff, it->arg1 >> 16, it->arg2)) {
      |       ^
src\puzzlepro_core/./processor.cc:668:7: note: +1, nesting level increased to 2
  668 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:674:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  674 |       if (announce_card(it->step, it->arg1)) {
      |       ^
src\puzzlepro_core/./processor.cc:677:7: note: +1, nesting level increased to 2
  677 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:683:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  683 |       if (announce_number(it->step, it->arg1)) {
      |       ^
src\puzzlepro_core/./processor.cc:686:7: note: +1, nesting level increased to 2
  686 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:692:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  692 |       if (toss_dice(it->step, it->peffect, it->arg1 >> 16, it->arg1 & 0xff, it->arg2 & 0xff, it->arg2 >> 16)) {
      |       ^
src\puzzlepro_core/./processor.cc:695:7: note: +1, nesting level increased to 2
  695 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:701:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  701 |       if (toss_coin(it->step, it->peffect, (it->arg1 >> 16), it->arg1 & 0xff, it->arg2)) {
      |       ^
src\puzzlepro_core/./processor.cc:704:7: note: +1, nesting level increased to 2
  704 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:710:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  710 |       if (rock_paper_scissors(it->step, it->arg1)) {
      |       ^
src\puzzlepro_core/./processor.cc:713:7: note: +1, nesting level increased to 2
  713 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:719:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  719 |       if (it->step == 0) {
      |       ^
src\puzzlepro_core/./processor.cc:725:9: note: +3, including nesting penalty of 2, nesting level increased to 3
  725 |         if (!it->peffect) {
      |         ^
src\puzzlepro_core/./processor.cc:736:7: note: +1, nesting level increased to 2
  736 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:744:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  744 |       if (!(it->arg1 >> 16)) {
      |       ^
src\puzzlepro_core/./processor.cc:747:7: note: +1, nesting level increased to 2
  747 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:750:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  750 |       if (ret) {
      |       ^
src\puzzlepro_core/./processor.cc:753:7: note: +1, nesting level increased to 2
  753 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:759:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  759 |       if (select_xyz_material(it->step, it->arg1 & 0xffff, it->arg1 >> 16, (card *)it->ptarget, it->arg2 & 0xffff, it->arg2 >> 16)) {
      |       ^
src\puzzlepro_core/./processor.cc:762:7: note: +1, nesting level increased to 2
  762 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:768:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  768 |       if (it->step == 0) {
      |       ^
src\puzzlepro_core/./processor.cc:772:9: note: +3, including nesting penalty of 2, nesting level increased to 3
  772 |         if (it->arg3 & REASON_DISCARD) {
      |         ^
src\puzzlepro_core/./processor.cc:775:9: note: +1, nesting level increased to 3
  775 |         else {
      |         ^
src\puzzlepro_core/./processor.cc:781:12: note: +1, nesting level increased to 2
  781 |       else if (it->step == 1) {
      |            ^
src\puzzlepro_core/./processor.cc:783:9: note: +3, including nesting penalty of 2, nesting level increased to 3
  783 |         for (int32_t i = 0; i < returns.bvalue[0]; ++i) {
      |         ^
src\puzzlepro_core/./processor.cc:787:9: note: +3, including nesting penalty of 2, nesting level increased to 3
  787 |         if (cset.size()) {
      |         ^
src\puzzlepro_core/./processor.cc:790:9: note: +1, nesting level increased to 3
  790 |         else {
      |         ^
src\puzzlepro_core/./processor.cc:795:7: note: +1, nesting level increased to 2
  795 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:801:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  801 |       if (discard_deck(it->step, it->arg1 & 0xff, it->arg1 >> 16, it->arg2)) {
      |       ^
src\puzzlepro_core/./processor.cc:804:7: note: +1, nesting level increased to 2
  804 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:813:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  813 |       if (count > player[target_player].list_main.size()) {
      |       ^
src\puzzlepro_core/./processor.cc:816:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  816 |       if (it->step == 0) {
      |       ^
src\puzzlepro_core/./processor.cc:818:9: note: +3, including nesting penalty of 2, nesting level increased to 3
  818 |         for (auto clit = player[target_player].list_main.rbegin(); i < count; ++i, ++clit) {
      |         ^
src\puzzlepro_core/./processor.cc:824:7: note: +1, nesting level increased to 2
  824 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:825:9: note: +3, including nesting penalty of 2, nesting level increased to 3
  825 |         if (returns.bvalue[0] != 0xff) {
      |         ^
src\puzzlepro_core/./processor.cc:827:11: note: +4, including nesting penalty of 3, nesting level increased to 4
  827 |           for (i = 0; i < count; ++i) {
      |           ^
src\puzzlepro_core/./processor.cc:830:11: note: +4, including nesting penalty of 3, nesting level increased to 4
  830 |           for (i = 0; i < count; ++i) {
      |           ^
src\puzzlepro_core/./processor.cc:833:11: note: +4, including nesting penalty of 3, nesting level increased to 4
  833 |           for (i = 0; i < count; ++i) {
      |           ^
src\puzzlepro_core/./processor.cc:838:11: note: +4, including nesting penalty of 3, nesting level increased to 4
  838 |           for (i = 0; i < count; ++i, ++clit) {
      |           ^
src\puzzlepro_core/./processor.cc:847:9: note: +3, including nesting penalty of 2, nesting level increased to 3
  847 |         if (core.global_flag & GLOBALFLAG_DECK_REVERSE_CHECK) {
      |         ^
src\puzzlepro_core/./processor.cc:848:11: note: +4, including nesting penalty of 3, nesting level increased to 4
  848 |           if (count > 0) {
      |           ^
src\puzzlepro_core/./processor.cc:850:13: note: +5, including nesting penalty of 4, nesting level increased to 5
  850 |             if (core.deck_reversed || (ptop->current.position == POS_FACEUP_DEFENSE)) {
      |             ^
src\puzzlepro_core/./processor.cc:850:36: note: +1
  850 |             if (core.deck_reversed || (ptop->current.position == POS_FACEUP_DEFENSE)) {
      |                                    ^
src\puzzlepro_core/./processor.cc:854:15: note: +6, including nesting penalty of 5, nesting level increased to 6
  854 |               if (ptop->current.position != POS_FACEUP_DEFENSE) {
      |               ^
src\puzzlepro_core/./processor.cc:857:15: note: +1, nesting level increased to 6
  857 |               else {
      |               ^
src\puzzlepro_core/./processor.cc:868:7: note: +2, including nesting penalty of 1, nesting level increased to 2
  868 |       if (remove_overlay_card(it->step, it->arg3, (card *)(it->ptarget), it->arg1 >> 16, (it->arg1 >> 8) & 0xff, it->arg1 & 0xff, it->arg2 & 0xffff, it->arg2 >> 16)) {
      |       ^
src\puzzlepro_core/./processor.cc:871:7: note: +1, nesting level increased to 2
  871 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:1181:16: warning: function 'process_phase_event' has cognitive complexity of 146 (threshold 25) [readability-function-cognitive-complexity]
 1181 | int32_t field::process_phase_event(int16_t step, int32_t phase) {
      |                ^
src\puzzlepro_core/./processor.cc:1185:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1185 |   switch (step) {
      |   ^
src\puzzlepro_core/./processor.cc:1187:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1187 |       if ((phase == PHASE_DRAW && is_player_affected_by_effect(infos.turn_player, EFFECT_SKIP_DP)) || (phase == PHASE_STANDBY && is_player_affected_by_effect(infos.turn_player, EFFECT_SKIP_SP)) || (phase == PHASE_BATTLE_START && is_player_affected_by_effect(infos.turn_player, EFFECT_SKIP_BP)) || (phase == PHASE_BATTLE && is_player_affected_by_effect(infos.turn_player, EFFECT_SKIP_BP)) || (phase == PHASE_END && is_player_affected_by_effect(infos.turn_player, EFFECT_SKIP_EP))) {
      |       ^
src\puzzlepro_core/./processor.cc:1187:389: note: +1
 1187 |       if ((phase == PHASE_DRAW && is_player_affected_by_effect(infos.turn_player, EFFECT_SKIP_DP)) || (phase == PHASE_STANDBY && is_player_affected_by_effect(infos.turn_player, EFFECT_SKIP_SP)) || (phase == PHASE_BATTLE_START && is_player_affected_by_effect(infos.turn_player, EFFECT_SKIP_BP)) || (phase == PHASE_BATTLE && is_player_affected_by_effect(infos.turn_player, EFFECT_SKIP_BP)) || (phase == PHASE_END && is_player_affected_by_effect(infos.turn_player, EFFECT_SKIP_EP))) {
      |                                                                                                                                                                                                                                                                                                                                                                                                     ^
src\puzzlepro_core/./processor.cc:1187:32: note: +1
 1187 |       if ((phase == PHASE_DRAW && is_player_affected_by_effect(infos.turn_player, EFFECT_SKIP_DP)) || (phase == PHASE_STANDBY && is_player_affected_by_effect(infos.turn_player, EFFECT_SKIP_SP)) || (phase == PHASE_BATTLE_START && is_player_affected_by_effect(infos.turn_player, EFFECT_SKIP_BP)) || (phase == PHASE_BATTLE && is_player_affected_by_effect(infos.turn_player, EFFECT_SKIP_BP)) || (phase == PHASE_END && is_player_affected_by_effect(infos.turn_player, EFFECT_SKIP_EP))) {
      |                                ^
src\puzzlepro_core/./processor.cc:1187:127: note: +1
 1187 |       if ((phase == PHASE_DRAW && is_player_affected_by_effect(infos.turn_player, EFFECT_SKIP_DP)) || (phase == PHASE_STANDBY && is_player_affected_by_effect(infos.turn_player, EFFECT_SKIP_SP)) || (phase == PHASE_BATTLE_START && is_player_affected_by_effect(infos.turn_player, EFFECT_SKIP_BP)) || (phase == PHASE_BATTLE && is_player_affected_by_effect(infos.turn_player, EFFECT_SKIP_BP)) || (phase == PHASE_END && is_player_affected_by_effect(infos.turn_player, EFFECT_SKIP_EP))) {
      |                                                                                                                               ^
src\puzzlepro_core/./processor.cc:1187:227: note: +1
 1187 |       if ((phase == PHASE_DRAW && is_player_affected_by_effect(infos.turn_player, EFFECT_SKIP_DP)) || (phase == PHASE_STANDBY && is_player_affected_by_effect(infos.turn_player, EFFECT_SKIP_SP)) || (phase == PHASE_BATTLE_START && is_player_affected_by_effect(infos.turn_player, EFFECT_SKIP_BP)) || (phase == PHASE_BATTLE && is_player_affected_by_effect(infos.turn_player, EFFECT_SKIP_BP)) || (phase == PHASE_END && is_player_affected_by_effect(infos.turn_player, EFFECT_SKIP_EP))) {
      |                                                                                                                                                                                                                                   ^
src\puzzlepro_core/./processor.cc:1187:321: note: +1
 1187 |       if ((phase == PHASE_DRAW && is_player_affected_by_effect(infos.turn_player, EFFECT_SKIP_DP)) || (phase == PHASE_STANDBY && is_player_affected_by_effect(infos.turn_player, EFFECT_SKIP_SP)) || (phase == PHASE_BATTLE_START && is_player_affected_by_effect(infos.turn_player, EFFECT_SKIP_BP)) || (phase == PHASE_BATTLE && is_player_affected_by_effect(infos.turn_player, EFFECT_SKIP_BP)) || (phase == PHASE_END && is_player_affected_by_effect(infos.turn_player, EFFECT_SKIP_EP))) {
      |                                                                                                                                                                                                                                                                                                                                 ^
src\puzzlepro_core/./processor.cc:1187:412: note: +1
 1187 |       if ((phase == PHASE_DRAW && is_player_affected_by_effect(infos.turn_player, EFFECT_SKIP_DP)) || (phase == PHASE_STANDBY && is_player_affected_by_effect(infos.turn_player, EFFECT_SKIP_SP)) || (phase == PHASE_BATTLE_START && is_player_affected_by_effect(infos.turn_player, EFFECT_SKIP_BP)) || (phase == PHASE_BATTLE && is_player_affected_by_effect(infos.turn_player, EFFECT_SKIP_BP)) || (phase == PHASE_END && is_player_affected_by_effect(infos.turn_player, EFFECT_SKIP_EP))) {
      |                                                                                                                                                                                                                                                                                                                                                                                                                            ^
src\puzzlepro_core/./processor.cc:1193:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1193 |       if (core.units.begin()->arg2 & 0x2) {
      |       ^
src\puzzlepro_core/./processor.cc:1200:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1200 |       for (auto eit = pr.first; eit != pr.second;) {
      |       ^
src\puzzlepro_core/./processor.cc:1204:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1204 |         if (!peffect->is_activateable(check_player, test_event)) {
      |         ^
src\puzzlepro_core/./processor.cc:1213:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1213 |       for (auto eit = pr.first; eit != pr.second;) {
      |       ^
src\puzzlepro_core/./processor.cc:1217:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1217 |         if (peffect->get_handler_player() != check_player || !peffect->is_activateable(check_player, test_event)) {
      |         ^
src\puzzlepro_core/./processor.cc:1217:59: note: +1
 1217 |         if (peffect->get_handler_player() != check_player || !peffect->is_activateable(check_player, test_event)) {
      |                                                           ^
src\puzzlepro_core/./processor.cc:1226:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1226 |       for (auto &peffect : effects.pheff) {
      |       ^
src\puzzlepro_core/./processor.cc:1227:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1227 |         if (peffect->code != EFFECT_SET_CONTROL) {
      |         ^
src\puzzlepro_core/./processor.cc:1230:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1230 |         if (!(peffect->reset_flag & phase)) {
      |         ^
src\puzzlepro_core/./processor.cc:1234:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1234 |         if (pid != check_player) {
      |         ^
src\puzzlepro_core/./processor.cc:1238:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1238 |         if (!(((peffect->reset_flag & RESET_SELF_TURN) && pid == tp) || ((peffect->reset_flag & RESET_OPPO_TURN) && pid != tp))) {
      |         ^
src\puzzlepro_core/./processor.cc:1238:70: note: +1
 1238 |         if (!(((peffect->reset_flag & RESET_SELF_TURN) && pid == tp) || ((peffect->reset_flag & RESET_OPPO_TURN) && pid != tp))) {
      |                                                                      ^
src\puzzlepro_core/./processor.cc:1238:56: note: +1
 1238 |         if (!(((peffect->reset_flag & RESET_SELF_TURN) && pid == tp) || ((peffect->reset_flag & RESET_OPPO_TURN) && pid != tp))) {
      |                                                        ^
src\puzzlepro_core/./processor.cc:1238:114: note: +1
 1238 |         if (!(((peffect->reset_flag & RESET_SELF_TURN) && pid == tp) || ((peffect->reset_flag & RESET_OPPO_TURN) && pid != tp))) {
      |                                                                                                                  ^
src\puzzlepro_core/./processor.cc:1241:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1241 |         if (peffect->reset_count != 1) {
      |         ^
src\puzzlepro_core/./processor.cc:1245:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1245 |         if (peffect->get_value(phandler) != phandler->current.controler) {
      |         ^
src\puzzlepro_core/./processor.cc:1253:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1253 |       if (!core.hand_adjusted) {
      |       ^
src\puzzlepro_core/./processor.cc:1255:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1255 |         for (auto eit = pr.first; eit != pr.second;) {
      |         ^
src\puzzlepro_core/./processor.cc:1259:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 1259 |           if (!peffect->is_activateable(check_player, test_event)) {
      |           ^
src\puzzlepro_core/./processor.cc:1268:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1268 |         if (phase == PHASE_DRAW) {
      |         ^
src\puzzlepro_core/./processor.cc:1271:14: note: +1, nesting level increased to 3
 1271 |         else if (phase == PHASE_STANDBY) {
      |              ^
src\puzzlepro_core/./processor.cc:1274:14: note: +1, nesting level increased to 3
 1274 |         else if (phase == PHASE_BATTLE_START) {
      |              ^
src\puzzlepro_core/./processor.cc:1277:14: note: +1, nesting level increased to 3
 1277 |         else if (phase == PHASE_BATTLE) {
      |              ^
src\puzzlepro_core/./processor.cc:1280:9: note: +1, nesting level increased to 3
 1280 |         else {
      |         ^
src\puzzlepro_core/./processor.cc:1284:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1284 |         for (auto eit = pr.first; eit != pr.second;) {
      |         ^
src\puzzlepro_core/./processor.cc:1288:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 1288 |           if (!peffect->is_chainable(check_player) || !peffect->is_activateable(check_player, test_event)) {
      |           ^
src\puzzlepro_core/./processor.cc:1288:52: note: +1
 1288 |           if (!peffect->is_chainable(check_player) || !peffect->is_activateable(check_player, test_event)) {
      |                                                    ^
src\puzzlepro_core/./processor.cc:1293:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 1293 |           if (check_hint_timing(peffect) || check_cteffect_hint(peffect, check_player)) {
      |           ^
src\puzzlepro_core/./processor.cc:1293:42: note: +1
 1293 |           if (check_hint_timing(peffect) || check_cteffect_hint(peffect, check_player)) {
      |                                          ^
src\puzzlepro_core/./processor.cc:1300:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1300 |         for (auto eit = pr.first; eit != pr.second;) {
      |         ^
src\puzzlepro_core/./processor.cc:1304:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 1304 |           if (!peffect->is_chainable(check_player) || !peffect->is_activateable(check_player, test_event)) {
      |           ^
src\puzzlepro_core/./processor.cc:1304:52: note: +1
 1304 |           if (!peffect->is_chainable(check_player) || !peffect->is_activateable(check_player, test_event)) {
      |                                                    ^
src\puzzlepro_core/./processor.cc:1309:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 1309 |           if (check_hint_timing(peffect)) {
      |           ^
src\puzzlepro_core/./processor.cc:1316:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1316 |         for (auto eit = pr.first; eit != pr.second;) {
      |         ^
src\puzzlepro_core/./processor.cc:1319:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 1319 |           if (peffect->get_handler_player() != check_player || !peffect->is_activateable(check_player, test_event)) {
      |           ^
src\puzzlepro_core/./processor.cc:1319:61: note: +1
 1319 |           if (peffect->get_handler_player() != check_player || !peffect->is_activateable(check_player, test_event)) {
      |                                                             ^
src\puzzlepro_core/./processor.cc:1328:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1328 |       if (core.select_chains.size() == 0) {
      |       ^
src\puzzlepro_core/./processor.cc:1333:12: note: +1, nesting level increased to 2
 1333 |       else if (tf_count == 0 && cn_count == 1 && to_count == 0 && fc_count == 0) {
      |            ^
src\puzzlepro_core/./processor.cc:1333:64: note: +1
 1333 |       else if (tf_count == 0 && cn_count == 1 && to_count == 0 && fc_count == 0) {
      |                                                                ^
src\puzzlepro_core/./processor.cc:1338:7: note: +1, nesting level increased to 2
 1338 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:1342:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1342 |         if (infos.phase == PHASE_DRAW) {
      |         ^
src\puzzlepro_core/./processor.cc:1345:14: note: +1, nesting level increased to 3
 1345 |         else if (infos.phase == PHASE_STANDBY) {
      |              ^
src\puzzlepro_core/./processor.cc:1348:14: note: +1, nesting level increased to 3
 1348 |         else if (infos.phase == PHASE_BATTLE_START) {
      |              ^
src\puzzlepro_core/./processor.cc:1351:14: note: +1, nesting level increased to 3
 1351 |         else if (infos.phase == PHASE_BATTLE) {
      |              ^
src\puzzlepro_core/./processor.cc:1354:9: note: +1, nesting level increased to 3
 1354 |         else {
      |         ^
src\puzzlepro_core/./processor.cc:1357:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1357 |         if (tf_count == 0 && to_count == 1 && fc_count == 0 && cn_count == 0) {
      |         ^
src\puzzlepro_core/./processor.cc:1357:61: note: +1
 1357 |         if (tf_count == 0 && to_count == 1 && fc_count == 0 && cn_count == 0) {
      |                                                             ^
src\puzzlepro_core/./processor.cc:1361:9: note: +1, nesting level increased to 3
 1361 |         else {
      |         ^
src\puzzlepro_core/./processor.cc:1362:123: note: +4, including nesting penalty of 3, nesting level increased to 4
 1362 |           add_process(PROCESSOR_SELECT_CHAIN, 0, 0, 0, check_player, core.spe_effect[check_player] | (tf_count + cn_count ? 0x10000 : 0));
      |                                                                                                                           ^
src\puzzlepro_core/./processor.cc:1376:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1376 |       if (returns.ivalue[0] == -1) {
      |       ^
src\puzzlepro_core/./processor.cc:1377:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1377 |         if (priority_passed) {
      |         ^
src\puzzlepro_core/./processor.cc:1380:9: note: +1, nesting level increased to 3
 1380 |         else {
      |         ^
src\puzzlepro_core/./processor.cc:1393:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1393 |       if (!(peffect->type & EFFECT_TYPE_ACTIONS)) {
      |       ^
src\puzzlepro_core/./processor.cc:1394:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1394 |         if (peffect->is_flag(EFFECT_FLAG_FIELD_ONLY)) {
      |         ^
src\puzzlepro_core/./processor.cc:1397:9: note: +1, nesting level increased to 3
 1397 |         else {
      |         ^
src\puzzlepro_core/./processor.cc:1403:12: note: +1, nesting level increased to 2
 1403 |       else if (!(peffect->type & EFFECT_TYPE_CONTINUOUS)) {
      |            ^
src\puzzlepro_core/./processor.cc:1405:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1405 |         if (is_opponent) {
      |         ^
src\puzzlepro_core/./processor.cc:1422:7: note: +1, nesting level increased to 2
 1422 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:1430:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1430 |       for (auto &ch_lim : core.chain_limit) {
      |       ^
src\puzzlepro_core/./processor.cc:1434:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1434 |       for (auto &ch : core.current_chain) {
      |       ^
src\puzzlepro_core/./processor.cc:1448:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1448 |       if (phase != PHASE_END) {
      |       ^
src\puzzlepro_core/./processor.cc:1455:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1455 |       if (eset.size()) {
      |       ^
src\puzzlepro_core/./processor.cc:1459:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1459 |       if (hd <= limit) {
      |       ^
src\puzzlepro_core/./processor.cc:1464:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1464 |       for (auto &pcard : player[infos.turn_player].list_hand) {
      |       ^
src\puzzlepro_core/./processor.cc:1476:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1476 |       for (int32_t i = 0; i < returns.bvalue[0]; ++i) {
      |       ^
src\puzzlepro_core/./processor.cc:1238:13: warning: boolean expression can be simplified by DeMorgan's theorem [readability-simplify-boolean-expr]
 1238 |         if (!(((peffect->reset_flag & RESET_SELF_TURN) && pid == tp) || ((peffect->reset_flag & RESET_OPPO_TURN) && pid != tp))) {
      |             ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
      |                !                                       ||     !=     &&  !                                       ||     ==
src\puzzlepro_core/./processor.cc:1507:16: warning: function 'process_point_event' has cognitive complexity of 127 (threshold 25) [readability-function-cognitive-complexity]
 1507 | int32_t field::process_point_event(int16_t step, int32_t skip_trigger, int32_t skip_freechain, int32_t skip_new) {
      |                ^
src\puzzlepro_core/./processor.cc:1508:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1508 |   switch (step) {
      |   ^
src\puzzlepro_core/./processor.cc:1512:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1512 |       if (skip_trigger) {
      |       ^
src\puzzlepro_core/./processor.cc:1531:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1531 |       for (auto clit = core.new_fchain_s.begin(); clit != core.new_fchain_s.end();) {
      |       ^
src\puzzlepro_core/./processor.cc:1534:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1534 |         if (phandler->is_has_relation(*clit)) { // work around: position and control should be refreshed before raising event
      |         ^
src\puzzlepro_core/./processor.cc:1537:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1537 |         if (clit->triggering_player != phandler->current.controler && !peffect->is_flag(EFFECT_FLAG_EVENT_PLAYER)) {
      |         ^
src\puzzlepro_core/./processor.cc:1537:68: note: +1
 1537 |         if (clit->triggering_player != phandler->current.controler && !peffect->is_flag(EFFECT_FLAG_EVENT_PLAYER)) {
      |                                                                    ^
src\puzzlepro_core/./processor.cc:1542:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1542 |         if (check_trigger_effect(*clit) && peffect->is_chainable(tp) && peffect->is_activateable(tp, clit->evt, !peffect->is_flag(EFFECT_FLAG_ACTIVATE_CONDITION))) {
      |         ^
src\puzzlepro_core/./processor.cc:1542:70: note: +1
 1542 |         if (check_trigger_effect(*clit) && peffect->is_chainable(tp) && peffect->is_activateable(tp, clit->evt, !peffect->is_flag(EFFECT_FLAG_ACTIVATE_CONDITION))) {
      |                                                                      ^
src\puzzlepro_core/./processor.cc:1543:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 1543 |           if (tp == core.current_player) {
      |           ^
src\puzzlepro_core/./processor.cc:1547:9: note: +1, nesting level increased to 3
 1547 |         else {
      |         ^
src\puzzlepro_core/./processor.cc:1554:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1554 |       if (core.select_chains.size() == 0) {
      |       ^
src\puzzlepro_core/./processor.cc:1557:12: note: +1, nesting level increased to 2
 1557 |       else if (core.select_chains.size() == 1) {
      |            ^
src\puzzlepro_core/./processor.cc:1560:7: note: +1, nesting level increased to 2
 1560 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:1566:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1566 |       if (returns.ivalue[0] == -1) {
      |       ^
src\puzzlepro_core/./processor.cc:1567:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1567 |         if (core.new_fchain_s.size()) {
      |         ^
src\puzzlepro_core/./processor.cc:1571:9: note: +1, nesting level increased to 3
 1571 |         else {
      |         ^
src\puzzlepro_core/./processor.cc:1583:35: note: nesting level increased to 2
 1583 |       core.new_fchain_s.remove_if([chain_id = newchain.chain_id](chain ch) {
      |                                   ^
src\puzzlepro_core/./processor.cc:1592:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1592 |       for (auto clit = core.new_ochain_s.begin(); clit != core.new_ochain_s.end();) {
      |       ^
src\puzzlepro_core/./processor.cc:1595:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1595 |         if (phandler->is_has_relation(*clit)) { // work around: position and control should be refreshed before raising event
      |         ^
src\puzzlepro_core/./processor.cc:1598:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1598 |         if (!peffect->is_flag(EFFECT_FLAG_FIELD_ONLY) && (peffect->type & EFFECT_TYPE_FIELD) && (peffect->range & LOCATION_HAND) && phandler->current.location == LOCATION_HAND) {
      |         ^
src\puzzlepro_core/./processor.cc:1598:130: note: +1
 1598 |         if (!peffect->is_flag(EFFECT_FLAG_FIELD_ONLY) && (peffect->type & EFFECT_TYPE_FIELD) && (peffect->range & LOCATION_HAND) && phandler->current.location == LOCATION_HAND) {
      |                                                                                                                                  ^
src\puzzlepro_core/./processor.cc:1599:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 1599 |           if (!phandler->is_has_relation(*clit) && peffect->is_condition_check(phandler->current.controler, clit->evt)) {
      |           ^
src\puzzlepro_core/./processor.cc:1599:49: note: +1
 1599 |           if (!phandler->is_has_relation(*clit) && peffect->is_condition_check(phandler->current.controler, clit->evt)) {
      |                                                 ^
src\puzzlepro_core/./processor.cc:1606:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1606 |         if (clit->triggering_player != phandler->current.controler && !peffect->is_flag(EFFECT_FLAG_EVENT_PLAYER)) {
      |         ^
src\puzzlepro_core/./processor.cc:1606:68: note: +1
 1606 |         if (clit->triggering_player != phandler->current.controler && !peffect->is_flag(EFFECT_FLAG_EVENT_PLAYER)) {
      |                                                                    ^
src\puzzlepro_core/./processor.cc:1611:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1611 |         if (check_nonpublic_trigger(*clit) && check_trigger_effect(*clit) && peffect->is_chainable(tp) && peffect->is_activateable(tp, clit->evt, !peffect->is_flag(EFFECT_FLAG_ACTIVATE_CONDITION)) && check_spself_from_hand_trigger(*clit)) {
      |         ^
src\puzzlepro_core/./processor.cc:1611:198: note: +1
 1611 |         if (check_nonpublic_trigger(*clit) && check_trigger_effect(*clit) && peffect->is_chainable(tp) && peffect->is_activateable(tp, clit->evt, !peffect->is_flag(EFFECT_FLAG_ACTIVATE_CONDITION)) && check_spself_from_hand_trigger(*clit)) {
      |                                                                                                                                                                                                      ^
src\puzzlepro_core/./processor.cc:1612:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 1612 |           if (tp == core.current_player) {
      |           ^
src\puzzlepro_core/./processor.cc:1616:9: note: +1, nesting level increased to 3
 1616 |         else {
      |         ^
src\puzzlepro_core/./processor.cc:1623:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1623 |       if (core.select_chains.size() == 0) {
      |       ^
src\puzzlepro_core/./processor.cc:1628:12: note: +1, nesting level increased to 2
 1628 |       else if (core.select_chains.size() == 1 && !core.current_chain.size()) {
      |            ^
src\puzzlepro_core/./processor.cc:1628:47: note: +1
 1628 |       else if (core.select_chains.size() == 1 && !core.current_chain.size()) {
      |                                               ^
src\puzzlepro_core/./processor.cc:1632:7: note: +1, nesting level increased to 2
 1632 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:1644:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1644 |       if (returns.ivalue[0] == -1) {
      |       ^
src\puzzlepro_core/./processor.cc:1645:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1645 |         for (const auto &ch : core.select_chains) {
      |         ^
src\puzzlepro_core/./processor.cc:1647:39: note: nesting level increased to 4
 1647 |           core.new_ochain_s.remove_if([chain_id = ch.chain_id](chain ch) {
      |                                       ^
src\puzzlepro_core/./processor.cc:1651:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1651 |         if (core.new_ochain_s.size()) {
      |         ^
src\puzzlepro_core/./processor.cc:1655:9: note: +1, nesting level increased to 3
 1655 |         else {
      |         ^
src\puzzlepro_core/./processor.cc:1668:35: note: nesting level increased to 2
 1668 |       core.new_ochain_s.remove_if([chain_id = newchain.chain_id](chain ch) {
      |                                   ^
src\puzzlepro_core/./processor.cc:1671:35: note: nesting level increased to 2
 1671 |       core.new_ochain_h.remove_if([chain_id = newchain.chain_id](chain ch) {
      |                                   ^
src\puzzlepro_core/./processor.cc:1682:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1682 |       if ((core.duel_rule >= 2) || (infos.phase != PHASE_MAIN1 && infos.phase != PHASE_MAIN2)) {
      |       ^
src\puzzlepro_core/./processor.cc:1682:33: note: +1
 1682 |       if ((core.duel_rule >= 2) || (infos.phase != PHASE_MAIN1 && infos.phase != PHASE_MAIN2)) {
      |                                 ^
src\puzzlepro_core/./processor.cc:1682:64: note: +1
 1682 |       if ((core.duel_rule >= 2) || (infos.phase != PHASE_MAIN1 && infos.phase != PHASE_MAIN2)) {
      |                                                                ^
src\puzzlepro_core/./processor.cc:1687:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1687 |       if (core.current_chain.size() == 0 && (check_event(EVENT_SUMMON_SUCCESS, &evt) || check_event(EVENT_SPSUMMON_SUCCESS, &evt) || check_event(EVENT_FLIP_SUMMON_SUCCESS, &evt)) && evt.reason_player == infos.turn_player) {
      |       ^
src\puzzlepro_core/./processor.cc:1687:180: note: +1
 1687 |       if (core.current_chain.size() == 0 && (check_event(EVENT_SUMMON_SUCCESS, &evt) || check_event(EVENT_SPSUMMON_SUCCESS, &evt) || check_event(EVENT_FLIP_SUMMON_SUCCESS, &evt)) && evt.reason_player == infos.turn_player) {
      |                                                                                                                                                                                    ^
src\puzzlepro_core/./processor.cc:1687:131: note: +1
 1687 |       if (core.current_chain.size() == 0 && (check_event(EVENT_SUMMON_SUCCESS, &evt) || check_event(EVENT_SPSUMMON_SUCCESS, &evt) || check_event(EVENT_FLIP_SUMMON_SUCCESS, &evt)) && evt.reason_player == infos.turn_player) {
      |                                                                                                                                   ^
src\puzzlepro_core/./processor.cc:1696:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1696 |         for (auto eit = effects.ignition_effect.begin(); eit != effects.ignition_effect.end();) {
      |         ^
src\puzzlepro_core/./processor.cc:1701:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 1701 |           if (phandler->current.location == LOCATION_MZONE && peffect->is_chainable(infos.turn_player) && peffect->is_activateable(infos.turn_player, e)) {
      |           ^
src\puzzlepro_core/./processor.cc:1701:104: note: +1
 1701 |           if (phandler->current.location == LOCATION_MZONE && peffect->is_chainable(infos.turn_player) && peffect->is_activateable(infos.turn_player, e)) {
      |                                                                                                        ^
src\puzzlepro_core/./processor.cc:1717:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1717 |       if (core.current_chain.size() == 0) {
      |       ^
src\puzzlepro_core/./processor.cc:1718:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1718 |         if (!core.hand_adjusted) {
      |         ^
src\puzzlepro_core/./processor.cc:1722:7: note: +1, nesting level increased to 2
 1722 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:1731:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1731 |       for (auto &ch_lim : core.chain_limit) {
      |       ^
src\puzzlepro_core/./processor.cc:1735:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1735 |       if (core.current_chain.size()) {
      |       ^
src\puzzlepro_core/./processor.cc:1736:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1736 |         for (auto &ch : core.current_chain) {
      |         ^
src\puzzlepro_core/./processor.cc:1741:7: note: +1, nesting level increased to 2
 1741 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:1743:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1743 |         for (auto &ch_lim_p : core.chain_limit_p) {
      |         ^
src\puzzlepro_core/./processor.cc:1764:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1764 |       for (auto eit = pr.first; eit != pr.second;) {
      |       ^
src\puzzlepro_core/./processor.cc:1768:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1768 |         if (peffect->get_handler_player() == check_player && peffect->is_activateable(check_player, free_event)) {
      |         ^
src\puzzlepro_core/./processor.cc:1768:59: note: +1
 1768 |         if (peffect->get_handler_player() == check_player && peffect->is_activateable(check_player, free_event)) {
      |                                                           ^
src\puzzlepro_core/./processor.cc:1773:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1773 |       if (!core.select_chains.empty()) {
      |       ^
src\puzzlepro_core/./processor.cc:1776:7: note: +1, nesting level increased to 2
 1776 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:1782:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1782 |       if (returns.ivalue[0] == -1) {
      |       ^
src\puzzlepro_core/./processor.cc:1802:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1802 |       for (auto eit = pr.first; eit != pr.second;) {
      |       ^
src\puzzlepro_core/./processor.cc:1806:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1806 |         if (peffect->get_handler_player() == check_player && peffect->is_activateable(check_player, free_event)) {
      |         ^
src\puzzlepro_core/./processor.cc:1806:59: note: +1
 1806 |         if (peffect->get_handler_player() == check_player && peffect->is_activateable(check_player, free_event)) {
      |                                                           ^
src\puzzlepro_core/./processor.cc:1811:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1811 |       if (!core.select_chains.empty()) {
      |       ^
src\puzzlepro_core/./processor.cc:1814:7: note: +1, nesting level increased to 2
 1814 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:1820:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1820 |       if (returns.ivalue[0] == -1) {
      |       ^
src\puzzlepro_core/./processor.cc:1837:16: warning: function 'process_quick_effect' has cognitive complexity of 133 (threshold 25) [readability-function-cognitive-complexity]
 1837 | int32_t field::process_quick_effect(int16_t step, int32_t skip_freechain, uint8_t priority) {
      |                ^
src\puzzlepro_core/./processor.cc:1838:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 1838 |   switch (step) {
      |   ^
src\puzzlepro_core/./processor.cc:1841:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1841 |       if (core.units.begin()->arg3) {
      |       ^
src\puzzlepro_core/./processor.cc:1845:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1845 |       for (auto ifit = core.quick_f_chain.begin(); ifit != core.quick_f_chain.end();) {
      |       ^
src\puzzlepro_core/./processor.cc:1848:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1848 |         if (peffect->is_chainable(ifit->second.triggering_player) && peffect->check_count_limit(ifit->second.triggering_player) && phandler->is_has_relation(ifit->second)) {
      |         ^
src\puzzlepro_core/./processor.cc:1848:129: note: +1
 1848 |         if (peffect->is_chainable(ifit->second.triggering_player) && peffect->check_count_limit(ifit->second.triggering_player) && phandler->is_has_relation(ifit->second)) {
      |                                                                                                                                 ^
src\puzzlepro_core/./processor.cc:1849:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 1849 |           if (ifit->second.triggering_player == check_player) {
      |           ^
src\puzzlepro_core/./processor.cc:1853:9: note: +1, nesting level increased to 3
 1853 |         else {
      |         ^
src\puzzlepro_core/./processor.cc:1859:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1859 |       if (core.select_chains.size() == 0) {
      |       ^
src\puzzlepro_core/./processor.cc:1862:12: note: +1, nesting level increased to 2
 1862 |       else if (core.select_chains.size() == 1) {
      |            ^
src\puzzlepro_core/./processor.cc:1865:7: note: +1, nesting level increased to 2
 1865 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:1871:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1871 |       if (returns.ivalue[0] == -1) {
      |       ^
src\puzzlepro_core/./processor.cc:1872:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1872 |         if (core.quick_f_chain.size()) {
      |         ^
src\puzzlepro_core/./processor.cc:1876:14: note: +1, nesting level increased to 3
 1876 |         else if (core.new_chains.size()) {
      |              ^
src\puzzlepro_core/./processor.cc:1897:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1897 |       if (core.ignition_priority_chains.size()) {
      |       ^
src\puzzlepro_core/./processor.cc:1900:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1900 |       for (const auto &ev_list : {core.point_event, core.instant_event}) {
      |       ^
src\puzzlepro_core/./processor.cc:1901:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1901 |         for (const auto &ev : ev_list) {
      |         ^
src\puzzlepro_core/./processor.cc:1903:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 1903 |           for (auto eit = pr.first; eit != pr.second;) {
      |           ^
src\puzzlepro_core/./processor.cc:1907:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 1907 |             if (!peffect->is_flag(EFFECT_FLAG_DELAY) && peffect->is_chainable(priority) && peffect->is_activateable(priority, ev)) {
      |             ^
src\puzzlepro_core/./processor.cc:1907:89: note: +1
 1907 |             if (!peffect->is_flag(EFFECT_FLAG_DELAY) && peffect->is_chainable(priority) && peffect->is_activateable(priority, ev)) {
      |                                                                                         ^
src\puzzlepro_core/./processor.cc:1919:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 1919 |           for (auto eit = pr.first; eit != pr.second;) {
      |           ^
src\puzzlepro_core/./processor.cc:1923:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 1923 |             if (!peffect->is_flag(EFFECT_FLAG_DELAY) && peffect->is_chainable(priority) && peffect->is_activateable(priority, ev)) {
      |             ^
src\puzzlepro_core/./processor.cc:1923:89: note: +1
 1923 |             if (!peffect->is_flag(EFFECT_FLAG_DELAY) && peffect->is_chainable(priority) && peffect->is_activateable(priority, ev)) {
      |                                                                                         ^
src\puzzlepro_core/./processor.cc:1936:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1936 |       for (auto &ch : core.new_ochain_h) {
      |       ^
src\puzzlepro_core/./processor.cc:1939:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1939 |         if (!peffect->is_flag(EFFECT_FLAG_FIELD_ONLY) && (peffect->type & EFFECT_TYPE_FIELD) && (peffect->range & LOCATION_HAND) && phandler->current.location == LOCATION_HAND) {
      |         ^
src\puzzlepro_core/./processor.cc:1939:130: note: +1
 1939 |         if (!peffect->is_flag(EFFECT_FLAG_FIELD_ONLY) && (peffect->type & EFFECT_TYPE_FIELD) && (peffect->range & LOCATION_HAND) && phandler->current.location == LOCATION_HAND) {
      |                                                                                                                                  ^
src\puzzlepro_core/./processor.cc:1940:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 1940 |           if (!phandler->is_has_relation(ch) && peffect->is_condition_check(phandler->current.controler, ch.evt)) {
      |           ^
src\puzzlepro_core/./processor.cc:1940:46: note: +1
 1940 |           if (!phandler->is_has_relation(ch) && peffect->is_condition_check(phandler->current.controler, ch.evt)) {
      |                                              ^
src\puzzlepro_core/./processor.cc:1947:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1947 |         if (ch.triggering_player == priority && !phandler->is_status(STATUS_CHAINING) && (ch.triggering_location == LOCATION_HAND && phandler->is_position(POS_FACEDOWN) || ch.triggering_location == LOCATION_DECK) && phandler->is_has_relation(ch) && peffect->is_chainable(priority) && peffect->is_activateable(priority, ch.evt, TRUE) && check_spself_from_hand_trigger(ch)) {
      |         ^
src\puzzlepro_core/./processor.cc:1947:334: note: +1
 1947 |         if (ch.triggering_player == priority && !phandler->is_status(STATUS_CHAINING) && (ch.triggering_location == LOCATION_HAND && phandler->is_position(POS_FACEDOWN) || ch.triggering_location == LOCATION_DECK) && phandler->is_has_relation(ch) && peffect->is_chainable(priority) && peffect->is_activateable(priority, ch.evt, TRUE) && check_spself_from_hand_trigger(ch)) {
      |                                                                                                                                                                                                                                                                                                                                              ^
src\puzzlepro_core/./processor.cc:1947:170: note: +1
 1947 |         if (ch.triggering_player == priority && !phandler->is_status(STATUS_CHAINING) && (ch.triggering_location == LOCATION_HAND && phandler->is_position(POS_FACEDOWN) || ch.triggering_location == LOCATION_DECK) && phandler->is_has_relation(ch) && peffect->is_chainable(priority) && peffect->is_activateable(priority, ch.evt, TRUE) && check_spself_from_hand_trigger(ch)) {
      |                                                                                                                                                                          ^
src\puzzlepro_core/./processor.cc:1947:131: note: +1
 1947 |         if (ch.triggering_player == priority && !phandler->is_status(STATUS_CHAINING) && (ch.triggering_location == LOCATION_HAND && phandler->is_position(POS_FACEDOWN) || ch.triggering_location == LOCATION_DECK) && phandler->is_has_relation(ch) && peffect->is_chainable(priority) && peffect->is_activateable(priority, ch.evt, TRUE) && check_spself_from_hand_trigger(ch)) {
      |                                                                                                                                   ^
src\puzzlepro_core/./processor.cc:1952:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1952 |       for (const auto &ev : core.full_event) {
      |       ^
src\puzzlepro_core/./processor.cc:1954:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1954 |         for (auto eit = pr.first; eit != pr.second;) {
      |         ^
src\puzzlepro_core/./processor.cc:1958:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 1958 |           if (peffect->is_flag(EFFECT_FLAG_DELAY) && peffect->is_chainable(priority) && peffect->is_activateable(priority, ev)) {
      |           ^
src\puzzlepro_core/./processor.cc:1958:86: note: +1
 1958 |           if (peffect->is_flag(EFFECT_FLAG_DELAY) && peffect->is_chainable(priority) && peffect->is_activateable(priority, ev)) {
      |                                                                                      ^
src\puzzlepro_core/./processor.cc:1970:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1970 |         for (auto eit = pr.first; eit != pr.second;) {
      |         ^
src\puzzlepro_core/./processor.cc:1973:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 1973 |           if (peffect->is_flag(EFFECT_FLAG_DELAY) && peffect->is_condition_check(peffect->get_handler()->current.controler, ev)) {
      |           ^
src\puzzlepro_core/./processor.cc:1973:51: note: +1
 1973 |           if (peffect->is_flag(EFFECT_FLAG_DELAY) && peffect->is_condition_check(peffect->get_handler()->current.controler, ev)) {
      |                                                   ^
src\puzzlepro_core/./processor.cc:1979:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1979 |       for (auto eit = core.delayed_quick.begin(); eit != core.delayed_quick.end();) {
      |       ^
src\puzzlepro_core/./processor.cc:1984:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 1984 |         if (peffect->is_chainable(priority) && peffect->is_activateable(priority, evt, TRUE)) {
      |         ^
src\puzzlepro_core/./processor.cc:1984:45: note: +1
 1984 |         if (peffect->is_chainable(priority) && peffect->is_activateable(priority, evt, TRUE)) {
      |                                             ^
src\puzzlepro_core/./processor.cc:1996:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 1996 |       if (!skip_freechain) {
      |       ^
src\puzzlepro_core/./processor.cc:2000:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2000 |         for (auto eit = pr.first; eit != pr.second;) {
      |         ^
src\puzzlepro_core/./processor.cc:2004:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 2004 |           if (peffect->is_chainable(priority) && peffect->is_activateable(priority, free_event)) {
      |           ^
src\puzzlepro_core/./processor.cc:2004:47: note: +1
 2004 |           if (peffect->is_chainable(priority) && peffect->is_activateable(priority, free_event)) {
      |                                               ^
src\puzzlepro_core/./processor.cc:2013:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 2013 |             if (check_hint_timing(peffect) || check_cteffect_hint(peffect, priority)) {
      |             ^
src\puzzlepro_core/./processor.cc:2013:44: note: +1
 2013 |             if (check_hint_timing(peffect) || check_cteffect_hint(peffect, priority)) {
      |                                            ^
src\puzzlepro_core/./processor.cc:2019:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2019 |         for (auto eit = pr.first; eit != pr.second;) {
      |         ^
src\puzzlepro_core/./processor.cc:2023:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 2023 |           if (peffect->is_chainable(priority) && peffect->is_activateable(priority, free_event)) {
      |           ^
src\puzzlepro_core/./processor.cc:2023:47: note: +1
 2023 |           if (peffect->is_chainable(priority) && peffect->is_activateable(priority, free_event)) {
      |                                               ^
src\puzzlepro_core/./processor.cc:2032:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 2032 |             if (check_hint_timing(peffect)) {
      |             ^
src\puzzlepro_core/./processor.cc:2038:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2038 |       if (core.current_chain.size() || (core.hint_timing[0] & TIMING_ATTACK) || (core.hint_timing[1] & TIMING_ATTACK)) {
      |       ^
src\puzzlepro_core/./processor.cc:2038:78: note: +1
 2038 |       if (core.current_chain.size() || (core.hint_timing[0] & TIMING_ATTACK) || (core.hint_timing[1] & TIMING_ATTACK)) {
      |                                                                              ^
src\puzzlepro_core/./processor.cc:2045:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2045 |       if (core.select_chains.size() && returns.ivalue[0] != -1) {
      |       ^
src\puzzlepro_core/./processor.cc:2045:37: note: +1
 2045 |       if (core.select_chains.size() && returns.ivalue[0] != -1) {
      |                                     ^
src\puzzlepro_core/./processor.cc:2057:7: note: +1, nesting level increased to 2
 2057 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:2059:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2059 |         if (!infos.priorities[0] || !infos.priorities[1]) {
      |         ^
src\puzzlepro_core/./processor.cc:2059:34: note: +1
 2059 |         if (!infos.priorities[0] || !infos.priorities[1]) {
      |                                  ^
src\puzzlepro_core/./processor.cc:2062:9: note: +1, nesting level increased to 3
 2062 |         else {
      |         ^
src\puzzlepro_core/./processor.cc:2074:16: warning: function 'process_instant_event' has cognitive complexity of 87 (threshold 25) [readability-function-cognitive-complexity]
 2074 | int32_t field::process_instant_event() {
      |                ^
src\puzzlepro_core/./processor.cc:2075:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2075 |   if (core.queue_event.size() == 0) {
      |   ^
src\puzzlepro_core/./processor.cc:2081:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2081 |   for (const auto &ev : core.queue_event) {
      |   ^
src\puzzlepro_core/./processor.cc:2084:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2084 |     for (auto eit = pr.first; eit != pr.second;) {
      |     ^
src\puzzlepro_core/./processor.cc:2088:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2088 |       if (peffect->is_flag(EFFECT_FLAG_EVENT_PLAYER) && (ev.event_player == 0 || ev.event_player == 1)) {
      |       ^
src\puzzlepro_core/./processor.cc:2088:54: note: +1
 2088 |       if (peffect->is_flag(EFFECT_FLAG_EVENT_PLAYER) && (ev.event_player == 0 || ev.event_player == 1)) {
      |                                                      ^
src\puzzlepro_core/./processor.cc:2088:79: note: +1
 2088 |       if (peffect->is_flag(EFFECT_FLAG_EVENT_PLAYER) && (ev.event_player == 0 || ev.event_player == 1)) {
      |                                                                               ^
src\puzzlepro_core/./processor.cc:2091:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2091 |       if (peffect->is_activateable(owner_player, ev)) {
      |       ^
src\puzzlepro_core/./processor.cc:2103:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 2103 |         if (peffect->is_flag(EFFECT_FLAG_DELAY) && (core.chain_solving || core.conti_solving)) {
      |         ^
src\puzzlepro_core/./processor.cc:2103:49: note: +1
 2103 |         if (peffect->is_flag(EFFECT_FLAG_DELAY) && (core.chain_solving || core.conti_solving)) {
      |                                                 ^
src\puzzlepro_core/./processor.cc:2103:72: note: +1
 2103 |         if (peffect->is_flag(EFFECT_FLAG_DELAY) && (core.chain_solving || core.conti_solving)) {
      |                                                                        ^
src\puzzlepro_core/./processor.cc:2104:11: note: +5, including nesting penalty of 4, nesting level increased to 5
 2104 |           if (owner_player == infos.turn_player) {
      |           ^
src\puzzlepro_core/./processor.cc:2107:11: note: +1, nesting level increased to 5
 2107 |           else {
      |           ^
src\puzzlepro_core/./processor.cc:2111:9: note: +1, nesting level increased to 4
 2111 |         else {
      |         ^
src\puzzlepro_core/./processor.cc:2112:11: note: +5, including nesting penalty of 4, nesting level increased to 5
 2112 |           if (owner_player == infos.turn_player) {
      |           ^
src\puzzlepro_core/./processor.cc:2115:11: note: +1, nesting level increased to 5
 2115 |           else {
      |           ^
src\puzzlepro_core/./processor.cc:2121:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2121 |     if (is_continuous_event(ev.event_code)) {
      |     ^
src\puzzlepro_core/./processor.cc:2126:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2126 |     for (auto eit = pr.first; eit != pr.second;) {
      |     ^
src\puzzlepro_core/./processor.cc:2130:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2130 |       if (!phandler->is_status(STATUS_EFFECT_ENABLED)) {
      |       ^
src\puzzlepro_core/./processor.cc:2133:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2133 |       if (!peffect->is_flag(EFFECT_FLAG_ACTIVATE_CONDITION) && !peffect->is_condition_check(phandler->current.controler, ev)) {
      |       ^
src\puzzlepro_core/./processor.cc:2133:61: note: +1
 2133 |       if (!peffect->is_flag(EFFECT_FLAG_ACTIVATE_CONDITION) && !peffect->is_condition_check(phandler->current.controler, ev)) {
      |                                                             ^
src\puzzlepro_core/./processor.cc:2142:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2142 |       if (peffect->is_flag(EFFECT_FLAG_EVENT_PLAYER) && (ev.event_player == 0 || ev.event_player == 1)) {
      |       ^
src\puzzlepro_core/./processor.cc:2142:54: note: +1
 2142 |       if (peffect->is_flag(EFFECT_FLAG_EVENT_PLAYER) && (ev.event_player == 0 || ev.event_player == 1)) {
      |                                                      ^
src\puzzlepro_core/./processor.cc:2142:79: note: +1
 2142 |       if (peffect->is_flag(EFFECT_FLAG_EVENT_PLAYER) && (ev.event_player == 0 || ev.event_player == 1)) {
      |                                                                               ^
src\puzzlepro_core/./processor.cc:2145:7: note: +1, nesting level increased to 3
 2145 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:2152:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2152 |     for (auto eit = pr.first; eit != pr.second;) {
      |     ^
src\puzzlepro_core/./processor.cc:2156:61: note: +1
 2156 |       bool act = phandler->is_status(STATUS_EFFECT_ENABLED) && (peffect->is_flag(EFFECT_FLAG_ACTIVATE_CONDITION) || peffect->is_condition_check(phandler->current.controler, ev));
      |                                                             ^
src\puzzlepro_core/./processor.cc:2156:114: note: +1
 2156 |       bool act = phandler->is_status(STATUS_EFFECT_ENABLED) && (peffect->is_flag(EFFECT_FLAG_ACTIVATE_CONDITION) || peffect->is_condition_check(phandler->current.controler, ev));
      |                                                                                                                  ^
src\puzzlepro_core/./processor.cc:2157:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2157 |       if (!act && !(peffect->range & LOCATION_HAND)) {
      |       ^
src\puzzlepro_core/./processor.cc:2157:16: note: +1
 2157 |       if (!act && !(peffect->range & LOCATION_HAND)) {
      |                ^
src\puzzlepro_core/./processor.cc:2166:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2166 |       if (peffect->is_flag(EFFECT_FLAG_EVENT_PLAYER) && (ev.event_player == 0 || ev.event_player == 1)) {
      |       ^
src\puzzlepro_core/./processor.cc:2166:54: note: +1
 2166 |       if (peffect->is_flag(EFFECT_FLAG_EVENT_PLAYER) && (ev.event_player == 0 || ev.event_player == 1)) {
      |                                                      ^
src\puzzlepro_core/./processor.cc:2166:79: note: +1
 2166 |       if (peffect->is_flag(EFFECT_FLAG_EVENT_PLAYER) && (ev.event_player == 0 || ev.event_player == 1)) {
      |                                                                               ^
src\puzzlepro_core/./processor.cc:2169:7: note: +1, nesting level increased to 3
 2169 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:2173:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2173 |       if (peffect->is_flag(EFFECT_FLAG_FIELD_ONLY) || !(peffect->range & LOCATION_HAND) || (peffect->range & phandler->current.location) && act) {
      |       ^
src\puzzlepro_core/./processor.cc:2173:89: note: +1
 2173 |       if (peffect->is_flag(EFFECT_FLAG_FIELD_ONLY) || !(peffect->range & LOCATION_HAND) || (peffect->range & phandler->current.location) && act) {
      |                                                                                         ^
src\puzzlepro_core/./processor.cc:2173:138: note: +1
 2173 |       if (peffect->is_flag(EFFECT_FLAG_FIELD_ONLY) || !(peffect->range & LOCATION_HAND) || (peffect->range & phandler->current.location) && act) {
      |                                                                                                                                          ^
src\puzzlepro_core/./processor.cc:2179:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2179 |     for (auto eit = pr.first; eit != pr.second;) {
      |     ^
src\puzzlepro_core/./processor.cc:2184:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2184 |       if (peffect->is_activateable(phandler->current.controler, ev)) {
      |       ^
src\puzzlepro_core/./processor.cc:2190:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 2190 |         if (peffect->is_flag(EFFECT_FLAG_EVENT_PLAYER) && (ev.event_player == 0 || ev.event_player == 1)) {
      |         ^
src\puzzlepro_core/./processor.cc:2190:56: note: +1
 2190 |         if (peffect->is_flag(EFFECT_FLAG_EVENT_PLAYER) && (ev.event_player == 0 || ev.event_player == 1)) {
      |                                                        ^
src\puzzlepro_core/./processor.cc:2190:81: note: +1
 2190 |         if (peffect->is_flag(EFFECT_FLAG_EVENT_PLAYER) && (ev.event_player == 0 || ev.event_player == 1)) {
      |                                                                                 ^
src\puzzlepro_core/./processor.cc:2193:9: note: +1, nesting level increased to 4
 2193 |         else {
      |         ^
src\puzzlepro_core/./processor.cc:2204:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2204 |     for (auto eit = pr.first; eit != pr.second;) {
      |     ^
src\puzzlepro_core/./processor.cc:2207:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2207 |       if (peffect->is_flag(EFFECT_FLAG_DELAY) && peffect->is_condition_check(peffect->get_handler()->current.controler, ev)) {
      |       ^
src\puzzlepro_core/./processor.cc:2207:47: note: +1
 2207 |       if (peffect->is_flag(EFFECT_FLAG_DELAY) && peffect->is_condition_check(peffect->get_handler()->current.controler, ev)) {
      |                                               ^
src\puzzlepro_core/./processor.cc:2212:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2212 |   while (tp.size()) {
      |   ^
src\puzzlepro_core/./processor.cc:2216:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2216 |   while (ntp.size()) {
      |   ^
src\puzzlepro_core/./processor.cc:2262:16: warning: function 'process_single_event' has cognitive complexity of 53 (threshold 25) [readability-function-cognitive-complexity]
 2262 | int32_t field::process_single_event(effect *peffect, const tevent &e, chain_list &tp, chain_list &ntp) {
      |                ^
src\puzzlepro_core/./processor.cc:2263:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2263 |   if (!(peffect->type & EFFECT_TYPE_ACTIONS)) {
      |   ^
src\puzzlepro_core/./processor.cc:2266:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2266 |   if ((peffect->type & EFFECT_TYPE_FLIP) && (e.event_value & (NO_FLIP_EFFECT >> 16))) {
      |   ^
src\puzzlepro_core/./processor.cc:2266:42: note: +1
 2266 |   if ((peffect->type & EFFECT_TYPE_FLIP) && (e.event_value & (NO_FLIP_EFFECT >> 16))) {
      |                                          ^
src\puzzlepro_core/./processor.cc:2270:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2270 |   if (peffect->type & EFFECT_TYPE_CONTINUOUS) {
      |   ^
src\puzzlepro_core/./processor.cc:2272:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2272 |     if (peffect->is_flag(EFFECT_FLAG_EVENT_PLAYER) && (e.event_player == 0 || e.event_player == 1)) {
      |     ^
src\puzzlepro_core/./processor.cc:2272:52: note: +1
 2272 |     if (peffect->is_flag(EFFECT_FLAG_EVENT_PLAYER) && (e.event_player == 0 || e.event_player == 1)) {
      |                                                    ^
src\puzzlepro_core/./processor.cc:2272:76: note: +1
 2272 |     if (peffect->is_flag(EFFECT_FLAG_EVENT_PLAYER) && (e.event_player == 0 || e.event_player == 1)) {
      |                                                                            ^
src\puzzlepro_core/./processor.cc:2275:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2275 |     if (peffect->is_activateable(owner_player, e)) {
      |     ^
src\puzzlepro_core/./processor.cc:2288:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2288 |       if (peffect->is_flag(EFFECT_FLAG_DELAY) && (core.chain_solving || core.conti_solving)) {
      |       ^
src\puzzlepro_core/./processor.cc:2288:47: note: +1
 2288 |       if (peffect->is_flag(EFFECT_FLAG_DELAY) && (core.chain_solving || core.conti_solving)) {
      |                                               ^
src\puzzlepro_core/./processor.cc:2288:70: note: +1
 2288 |       if (peffect->is_flag(EFFECT_FLAG_DELAY) && (core.chain_solving || core.conti_solving)) {
      |                                                                      ^
src\puzzlepro_core/./processor.cc:2289:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 2289 |         if (owner_player == infos.turn_player) {
      |         ^
src\puzzlepro_core/./processor.cc:2292:9: note: +1, nesting level increased to 4
 2292 |         else {
      |         ^
src\puzzlepro_core/./processor.cc:2296:7: note: +1, nesting level increased to 3
 2296 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:2297:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 2297 |         if (owner_player == infos.turn_player) {
      |         ^
src\puzzlepro_core/./processor.cc:2300:9: note: +1, nesting level increased to 4
 2300 |         else {
      |         ^
src\puzzlepro_core/./processor.cc:2306:3: note: +1, nesting level increased to 1
 2306 |   else {
      |   ^
src\puzzlepro_core/./processor.cc:2308:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2308 |     if (!peffect->is_flag(EFFECT_FLAG_ACTIVATE_CONDITION) && !peffect->is_condition_check(phandler->current.controler, e)) {
      |     ^
src\puzzlepro_core/./processor.cc:2308:59: note: +1
 2308 |     if (!peffect->is_flag(EFFECT_FLAG_ACTIVATE_CONDITION) && !peffect->is_condition_check(phandler->current.controler, e)) {
      |                                                           ^
src\puzzlepro_core/./processor.cc:2318:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2318 |     if (peffect->is_flag(EFFECT_FLAG_EVENT_PLAYER) && (e.event_player == 0 || e.event_player == 1)) {
      |     ^
src\puzzlepro_core/./processor.cc:2318:52: note: +1
 2318 |     if (peffect->is_flag(EFFECT_FLAG_EVENT_PLAYER) && (e.event_player == 0 || e.event_player == 1)) {
      |                                                    ^
src\puzzlepro_core/./processor.cc:2318:76: note: +1
 2318 |     if (peffect->is_flag(EFFECT_FLAG_EVENT_PLAYER) && (e.event_player == 0 || e.event_player == 1)) {
      |                                                                            ^
src\puzzlepro_core/./processor.cc:2321:5: note: +1, nesting level increased to 2
 2321 |     else {
      |     ^
src\puzzlepro_core/./processor.cc:2322:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2322 |       if (phandler->current.reason & REASON_TEMPORARY) {
      |       ^
src\puzzlepro_core/./processor.cc:2325:7: note: +1, nesting level increased to 3
 2325 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:2329:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2329 |     if (core.flip_delayed && e.event_code == EVENT_FLIP) {
      |     ^
src\puzzlepro_core/./processor.cc:2329:27: note: +1
 2329 |     if (core.flip_delayed && e.event_code == EVENT_FLIP) {
      |                           ^
src\puzzlepro_core/./processor.cc:2330:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2330 |       if (peffect->type & EFFECT_TYPE_TRIGGER_O) {
      |       ^
src\puzzlepro_core/./processor.cc:2333:7: note: +1, nesting level increased to 3
 2333 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:2337:5: note: +1, nesting level increased to 2
 2337 |     else {
      |     ^
src\puzzlepro_core/./processor.cc:2338:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 2338 |       if (peffect->type & EFFECT_TYPE_TRIGGER_O) {
      |       ^
src\puzzlepro_core/./processor.cc:2341:7: note: +1, nesting level increased to 3
 2341 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:2348:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 2348 |     if (deffect) {
      |     ^
src\puzzlepro_core/./processor.cc:2361:16: warning: function 'process_idle_command' has cognitive complexity of 144 (threshold 25) [readability-function-cognitive-complexity]
 2361 | int32_t field::process_idle_command(uint16_t step) {
      |                ^
src\puzzlepro_core/./processor.cc:2364:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2364 |   switch (step) {
      |   ^
src\puzzlepro_core/./processor.cc:2371:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2371 |       if ((!(core.duel_options & DUEL_ATTACK_FIRST_TURN) && infos.turn_id == 1) || infos.phase == PHASE_MAIN2 || is_player_affected_by_effect(infos.turn_player, EFFECT_CANNOT_BP)) {
      |       ^
src\puzzlepro_core/./processor.cc:2371:111: note: +1
 2371 |       if ((!(core.duel_options & DUEL_ATTACK_FIRST_TURN) && infos.turn_id == 1) || infos.phase == PHASE_MAIN2 || is_player_affected_by_effect(infos.turn_player, EFFECT_CANNOT_BP)) {
      |                                                                                                               ^
src\puzzlepro_core/./processor.cc:2371:58: note: +1
 2371 |       if ((!(core.duel_options & DUEL_ATTACK_FIRST_TURN) && infos.turn_id == 1) || infos.phase == PHASE_MAIN2 || is_player_affected_by_effect(infos.turn_player, EFFECT_CANNOT_BP)) {
      |                                                          ^
src\puzzlepro_core/./processor.cc:2374:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2374 |       if (infos.phase == PHASE_MAIN1) {
      |       ^
src\puzzlepro_core/./processor.cc:2375:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2375 |         for (auto &pcard : player[infos.turn_player].list_mzone) {
      |         ^
src\puzzlepro_core/./processor.cc:2376:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 2376 |           if (pcard && pcard->is_capable_attack() && pcard->is_affected_by_effect(EFFECT_MUST_ATTACK)) {
      |           ^
src\puzzlepro_core/./processor.cc:2376:51: note: +1
 2376 |           if (pcard && pcard->is_capable_attack() && pcard->is_affected_by_effect(EFFECT_MUST_ATTACK)) {
      |                                                   ^
src\puzzlepro_core/./processor.cc:2381:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2381 |         if (core.to_bp && (must_attack || is_player_affected_by_effect(infos.turn_player, EFFECT_CANNOT_EP))) {
      |         ^
src\puzzlepro_core/./processor.cc:2381:24: note: +1
 2381 |         if (core.to_bp && (must_attack || is_player_affected_by_effect(infos.turn_player, EFFECT_CANNOT_EP))) {
      |                        ^
src\puzzlepro_core/./processor.cc:2381:40: note: +1
 2381 |         if (core.to_bp && (must_attack || is_player_affected_by_effect(infos.turn_player, EFFECT_CANNOT_EP))) {
      |                                        ^
src\puzzlepro_core/./processor.cc:2385:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2385 |       if ((infos.phase == PHASE_MAIN1 && is_player_affected_by_effect(infos.turn_player, EFFECT_SKIP_M1)) || (infos.phase == PHASE_MAIN2 && is_player_affected_by_effect(infos.turn_player, EFFECT_SKIP_M2))) {
      |       ^
src\puzzlepro_core/./processor.cc:2385:107: note: +1
 2385 |       if ((infos.phase == PHASE_MAIN1 && is_player_affected_by_effect(infos.turn_player, EFFECT_SKIP_M1)) || (infos.phase == PHASE_MAIN2 && is_player_affected_by_effect(infos.turn_player, EFFECT_SKIP_M2))) {
      |                                                                                                           ^
src\puzzlepro_core/./processor.cc:2385:39: note: +1
 2385 |       if ((infos.phase == PHASE_MAIN1 && is_player_affected_by_effect(infos.turn_player, EFFECT_SKIP_M1)) || (infos.phase == PHASE_MAIN2 && is_player_affected_by_effect(infos.turn_player, EFFECT_SKIP_M2))) {
      |                                       ^
src\puzzlepro_core/./processor.cc:2385:138: note: +1
 2385 |       if ((infos.phase == PHASE_MAIN1 && is_player_affected_by_effect(infos.turn_player, EFFECT_SKIP_M1)) || (infos.phase == PHASE_MAIN2 && is_player_affected_by_effect(infos.turn_player, EFFECT_SKIP_M2))) {
      |                                                                                                                                          ^
src\puzzlepro_core/./processor.cc:2386:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2386 |         if (core.to_bp && core.to_ep) {
      |         ^
src\puzzlepro_core/./processor.cc:2386:24: note: +1
 2386 |         if (core.to_bp && core.to_ep) {
      |                        ^
src\puzzlepro_core/./processor.cc:2393:14: note: +1, nesting level increased to 3
 2393 |         else if (core.to_bp) {
      |              ^
src\puzzlepro_core/./processor.cc:2399:9: note: +1, nesting level increased to 3
 2399 |         else {
      |         ^
src\puzzlepro_core/./processor.cc:2407:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2407 |       if ((infos.phase == PHASE_MAIN2) && core.skip_m2) {
      |       ^
src\puzzlepro_core/./processor.cc:2407:40: note: +1
 2407 |       if ((infos.phase == PHASE_MAIN2) && core.skip_m2) {
      |                                        ^
src\puzzlepro_core/./processor.cc:2413:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2413 |       for (auto eit = pr.first; eit != pr.second;) {
      |       ^
src\puzzlepro_core/./processor.cc:2418:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2418 |         if (peffect->is_activateable(infos.turn_player, free_event)) {
      |         ^
src\puzzlepro_core/./processor.cc:2423:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2423 |       for (auto eit = pr.first; eit != pr.second;) {
      |       ^
src\puzzlepro_core/./processor.cc:2428:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2428 |         if (peffect->is_activateable(infos.turn_player, free_event)) {
      |         ^
src\puzzlepro_core/./processor.cc:2433:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2433 |       for (auto eit = pr.first; eit != pr.second;) {
      |       ^
src\puzzlepro_core/./processor.cc:2437:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2437 |         if (peffect->get_handler_player() == infos.turn_player && peffect->is_activateable(infos.turn_player, free_event)) {
      |         ^
src\puzzlepro_core/./processor.cc:2437:64: note: +1
 2437 |         if (peffect->get_handler_player() == infos.turn_player && peffect->is_activateable(infos.turn_player, free_event)) {
      |                                                                ^
src\puzzlepro_core/./processor.cc:2441:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2441 |       for (auto eit = effects.ignition_effect.begin(); eit != effects.ignition_effect.end();) {
      |       ^
src\puzzlepro_core/./processor.cc:2446:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2446 |         if (peffect->is_activateable(infos.turn_player, free_event)) {
      |         ^
src\puzzlepro_core/./processor.cc:2451:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2451 |       for (auto &pcard : player[infos.turn_player].list_hand) {
      |       ^
src\puzzlepro_core/./processor.cc:2452:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2452 |         if (pcard->is_can_be_summoned(infos.turn_player, FALSE, 0, 0)) {
      |         ^
src\puzzlepro_core/./processor.cc:2456:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2456 |       for (auto &pcard : player[infos.turn_player].list_mzone) {
      |       ^
src\puzzlepro_core/./processor.cc:2457:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2457 |         if (pcard && pcard->is_can_be_summoned(infos.turn_player, FALSE, 0, 0)) {
      |         ^
src\puzzlepro_core/./processor.cc:2457:19: note: +1
 2457 |         if (pcard && pcard->is_can_be_summoned(infos.turn_player, FALSE, 0, 0)) {
      |                   ^
src\puzzlepro_core/./processor.cc:2464:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2464 |       for (effect_set::size_type i = 0; i < eset.size(); ++i) {
      |       ^
src\puzzlepro_core/./processor.cc:2466:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2466 |         if (!eset[i]->check_count_limit(pcard->current.controler)) {
      |         ^
src\puzzlepro_core/./processor.cc:2469:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2469 |         if (pcard->current.controler == infos.turn_player && pcard->is_special_summonable(infos.turn_player, 0)) {
      |         ^
src\puzzlepro_core/./processor.cc:2469:59: note: +1
 2469 |         if (pcard->current.controler == infos.turn_player && pcard->is_special_summonable(infos.turn_player, 0)) {
      |                                                           ^
src\puzzlepro_core/./processor.cc:2475:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2475 |       for (effect_set::size_type i = 0; i < eset.size(); ++i) {
      |       ^
src\puzzlepro_core/./processor.cc:2477:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2477 |         if (!eset[i]->check_count_limit(infos.turn_player)) {
      |         ^
src\puzzlepro_core/./processor.cc:2480:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2480 |         if (pcard->current.controler != infos.turn_player && !eset[i]->is_flag(EFFECT_FLAG_BOTH_SIDE)) {
      |         ^
src\puzzlepro_core/./processor.cc:2480:59: note: +1
 2480 |         if (pcard->current.controler != infos.turn_player && !eset[i]->is_flag(EFFECT_FLAG_BOTH_SIDE)) {
      |                                                           ^
src\puzzlepro_core/./processor.cc:2490:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2490 |         if (pduel->lua->check_condition(eset[i]->condition, 2)) {
      |         ^
src\puzzlepro_core/./processor.cc:2498:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2498 |       for (auto &pcard : player[infos.turn_player].list_mzone) {
      |       ^
src\puzzlepro_core/./processor.cc:2499:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2499 |         if (pcard && ((pcard->is_position(POS_FACEUP | POS_FACEDOWN_ATTACK) && pcard->is_capable_change_position(infos.turn_player)) || (pcard->is_position(POS_FACEDOWN) && pcard->is_can_be_flip_summoned(infos.turn_player)))) {
      |         ^
src\puzzlepro_core/./processor.cc:2499:19: note: +1
 2499 |         if (pcard && ((pcard->is_position(POS_FACEUP | POS_FACEDOWN_ATTACK) && pcard->is_capable_change_position(infos.turn_player)) || (pcard->is_position(POS_FACEDOWN) && pcard->is_can_be_flip_summoned(infos.turn_player)))) {
      |                   ^
src\puzzlepro_core/./processor.cc:2499:134: note: +1
 2499 |         if (pcard && ((pcard->is_position(POS_FACEUP | POS_FACEDOWN_ATTACK) && pcard->is_capable_change_position(infos.turn_player)) || (pcard->is_position(POS_FACEDOWN) && pcard->is_can_be_flip_summoned(infos.turn_player)))) {
      |                                                                                                                                      ^
src\puzzlepro_core/./processor.cc:2499:77: note: +1
 2499 |         if (pcard && ((pcard->is_position(POS_FACEUP | POS_FACEDOWN_ATTACK) && pcard->is_capable_change_position(infos.turn_player)) || (pcard->is_position(POS_FACEDOWN) && pcard->is_can_be_flip_summoned(infos.turn_player)))) {
      |                                                                             ^
src\puzzlepro_core/./processor.cc:2499:171: note: +1
 2499 |         if (pcard && ((pcard->is_position(POS_FACEUP | POS_FACEDOWN_ATTACK) && pcard->is_capable_change_position(infos.turn_player)) || (pcard->is_position(POS_FACEDOWN) && pcard->is_can_be_flip_summoned(infos.turn_player)))) {
      |                                                                                                                                                                           ^
src\puzzlepro_core/./processor.cc:2505:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2505 |       for (auto &pcard : player[infos.turn_player].list_hand) {
      |       ^
src\puzzlepro_core/./processor.cc:2506:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2506 |         if (pcard->is_setable_mzone(infos.turn_player, FALSE, 0, 0)) {
      |         ^
src\puzzlepro_core/./processor.cc:2509:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2509 |         if (pcard->is_setable_szone(infos.turn_player)) {
      |         ^
src\puzzlepro_core/./processor.cc:2519:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2519 |       if (ctype == 5) {
      |       ^
src\puzzlepro_core/./processor.cc:2522:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2522 |         if (peffect->type & EFFECT_TYPE_CONTINUOUS) {
      |         ^
src\puzzlepro_core/./processor.cc:2551:12: note: +1, nesting level increased to 2
 2551 |       else if (ctype == 0) {
      |            ^
src\puzzlepro_core/./processor.cc:2555:12: note: +1, nesting level increased to 2
 2555 |       else if (ctype == 1) {
      |            ^
src\puzzlepro_core/./processor.cc:2559:12: note: +1, nesting level increased to 2
 2559 |       else if (ctype == 2) {
      |            ^
src\puzzlepro_core/./processor.cc:2563:12: note: +1, nesting level increased to 2
 2563 |       else if (ctype == 3) {
      |            ^
src\puzzlepro_core/./processor.cc:2567:12: note: +1, nesting level increased to 2
 2567 |       else if (ctype == 4) {
      |            ^
src\puzzlepro_core/./processor.cc:2571:12: note: +1, nesting level increased to 2
 2571 |       else if (ctype == 8) {
      |            ^
src\puzzlepro_core/./processor.cc:2577:7: note: +1, nesting level increased to 2
 2577 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:2594:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2594 |       for (auto &ch_lim : core.chain_limit) {
      |       ^
src\puzzlepro_core/./processor.cc:2598:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2598 |       for (auto &ch : core.current_chain) {
      |       ^
src\puzzlepro_core/./processor.cc:2627:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2627 |       if (target->is_position(POS_FACEUP_ATTACK)) {
      |       ^
src\puzzlepro_core/./processor.cc:2633:12: note: +1, nesting level increased to 2
 2633 |       else if (target->is_position(POS_FACEUP_DEFENSE)) {
      |            ^
src\puzzlepro_core/./processor.cc:2639:12: note: +1, nesting level increased to 2
 2639 |       else if (target->is_position(POS_FACEDOWN_ATTACK)) {
      |            ^
src\puzzlepro_core/./processor.cc:2643:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2643 |         if (target->is_capable_change_position(infos.turn_player)) {
      |         ^
src\puzzlepro_core/./processor.cc:2646:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2646 |         if (target->is_can_be_flip_summoned(infos.turn_player)) {
      |         ^
src\puzzlepro_core/./processor.cc:2653:7: note: +1, nesting level increased to 2
 2653 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:2675:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2675 |       for (auto &ch_lim : core.chain_limit) {
      |       ^
src\puzzlepro_core/./processor.cc:2679:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2679 |       if (core.current_chain.size()) {
      |       ^
src\puzzlepro_core/./processor.cc:2680:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2680 |         for (auto &ch : core.current_chain) {
      |         ^
src\puzzlepro_core/./processor.cc:2697:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2697 |       if (returns.ivalue[0] == 0) {
      |       ^
src\puzzlepro_core/./processor.cc:2700:7: note: +1, nesting level increased to 2
 2700 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:2711:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2711 |       if (returns.ivalue[0] == POS_FACEUP_ATTACK) {
      |       ^
src\puzzlepro_core/./processor.cc:2714:7: note: +1, nesting level increased to 2
 2714 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:2728:16: warning: function 'process_battle_command' has cognitive complexity of 391 (threshold 25) [readability-function-cognitive-complexity]
 2728 | int32_t field::process_battle_command(uint16_t step) {
      |                ^
src\puzzlepro_core/./processor.cc:2731:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 2731 |   switch (step) {
      |   ^
src\puzzlepro_core/./processor.cc:2735:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2735 |       if (!core.chain_attack) {
      |       ^
src\puzzlepro_core/./processor.cc:2743:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2743 |       if (skip_effect) {
      |       ^
src\puzzlepro_core/./processor.cc:2746:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2746 |         if (is_player_affected_by_effect(infos.turn_player, EFFECT_BP_TWICE)) {
      |         ^
src\puzzlepro_core/./processor.cc:2749:9: note: +1, nesting level increased to 3
 2749 |         else {
      |         ^
src\puzzlepro_core/./processor.cc:2752:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2752 |         if (!skip_effect->value) {
      |         ^
src\puzzlepro_core/./processor.cc:2758:9: note: +1, nesting level increased to 3
 2758 |         else {
      |         ^
src\puzzlepro_core/./processor.cc:2766:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2766 |       for (auto eit = pr.first; eit != pr.second;) {
      |       ^
src\puzzlepro_core/./processor.cc:2771:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2771 |         if (peffect->is_activateable(infos.turn_player, free_event) && peffect->get_speed() > 1) {
      |         ^
src\puzzlepro_core/./processor.cc:2771:69: note: +1
 2771 |         if (peffect->is_activateable(infos.turn_player, free_event) && peffect->get_speed() > 1) {
      |                                                                     ^
src\puzzlepro_core/./processor.cc:2776:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2776 |       for (auto eit = pr.first; eit != pr.second;) {
      |       ^
src\puzzlepro_core/./processor.cc:2781:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2781 |         if (peffect->is_activateable(infos.turn_player, free_event)) {
      |         ^
src\puzzlepro_core/./processor.cc:2786:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2786 |       for (auto eit = pr.first; eit != pr.second;) {
      |       ^
src\puzzlepro_core/./processor.cc:2790:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2790 |         if (peffect->get_handler_player() == infos.turn_player && peffect->is_activateable(infos.turn_player, free_event)) {
      |         ^
src\puzzlepro_core/./processor.cc:2790:64: note: +1
 2790 |         if (peffect->get_handler_player() == infos.turn_player && peffect->is_activateable(infos.turn_player, free_event)) {
      |                                                                ^
src\puzzlepro_core/./processor.cc:2797:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2797 |       if (!is_player_affected_by_effect(infos.turn_player, EFFECT_CANNOT_ATTACK_ANNOUNCE)) {
      |       ^
src\puzzlepro_core/./processor.cc:2798:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2798 |         for (auto &pcard : player[infos.turn_player].list_mzone) {
      |         ^
src\puzzlepro_core/./processor.cc:2799:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 2799 |           if (!pcard) {
      |           ^
src\puzzlepro_core/./processor.cc:2802:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 2802 |           if (!pcard->is_capable_attack_announce(infos.turn_player)) {
      |           ^
src\puzzlepro_core/./processor.cc:2806:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 2806 |           if (core.chain_attack && core.chain_attacker_id == pcard->fieldid) {
      |           ^
src\puzzlepro_core/./processor.cc:2806:33: note: +1
 2806 |           if (core.chain_attack && core.chain_attacker_id == pcard->fieldid) {
      |                                 ^
src\puzzlepro_core/./processor.cc:2811:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 2811 |           if (cv.size() == 0 && pcard->direct_attackable == 0) {
      |           ^
src\puzzlepro_core/./processor.cc:2811:30: note: +1
 2811 |           if (cv.size() == 0 && pcard->direct_attackable == 0) {
      |                              ^
src\puzzlepro_core/./processor.cc:2815:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 2815 |           if (pcard->is_affected_by_effect(EFFECT_FIRST_ATTACK)) {
      |           ^
src\puzzlepro_core/./processor.cc:2818:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 2818 |           if (pcard->is_affected_by_effect(EFFECT_MUST_ATTACK)) {
      |           ^
src\puzzlepro_core/./processor.cc:2822:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2822 |         if (first_attack.size()) {
      |         ^
src\puzzlepro_core/./processor.cc:2828:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2828 |       if (must_attack.size() || is_player_affected_by_effect(infos.turn_player, EFFECT_CANNOT_M2)) {
      |       ^
src\puzzlepro_core/./processor.cc:2828:30: note: +1
 2828 |       if (must_attack.size() || is_player_affected_by_effect(infos.turn_player, EFFECT_CANNOT_M2)) {
      |                              ^
src\puzzlepro_core/./processor.cc:2831:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2831 |       if (must_attack.size()) {
      |       ^
src\puzzlepro_core/./processor.cc:2843:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2843 |       if (step == 0) {
      |       ^
src\puzzlepro_core/./processor.cc:2847:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2847 |       if (ctype == 0) {
      |       ^
src\puzzlepro_core/./processor.cc:2850:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2850 |         if (peffect->type & EFFECT_TYPE_CONTINUOUS) {
      |         ^
src\puzzlepro_core/./processor.cc:2879:12: note: +1, nesting level increased to 2
 2879 |       else if (ctype == 1) {
      |            ^
src\puzzlepro_core/./processor.cc:2886:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2886 |         if (core.chain_attack && core.chain_attacker_id != core.attacker->fieldid) {
      |         ^
src\puzzlepro_core/./processor.cc:2886:31: note: +1
 2886 |         if (core.chain_attack && core.chain_attacker_id != core.attacker->fieldid) {
      |                               ^
src\puzzlepro_core/./processor.cc:2894:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 2894 |         if (step == 0) {
      |         ^
src\puzzlepro_core/./processor.cc:2898:14: note: +1, nesting level increased to 3
 2898 |         else if (step == 1) {
      |              ^
src\puzzlepro_core/./processor.cc:2900:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 2900 |           for (effect_set::size_type i = 0; i < eset.size(); ++i) {
      |           ^
src\puzzlepro_core/./processor.cc:2902:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 2902 |             if (processed.contains(eset[i]->owner)) {
      |             ^
src\puzzlepro_core/./processor.cc:2904:13: note: +1, nesting level increased to 5
 2904 |             else {
      |             ^
src\puzzlepro_core/./processor.cc:2908:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 2908 |           if (not core.select_cards.empty()) {
      |           ^
src\puzzlepro_core/./processor.cc:2920:14: note: +1, nesting level increased to 3
 2920 |         else if (step == 2) {
      |              ^
src\puzzlepro_core/./processor.cc:2921:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 2921 |           for (int32_t i = 0; i < eset.size(); ++i) {
      |           ^
src\puzzlepro_core/./processor.cc:2922:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 2922 |             if (eset[i]->owner == core.select_cards[0]) {
      |             ^
src\puzzlepro_core/./processor.cc:2924:15: note: +6, including nesting penalty of 5, nesting level increased to 6
 2924 |               if (processed.contains(eset[i]->owner)) {
      |               ^
src\puzzlepro_core/./processor.cc:2926:15: note: +1, nesting level increased to 6
 2926 |               else {
      |               ^
src\puzzlepro_core/./processor.cc:2927:17: note: +7, including nesting penalty of 6, nesting level increased to 7
 2927 |                 if (eset[i]->operation) {
      |                 ^
src\puzzlepro_core/./processor.cc:2940:14: note: +1, nesting level increased to 3
 2940 |         else if (step == 3) {
      |              ^
src\puzzlepro_core/./processor.cc:2941:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 2941 |           for (int32_t i = 0; i < eset.size(); ++i) {
      |           ^
src\puzzlepro_core/./processor.cc:2943:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 2943 |             if (processed.contains(eset[i]->owner)) {
      |             ^
src\puzzlepro_core/./processor.cc:2945:13: note: +1, nesting level increased to 5
 2945 |             else {
      |             ^
src\puzzlepro_core/./processor.cc:2951:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 2951 |           if (not(step == 1)) {
      |           ^
src\puzzlepro_core/./processor.cc:2959:7: note: +1, nesting level increased to 2
 2959 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:2976:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2976 |       for (auto &ch_lim : core.chain_limit) {
      |       ^
src\puzzlepro_core/./processor.cc:2980:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2980 |       for (auto &ch : core.current_chain) {
      |       ^
src\puzzlepro_core/./processor.cc:2989:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 2989 |       if (core.attacker->is_status(STATUS_ATTACK_CANCELED)) {
      |       ^
src\puzzlepro_core/./processor.cc:3002:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3002 |       if (core.attacker->direct_attackable) {
      |       ^
src\puzzlepro_core/./processor.cc:3003:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3003 |         if (core.select_cards.size() == 0) {
      |         ^
src\puzzlepro_core/./processor.cc:3008:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3008 |         if (is_player_affected_by_effect(infos.turn_player, EFFECT_PATRICIAN_OF_DARKNESS)) {
      |         ^
src\puzzlepro_core/./processor.cc:3011:9: note: +1, nesting level increased to 3
 3011 |         else {
      |         ^
src\puzzlepro_core/./processor.cc:3017:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3017 |       if (core.select_cards.size() == 0) {
      |       ^
src\puzzlepro_core/./processor.cc:3023:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3023 |       if (atype == 3 || is_player_affected_by_effect(infos.turn_player, EFFECT_PATRICIAN_OF_DARKNESS)) {
      |       ^
src\puzzlepro_core/./processor.cc:3023:22: note: +1
 3023 |       if (atype == 3 || is_player_affected_by_effect(infos.turn_player, EFFECT_PATRICIAN_OF_DARKNESS)) {
      |                      ^
src\puzzlepro_core/./processor.cc:3024:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3024 |         if (core.select_cards.size() == 1) {
      |         ^
src\puzzlepro_core/./processor.cc:3027:9: note: +1, nesting level increased to 3
 3027 |         else {
      |         ^
src\puzzlepro_core/./processor.cc:3038:7: note: +1, nesting level increased to 2
 3038 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:3043:97: note: +3, including nesting penalty of 2, nesting level increased to 3
 3043 |         add_process(PROCESSOR_SELECT_CARD, 0, 0, 0, infos.turn_player + (core.attack_cancelable ? 0x20000 : 0), 0x10001);
      |                                                                                                 ^
src\puzzlepro_core/./processor.cc:3050:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3050 |       if (returns.ivalue[0]) {
      |       ^
src\puzzlepro_core/./processor.cc:3053:7: note: +1, nesting level increased to 2
 3053 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:3054:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3054 |         if (core.select_cards.size()) {
      |         ^
src\puzzlepro_core/./processor.cc:3058:40: note: +4, including nesting penalty of 3, nesting level increased to 4
 3058 |           pduel->write_buffer8(opposel ? 1 - infos.turn_player : infos.turn_player);
      |                                        ^
src\puzzlepro_core/./processor.cc:3060:63: note: +4, including nesting penalty of 3, nesting level increased to 4
 3060 |           add_process(PROCESSOR_SELECT_CARD, 0, 0, 0, opposel ? 1 - infos.turn_player : infos.turn_player + (core.attack_cancelable ? 0x20000 : 0), 0x10001);
      |                                                               ^
src\puzzlepro_core/./processor.cc:3060:133: note: +5, including nesting penalty of 4, nesting level increased to 5
 3060 |           add_process(PROCESSOR_SELECT_CARD, 0, 0, 0, opposel ? 1 - infos.turn_player : infos.turn_player + (core.attack_cancelable ? 0x20000 : 0), 0x10001);
      |                                                                                                                                     ^
src\puzzlepro_core/./processor.cc:3062:9: note: +1, nesting level increased to 3
 3062 |         else {
      |         ^
src\puzzlepro_core/./processor.cc:3070:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3070 |       if (returns.ivalue[0] == -1) { // cancel attack manually
      |       ^
src\puzzlepro_core/./processor.cc:3071:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3071 |         if (core.units.begin()->arg1) {
      |         ^
src\puzzlepro_core/./processor.cc:3078:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3078 |       if (returns.ivalue[0] == -2) {
      |       ^
src\puzzlepro_core/./processor.cc:3081:7: note: +1, nesting level increased to 2
 3081 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:3084:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3084 |       if (core.attack_target) {
      |       ^
src\puzzlepro_core/./processor.cc:3087:7: note: +1, nesting level increased to 2
 3087 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:3093:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3093 |       if (!core.units.begin()->arg1) {
      |       ^
src\puzzlepro_core/./processor.cc:3099:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3099 |       if (core.units.begin()->arg3) { // attack announce failed
      |       ^
src\puzzlepro_core/./processor.cc:3111:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3111 |       if (core.attack_target) {
      |       ^
src\puzzlepro_core/./processor.cc:3116:7: note: +1, nesting level increased to 2
 3116 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:3121:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3121 |       for (auto &pcard : player[1 - infos.turn_player].list_mzone) {
      |       ^
src\puzzlepro_core/./processor.cc:3122:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3122 |         if (pcard) {
      |         ^
src\puzzlepro_core/./processor.cc:3127:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3127 |       if (!core.units.begin()->arg1) {
      |       ^
src\puzzlepro_core/./processor.cc:3140:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3140 |       if (is_player_affected_by_effect(infos.turn_player, EFFECT_SKIP_BP) || core.attacker->is_status(STATUS_ATTACK_CANCELED) || core.attack_rollback) {
      |       ^
src\puzzlepro_core/./processor.cc:3140:127: note: +1
 3140 |       if (is_player_affected_by_effect(infos.turn_player, EFFECT_SKIP_BP) || core.attacker->is_status(STATUS_ATTACK_CANCELED) || core.attack_rollback) {
      |                                                                                                                               ^
src\puzzlepro_core/./processor.cc:3158:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3158 |       if (returns.ivalue[0]) {
      |       ^
src\puzzlepro_core/./processor.cc:3161:7: note: +1, nesting level increased to 2
 3161 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:3167:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3167 |       if (core.attacker->is_affected_by_effect(EFFECT_ATTACK_DISABLED)) {
      |       ^
src\puzzlepro_core/./processor.cc:3172:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3172 |       if (is_player_affected_by_effect(infos.turn_player, EFFECT_SKIP_BP) || core.attacker->is_status(STATUS_ATTACK_CANCELED)) {
      |       ^
src\puzzlepro_core/./processor.cc:3172:75: note: +1
 3172 |       if (is_player_affected_by_effect(infos.turn_player, EFFECT_SKIP_BP) || core.attacker->is_status(STATUS_ATTACK_CANCELED)) {
      |                                                                           ^
src\puzzlepro_core/./processor.cc:3177:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3177 |       if (!core.attack_rollback) {
      |       ^
src\puzzlepro_core/./processor.cc:3187:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3187 |       if (!cv.size() && !core.attacker->direct_attackable) {
      |       ^
src\puzzlepro_core/./processor.cc:3187:22: note: +1
 3187 |       if (!cv.size() && !core.attacker->direct_attackable) {
      |                      ^
src\puzzlepro_core/./processor.cc:3192:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3192 |       if (!core.attacker->is_affected_by_effect(EFFECT_MUST_ATTACK)) {
      |       ^
src\puzzlepro_core/./processor.cc:3195:7: note: +1, nesting level increased to 2
 3195 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:3203:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3203 |       if (returns.ivalue[0]) {
      |       ^
src\puzzlepro_core/./processor.cc:3211:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3211 |       if (core.attacker->fieldid_r == core.pre_field[0]) {
      |       ^
src\puzzlepro_core/./processor.cc:3238:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3238 |       if (core.attack_target) {
      |       ^
src\puzzlepro_core/./processor.cc:3242:7: note: +1, nesting level increased to 2
 3242 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:3255:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3255 |       if (core.attack_target) {
      |       ^
src\puzzlepro_core/./processor.cc:3273:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3273 |       if (core.attacker->is_status(STATUS_ATTACK_CANCELED)) {
      |       ^
src\puzzlepro_core/./processor.cc:3277:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3277 |       if (!core.attack_target) {
      |       ^
src\puzzlepro_core/./processor.cc:3282:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3282 |       if (core.attack_target->is_position(POS_FACEDOWN)) {
      |       ^
src\puzzlepro_core/./processor.cc:3290:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3290 |       if (core.attack_target) {
      |       ^
src\puzzlepro_core/./processor.cc:3291:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3291 |         if (core.attack_target->temp.position & POS_FACEDOWN) {
      |         ^
src\puzzlepro_core/./processor.cc:3312:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3312 |       if (core.attacker->is_status(STATUS_ATTACK_CANCELED)) {
      |       ^
src\puzzlepro_core/./processor.cc:3324:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3324 |       if (core.attack_target) {
      |       ^
src\puzzlepro_core/./processor.cc:3343:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3343 |       if (core.attacker->is_status(STATUS_ATTACK_CANCELED)) {
      |       ^
src\puzzlepro_core/./processor.cc:3362:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3362 |       if (core.attack_target) {
      |       ^
src\puzzlepro_core/./processor.cc:3371:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3371 |         if (pa != pd) {
      |         ^
src\puzzlepro_core/./processor.cc:3382:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3382 |       if (bd[0]) {
      |       ^
src\puzzlepro_core/./processor.cc:3384:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3384 |         if (indestructable_effect) {
      |         ^
src\puzzlepro_core/./processor.cc:3391:9: note: +1, nesting level increased to 3
 3391 |         else {
      |         ^
src\puzzlepro_core/./processor.cc:3395:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3395 |       if (bd[1]) {
      |       ^
src\puzzlepro_core/./processor.cc:3397:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3397 |         if (indestructable_effect) {
      |         ^
src\puzzlepro_core/./processor.cc:3404:9: note: +1, nesting level increased to 3
 3404 |         else {
      |         ^
src\puzzlepro_core/./processor.cc:3413:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3413 |       if (core.attack_target) {
      |       ^
src\puzzlepro_core/./processor.cc:3419:7: note: +1, nesting level increased to 2
 3419 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:3426:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3426 |       if (reason_card) {
      |       ^
src\puzzlepro_core/./processor.cc:3429:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3429 |       if (!reason_card) {
      |       ^
src\puzzlepro_core/./processor.cc:3432:12: note: +1, nesting level increased to 2
 3432 |       else if (reason_card == core.attacker) {
      |            ^
src\puzzlepro_core/./processor.cc:3435:7: note: +1, nesting level increased to 2
 3435 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:3438:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3438 |       if (!damchange) {
      |       ^
src\puzzlepro_core/./processor.cc:3439:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3439 |         if (core.battle_damage[infos.turn_player]) {
      |         ^
src\puzzlepro_core/./processor.cc:3441:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 3441 |           if (core.attack_target) {
      |           ^
src\puzzlepro_core/./processor.cc:3446:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3446 |         if (core.battle_damage[1 - infos.turn_player]) {
      |         ^
src\puzzlepro_core/./processor.cc:3448:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 3448 |           if (core.attack_target) {
      |           ^
src\puzzlepro_core/./processor.cc:3465:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3465 |       if (core.attack_target) {
      |       ^
src\puzzlepro_core/./processor.cc:3470:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3470 |       if (core.temp_var[1] == 1) {
      |       ^
src\puzzlepro_core/./processor.cc:3473:12: note: +1, nesting level increased to 2
 3473 |       else if (core.temp_var[1] == 2) {
      |            ^
src\puzzlepro_core/./processor.cc:3477:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3477 |       if (!damchange) {
      |       ^
src\puzzlepro_core/./processor.cc:3478:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3478 |         if (core.battle_damage[0]) {
      |         ^
src\puzzlepro_core/./processor.cc:3481:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3481 |         if (core.battle_damage[1]) {
      |         ^
src\puzzlepro_core/./processor.cc:3485:7: note: +1, nesting level increased to 2
 3485 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:3486:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3486 |         if (core.battle_damage[0]) {
      |         ^
src\puzzlepro_core/./processor.cc:3489:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3489 |         if (core.battle_damage[1]) {
      |         ^
src\puzzlepro_core/./processor.cc:3500:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3500 |       if (core.attacker->is_status(STATUS_BATTLE_RESULT) && core.attacker->current.location == LOCATION_MZONE && core.attacker->fieldid_r == core.pre_field[0]) {
      |       ^
src\puzzlepro_core/./processor.cc:3500:111: note: +1
 3500 |       if (core.attacker->is_status(STATUS_BATTLE_RESULT) && core.attacker->current.location == LOCATION_MZONE && core.attacker->fieldid_r == core.pre_field[0]) {
      |                                                                                                               ^
src\puzzlepro_core/./processor.cc:3512:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3512 |         if ((peffect = core.attack_target->is_affected_by_effect(EFFECT_BATTLE_DESTROY_REDIRECT)) && (core.attacker->data.type & TYPE_MONSTER)) {
      |         ^
src\puzzlepro_core/./processor.cc:3512:99: note: +1
 3512 |         if ((peffect = core.attack_target->is_affected_by_effect(EFFECT_BATTLE_DESTROY_REDIRECT)) && (core.attacker->data.type & TYPE_MONSTER)) {
      |                                                                                                   ^
src\puzzlepro_core/./processor.cc:3520:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3520 |       if (core.attack_target && core.attack_target->is_status(STATUS_BATTLE_RESULT) && core.attack_target->current.location == LOCATION_MZONE && core.attack_target->fieldid_r == core.pre_field[1]) {
      |       ^
src\puzzlepro_core/./processor.cc:3520:143: note: +1
 3520 |       if (core.attack_target && core.attack_target->is_status(STATUS_BATTLE_RESULT) && core.attack_target->current.location == LOCATION_MZONE && core.attack_target->fieldid_r == core.pre_field[1]) {
      |                                                                                                                                               ^
src\puzzlepro_core/./processor.cc:3532:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3532 |         if ((peffect = core.attacker->is_affected_by_effect(EFFECT_BATTLE_DESTROY_REDIRECT)) && (core.attack_target->data.type & TYPE_MONSTER)) {
      |         ^
src\puzzlepro_core/./processor.cc:3532:94: note: +1
 3532 |         if ((peffect = core.attacker->is_affected_by_effect(EFFECT_BATTLE_DESTROY_REDIRECT)) && (core.attack_target->data.type & TYPE_MONSTER)) {
      |                                                                                              ^
src\puzzlepro_core/./processor.cc:3541:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3541 |       if (core.attack_target) {
      |       ^
src\puzzlepro_core/./processor.cc:3546:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3546 |       if (des.size()) {
      |       ^
src\puzzlepro_core/./processor.cc:3556:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3556 |       if (core.battle_destroy_rep.size()) {
      |       ^
src\puzzlepro_core/./processor.cc:3559:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3559 |       if (core.desrep_chain.size()) {
      |       ^
src\puzzlepro_core/./processor.cc:3567:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3567 |       if (des && des->container.size()) {
      |       ^
src\puzzlepro_core/./processor.cc:3567:15: note: +1
 3567 |       if (des && des->container.size()) {
      |               ^
src\puzzlepro_core/./processor.cc:3568:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3568 |         for (auto &pcard : des->container) {
      |         ^
src\puzzlepro_core/./processor.cc:3584:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3584 |       if (core.attack_target) {
      |       ^
src\puzzlepro_core/./processor.cc:3590:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3590 |       if (core.effect_damage_step) {
      |       ^
src\puzzlepro_core/./processor.cc:3613:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3613 |       if (des) {
      |       ^
src\puzzlepro_core/./processor.cc:3614:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3614 |         for (auto cit = des->container.begin(); cit != des->container.end();) {
      |         ^
src\puzzlepro_core/./processor.cc:3615:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 3615 |           if ((*cit)->current.location != LOCATION_MZONE || ((*cit)->fieldid_r != core.pre_field[0] && (*cit)->fieldid_r != core.pre_field[1])) {
      |           ^
src\puzzlepro_core/./processor.cc:3615:58: note: +1
 3615 |           if ((*cit)->current.location != LOCATION_MZONE || ((*cit)->fieldid_r != core.pre_field[0] && (*cit)->fieldid_r != core.pre_field[1])) {
      |                                                          ^
src\puzzlepro_core/./processor.cc:3615:101: note: +1
 3615 |           if ((*cit)->current.location != LOCATION_MZONE || ((*cit)->fieldid_r != core.pre_field[0] && (*cit)->fieldid_r != core.pre_field[1])) {
      |                                                                                                     ^
src\puzzlepro_core/./processor.cc:3618:11: note: +1, nesting level increased to 4
 3618 |           else {
      |           ^
src\puzzlepro_core/./processor.cc:3636:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3636 |       if (core.attacker->is_status(STATUS_BATTLE_DESTROYED) && (core.attacker->current.reason & REASON_BATTLE)) {
      |       ^
src\puzzlepro_core/./processor.cc:3636:61: note: +1
 3636 |       if (core.attacker->is_status(STATUS_BATTLE_DESTROYED) && (core.attacker->current.reason & REASON_BATTLE)) {
      |                                                             ^
src\puzzlepro_core/./processor.cc:3643:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3643 |       if (core.attack_target && core.attack_target->is_status(STATUS_BATTLE_DESTROYED) && (core.attack_target->current.reason & REASON_BATTLE)) {
      |       ^
src\puzzlepro_core/./processor.cc:3643:88: note: +1
 3643 |       if (core.attack_target && core.attack_target->is_status(STATUS_BATTLE_DESTROYED) && (core.attack_target->current.reason & REASON_BATTLE)) {
      |                                                                                        ^
src\puzzlepro_core/./processor.cc:3650:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3650 |       if (ing.size()) {
      |       ^
src\puzzlepro_core/./processor.cc:3653:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3653 |       if (ed.size()) {
      |       ^
src\puzzlepro_core/./processor.cc:3658:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3658 |       if (core.attack_target) {
      |       ^
src\puzzlepro_core/./processor.cc:3665:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3665 |       if (core.attack_target) {
      |       ^
src\puzzlepro_core/./processor.cc:3686:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3686 |       if (core.attack_target) {
      |       ^
src\puzzlepro_core/./processor.cc:3696:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3696 |       if (core.effect_damage_step) {
      |       ^
src\puzzlepro_core/./processor.cc:3702:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3702 |       for (auto &ch_lim : core.chain_limit) {
      |       ^
src\puzzlepro_core/./processor.cc:3706:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3706 |       if (core.current_chain.size()) {
      |       ^
src\puzzlepro_core/./processor.cc:3707:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 3707 |         for (auto &ch : core.current_chain) {
      |         ^
src\puzzlepro_core/./processor.cc:3720:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 3720 |       if (is_player_affected_by_effect(infos.turn_player, EFFECT_BP_TWICE)) {
      |       ^
src\puzzlepro_core/./processor.cc:3723:7: note: +1, nesting level increased to 2
 3723 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:3824:13: warning: function 'calculate_battle_damage' has cognitive complexity of 326 (threshold 25) [readability-function-cognitive-complexity]
 3824 | void field::calculate_battle_damage(effect **pdamchange, card **preason_card, uint8_t *battle_destroyed) {
      |             ^
src\puzzlepro_core/./processor.cc:3834:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 3834 |   if (core.attacker->is_position(POS_FACEUP_DEFENSE)) {
      |   ^
src\puzzlepro_core/./processor.cc:3836:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 3836 |     if (defattack && defattack->get_value(core.attacker)) {
      |     ^
src\puzzlepro_core/./processor.cc:3836:19: note: +1
 3836 |     if (defattack && defattack->get_value(core.attacker)) {
      |                   ^
src\puzzlepro_core/./processor.cc:3840:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 3840 |   if (core.attack_target) {
      |   ^
src\puzzlepro_core/./processor.cc:3844:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 3844 |     if (core.attack_target->is_position(POS_ATTACK)) {
      |     ^
src\puzzlepro_core/./processor.cc:3846:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 3846 |       if (attacker_value > defender_value) {
      |       ^
src\puzzlepro_core/./processor.cc:3852:12: note: +1, nesting level increased to 3
 3852 |       else if (attacker_value < defender_value) {
      |            ^
src\puzzlepro_core/./processor.cc:3858:7: note: +1, nesting level increased to 3
 3858 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:3859:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 3859 |         if (attacker_value != 0) {
      |         ^
src\puzzlepro_core/./processor.cc:3865:5: note: +1, nesting level increased to 2
 3865 |     else {
      |     ^
src\puzzlepro_core/./processor.cc:3867:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 3867 |       if (attacker_value > defender_value) {
      |       ^
src\puzzlepro_core/./processor.cc:3870:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 3870 |         if (eset.size()) {
      |         ^
src\puzzlepro_core/./processor.cc:3873:11: note: +5, including nesting penalty of 4, nesting level increased to 5
 3873 |           for (effect_set::size_type i = 0; i < eset.size(); ++i) {
      |           ^
src\puzzlepro_core/./processor.cc:3876:11: note: +5, including nesting penalty of 4, nesting level increased to 5
 3876 |           if (dp[0]) {
      |           ^
src\puzzlepro_core/./processor.cc:3879:11: note: +5, including nesting penalty of 4, nesting level increased to 5
 3879 |           if (dp[1]) {
      |           ^
src\puzzlepro_core/./processor.cc:3884:11: note: +5, including nesting penalty of 4, nesting level increased to 5
 3884 |           for (effect_set::size_type i = 0; i < eset.size(); ++i) {
      |           ^
src\puzzlepro_core/./processor.cc:3885:13: note: +6, including nesting penalty of 5, nesting level increased to 6
 3885 |             if (eset[i]->get_value() == DOUBLE_DAMAGE) {
      |             ^
src\puzzlepro_core/./processor.cc:3895:11: note: +5, including nesting penalty of 4, nesting level increased to 5
 3895 |           if (double_damage) {
      |           ^
src\puzzlepro_core/./processor.cc:3896:13: note: +6, including nesting penalty of 5, nesting level increased to 6
 3896 |             if (dp[0]) {
      |             ^
src\puzzlepro_core/./processor.cc:3899:13: note: +6, including nesting penalty of 5, nesting level increased to 6
 3899 |             if (dp[1]) {
      |             ^
src\puzzlepro_core/./processor.cc:3909:29: note: +1
 3909 |           bool both = dp[0] && dp[1];
      |                             ^
src\puzzlepro_core/./processor.cc:3910:11: note: +5, including nesting penalty of 4, nesting level increased to 5
 3910 |           if (!both) {
      |           ^
src\puzzlepro_core/./processor.cc:3911:36: note: +6, including nesting penalty of 5, nesting level increased to 6
 3911 |             damaged_player = dp[0] ? 0 : 1;
      |                                    ^
src\puzzlepro_core/./processor.cc:3912:13: note: +6, including nesting penalty of 5, nesting level increased to 6
 3912 |             if (core.attacker->is_affected_by_effect(EFFECT_BOTH_BATTLE_DAMAGE) || core.attack_target->is_affected_by_effect(EFFECT_BOTH_BATTLE_DAMAGE)) {
      |             ^
src\puzzlepro_core/./processor.cc:3912:81: note: +1
 3912 |             if (core.attacker->is_affected_by_effect(EFFECT_BOTH_BATTLE_DAMAGE) || core.attack_target->is_affected_by_effect(EFFECT_BOTH_BATTLE_DAMAGE)) {
      |                                                                                 ^
src\puzzlepro_core/./processor.cc:3918:11: note: +5, including nesting penalty of 4, nesting level increased to 5
 3918 |           if (!(reflect[pd] = core.attack_target->is_affected_by_effect(EFFECT_REFLECT_BATTLE_DAMAGE, core.attacker))) {
      |           ^
src\puzzlepro_core/./processor.cc:3921:11: note: +5, including nesting penalty of 4, nesting level increased to 5
 3921 |           if (!(reflect[1 - pd] = core.attacker->is_affected_by_effect(EFFECT_REFLECT_BATTLE_DAMAGE, core.attack_target))) {
      |           ^
src\puzzlepro_core/./processor.cc:3925:11: note: +5, including nesting penalty of 4, nesting level increased to 5
 3925 |           if (!both && (core.attack_target->is_affected_by_effect(EFFECT_ALSO_BATTLE_DAMAGE) || is_player_affected_by_effect(pd, EFFECT_ALSO_BATTLE_DAMAGE))) {
      |           ^
src\puzzlepro_core/./processor.cc:3925:21: note: +1
 3925 |           if (!both && (core.attack_target->is_affected_by_effect(EFFECT_ALSO_BATTLE_DAMAGE) || is_player_affected_by_effect(pd, EFFECT_ALSO_BATTLE_DAMAGE))) {
      |                     ^
src\puzzlepro_core/./processor.cc:3925:94: note: +1
 3925 |           if (!both && (core.attack_target->is_affected_by_effect(EFFECT_ALSO_BATTLE_DAMAGE) || is_player_affected_by_effect(pd, EFFECT_ALSO_BATTLE_DAMAGE))) {
      |                                                                                              ^
src\puzzlepro_core/./processor.cc:3928:11: note: +5, including nesting penalty of 4, nesting level increased to 5
 3928 |           if (!both && (core.attacker->is_affected_by_effect(EFFECT_ALSO_BATTLE_DAMAGE) || is_player_affected_by_effect(1 - pd, EFFECT_ALSO_BATTLE_DAMAGE))) {
      |           ^
src\puzzlepro_core/./processor.cc:3928:21: note: +1
 3928 |           if (!both && (core.attacker->is_affected_by_effect(EFFECT_ALSO_BATTLE_DAMAGE) || is_player_affected_by_effect(1 - pd, EFFECT_ALSO_BATTLE_DAMAGE))) {
      |                     ^
src\puzzlepro_core/./processor.cc:3928:89: note: +1
 3928 |           if (!both && (core.attacker->is_affected_by_effect(EFFECT_ALSO_BATTLE_DAMAGE) || is_player_affected_by_effect(1 - pd, EFFECT_ALSO_BATTLE_DAMAGE))) {
      |                                                                                         ^
src\puzzlepro_core/./processor.cc:3931:11: note: +5, including nesting penalty of 4, nesting level increased to 5
 3931 |           if (both) {
      |           ^
src\puzzlepro_core/./processor.cc:3933:13: note: +6, including nesting penalty of 5, nesting level increased to 6
 3933 |             if (reflect[pa] && reflect[pa]->get_handler_player() == pa) {
      |             ^
src\puzzlepro_core/./processor.cc:3933:29: note: +1
 3933 |             if (reflect[pa] && reflect[pa]->get_handler_player() == pa) {
      |                             ^
src\puzzlepro_core/./processor.cc:3937:18: note: +1, nesting level increased to 6
 3937 |             else if (reflect[1 - pa] && reflect[1 - pa]->get_handler_player() == pa) {
      |                  ^
src\puzzlepro_core/./processor.cc:3937:38: note: +1
 3937 |             else if (reflect[1 - pa] && reflect[1 - pa]->get_handler_player() == pa) {
      |                                      ^
src\puzzlepro_core/./processor.cc:3941:18: note: +1, nesting level increased to 6
 3941 |             else if (reflect[pa] && reflect[pa]->get_handler_player() == 1 - pa) {
      |                  ^
src\puzzlepro_core/./processor.cc:3941:34: note: +1
 3941 |             else if (reflect[pa] && reflect[pa]->get_handler_player() == 1 - pa) {
      |                                  ^
src\puzzlepro_core/./processor.cc:3945:18: note: +1, nesting level increased to 6
 3945 |             else if (reflect[1 - pa] && reflect[1 - pa]->get_handler_player() == 1 - pa) {
      |                  ^
src\puzzlepro_core/./processor.cc:3945:38: note: +1
 3945 |             else if (reflect[1 - pa] && reflect[1 - pa]->get_handler_player() == 1 - pa) {
      |                                      ^
src\puzzlepro_core/./processor.cc:3950:11: note: +1, nesting level increased to 5
 3950 |           else {
      |           ^
src\puzzlepro_core/./processor.cc:3951:13: note: +6, including nesting penalty of 5, nesting level increased to 6
 3951 |             if (reflect[damaged_player]) {
      |             ^
src\puzzlepro_core/./processor.cc:3952:15: note: +7, including nesting penalty of 6, nesting level increased to 7
 3952 |               if (!also[1 - damaged_player]) {
      |               ^
src\puzzlepro_core/./processor.cc:3956:15: note: +1, nesting level increased to 7
 3956 |               else {
      |               ^
src\puzzlepro_core/./processor.cc:3961:18: note: +1, nesting level increased to 6
 3961 |             else if (also[damaged_player]) {
      |                  ^
src\puzzlepro_core/./processor.cc:3962:15: note: +7, including nesting penalty of 6, nesting level increased to 7
 3962 |               if (!reflect[1 - damaged_player]) {
      |               ^
src\puzzlepro_core/./processor.cc:3965:15: note: +1, nesting level increased to 7
 3965 |               else {
      |               ^
src\puzzlepro_core/./processor.cc:3979:11: note: +5, including nesting penalty of 4, nesting level increased to 5
 3979 |           for (uint8_t p = 0; p < 2; ++p) {
      |           ^
src\puzzlepro_core/./processor.cc:3983:13: note: +6, including nesting penalty of 5, nesting level increased to 6
 3983 |             for (int32_t i = 0; i < change_effects.size(); ++i) {
      |             ^
src\puzzlepro_core/./processor.cc:3985:15: note: +7, including nesting penalty of 6, nesting level increased to 7
 3985 |               if (!change_effects[i]->is_flag(EFFECT_FLAG_PLAYER_TARGET)) {
      |               ^
src\puzzlepro_core/./processor.cc:3989:20: note: +1, nesting level increased to 7
 3989 |               else if (change_effects[i]->is_target_player(p)) {
      |                    ^
src\puzzlepro_core/./processor.cc:3992:15: note: +7, including nesting penalty of 6, nesting level increased to 7
 3992 |               if (val == 0) {
      |               ^
src\puzzlepro_core/./processor.cc:3996:20: note: +1, nesting level increased to 7
 3996 |               else if (val > 0) {
      |                    ^
src\puzzlepro_core/./processor.cc:3999:20: note: +1, nesting level increased to 7
 3999 |               else if (val == DOUBLE_DAMAGE) {
      |                    ^
src\puzzlepro_core/./processor.cc:4002:20: note: +1, nesting level increased to 7
 4002 |               else if (val == HALF_DAMAGE) {
      |                    ^
src\puzzlepro_core/./processor.cc:4006:13: note: +6, including nesting penalty of 5, nesting level increased to 6
 4006 |             if (double_dam && half_dam) {
      |             ^
src\puzzlepro_core/./processor.cc:4006:28: note: +1
 4006 |             if (double_dam && half_dam) {
      |                            ^
src\puzzlepro_core/./processor.cc:4010:13: note: +6, including nesting penalty of 5, nesting level increased to 6
 4010 |             if (double_dam) {
      |             ^
src\puzzlepro_core/./processor.cc:4013:13: note: +6, including nesting penalty of 5, nesting level increased to 6
 4013 |             if (half_dam) {
      |             ^
src\puzzlepro_core/./processor.cc:4016:13: note: +6, including nesting penalty of 5, nesting level increased to 6
 4016 |             if (dam_value >= 0 && core.battle_damage[p] > 0) {
      |             ^
src\puzzlepro_core/./processor.cc:4016:32: note: +1
 4016 |             if (dam_value >= 0 && core.battle_damage[p] > 0) {
      |                                ^
src\puzzlepro_core/./processor.cc:4020:11: note: +5, including nesting penalty of 4, nesting level increased to 5
 4020 |           if (core.attacker->is_affected_by_effect(EFFECT_NO_BATTLE_DAMAGE) || core.attack_target->is_affected_by_effect(EFFECT_AVOID_BATTLE_DAMAGE, core.attacker) || is_player_affected_by_effect(pd, EFFECT_AVOID_BATTLE_DAMAGE)) {
      |           ^
src\puzzlepro_core/./processor.cc:4020:165: note: +1
 4020 |           if (core.attacker->is_affected_by_effect(EFFECT_NO_BATTLE_DAMAGE) || core.attack_target->is_affected_by_effect(EFFECT_AVOID_BATTLE_DAMAGE, core.attacker) || is_player_affected_by_effect(pd, EFFECT_AVOID_BATTLE_DAMAGE)) {
      |                                                                                                                                                                     ^
src\puzzlepro_core/./processor.cc:4032:11: note: +5, including nesting penalty of 4, nesting level increased to 5
 4032 |           if (core.attack_target->is_affected_by_effect(EFFECT_NO_BATTLE_DAMAGE) || core.attacker->is_affected_by_effect(EFFECT_AVOID_BATTLE_DAMAGE, core.attack_target) || is_player_affected_by_effect(1 - pd, EFFECT_AVOID_BATTLE_DAMAGE)) {
      |           ^
src\puzzlepro_core/./processor.cc:4032:170: note: +1
 4032 |           if (core.attack_target->is_affected_by_effect(EFFECT_NO_BATTLE_DAMAGE) || core.attacker->is_affected_by_effect(EFFECT_AVOID_BATTLE_DAMAGE, core.attack_target) || is_player_affected_by_effect(1 - pd, EFFECT_AVOID_BATTLE_DAMAGE)) {
      |                                                                                                                                                                          ^
src\puzzlepro_core/./processor.cc:4048:12: note: +1, nesting level increased to 3
 4048 |       else if (attacker_value < defender_value) {
      |            ^
src\puzzlepro_core/./processor.cc:4055:3: note: +1, nesting level increased to 1
 4055 |   else {
      |   ^
src\puzzlepro_core/./processor.cc:4056:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 4056 |     if (attacker_value != 0) {
      |     ^
src\puzzlepro_core/./processor.cc:4062:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 4062 |   if (reason_card && !pierce && !(damchange = reason_card->is_affected_by_effect(EFFECT_BATTLE_DAMAGE_TO_EFFECT))) {
      |   ^
src\puzzlepro_core/./processor.cc:4062:30: note: +1
 4062 |   if (reason_card && !pierce && !(damchange = reason_card->is_affected_by_effect(EFFECT_BATTLE_DAMAGE_TO_EFFECT))) {
      |                              ^
src\puzzlepro_core/./processor.cc:4063:53: note: +2, including nesting penalty of 1, nesting level increased to 2
 4063 |     card *dam_card = (reason_card == core.attacker) ? core.attack_target : core.attacker;
      |                                                     ^
src\puzzlepro_core/./processor.cc:4065:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 4065 |     if (reason_card->is_affected_by_effect(EFFECT_BOTH_BATTLE_DAMAGE) || dam_card && dam_card->is_affected_by_effect(EFFECT_BOTH_BATTLE_DAMAGE)) {
      |     ^
src\puzzlepro_core/./processor.cc:4065:71: note: +1
 4065 |     if (reason_card->is_affected_by_effect(EFFECT_BOTH_BATTLE_DAMAGE) || dam_card && dam_card->is_affected_by_effect(EFFECT_BOTH_BATTLE_DAMAGE)) {
      |                                                                       ^
src\puzzlepro_core/./processor.cc:4065:83: note: +1
 4065 |     if (reason_card->is_affected_by_effect(EFFECT_BOTH_BATTLE_DAMAGE) || dam_card && dam_card->is_affected_by_effect(EFFECT_BOTH_BATTLE_DAMAGE)) {
      |                                                                                   ^
src\puzzlepro_core/./processor.cc:4070:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 4070 |     if (!dam_card || !(reflect[damaged_player] = dam_card->is_affected_by_effect(EFFECT_REFLECT_BATTLE_DAMAGE, reason_card))) {
      |     ^
src\puzzlepro_core/./processor.cc:4070:19: note: +1
 4070 |     if (!dam_card || !(reflect[damaged_player] = dam_card->is_affected_by_effect(EFFECT_REFLECT_BATTLE_DAMAGE, reason_card))) {
      |                   ^
src\puzzlepro_core/./processor.cc:4073:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 4073 |     if (!(reflect[1 - damaged_player] = reason_card->is_affected_by_effect(EFFECT_REFLECT_BATTLE_DAMAGE, dam_card))) {
      |     ^
src\puzzlepro_core/./processor.cc:4077:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 4077 |     if (!both && (dam_card && dam_card->is_affected_by_effect(EFFECT_ALSO_BATTLE_DAMAGE) || is_player_affected_by_effect(damaged_player, EFFECT_ALSO_BATTLE_DAMAGE))) {
      |     ^
src\puzzlepro_core/./processor.cc:4077:15: note: +1
 4077 |     if (!both && (dam_card && dam_card->is_affected_by_effect(EFFECT_ALSO_BATTLE_DAMAGE) || is_player_affected_by_effect(damaged_player, EFFECT_ALSO_BATTLE_DAMAGE))) {
      |               ^
src\puzzlepro_core/./processor.cc:4077:90: note: +1
 4077 |     if (!both && (dam_card && dam_card->is_affected_by_effect(EFFECT_ALSO_BATTLE_DAMAGE) || is_player_affected_by_effect(damaged_player, EFFECT_ALSO_BATTLE_DAMAGE))) {
      |                                                                                          ^
src\puzzlepro_core/./processor.cc:4077:28: note: +1
 4077 |     if (!both && (dam_card && dam_card->is_affected_by_effect(EFFECT_ALSO_BATTLE_DAMAGE) || is_player_affected_by_effect(damaged_player, EFFECT_ALSO_BATTLE_DAMAGE))) {
      |                            ^
src\puzzlepro_core/./processor.cc:4080:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 4080 |     if (!both && (reason_card->is_affected_by_effect(EFFECT_ALSO_BATTLE_DAMAGE) || is_player_affected_by_effect(1 - damaged_player, EFFECT_ALSO_BATTLE_DAMAGE))) {
      |     ^
src\puzzlepro_core/./processor.cc:4080:15: note: +1
 4080 |     if (!both && (reason_card->is_affected_by_effect(EFFECT_ALSO_BATTLE_DAMAGE) || is_player_affected_by_effect(1 - damaged_player, EFFECT_ALSO_BATTLE_DAMAGE))) {
      |               ^
src\puzzlepro_core/./processor.cc:4080:81: note: +1
 4080 |     if (!both && (reason_card->is_affected_by_effect(EFFECT_ALSO_BATTLE_DAMAGE) || is_player_affected_by_effect(1 - damaged_player, EFFECT_ALSO_BATTLE_DAMAGE))) {
      |                                                                                 ^
src\puzzlepro_core/./processor.cc:4083:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 4083 |     if (both) {
      |     ^
src\puzzlepro_core/./processor.cc:4085:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 4085 |       if (reflect[pa] && reflect[pa]->get_handler_player() == pa) {
      |       ^
src\puzzlepro_core/./processor.cc:4085:23: note: +1
 4085 |       if (reflect[pa] && reflect[pa]->get_handler_player() == pa) {
      |                       ^
src\puzzlepro_core/./processor.cc:4089:12: note: +1, nesting level increased to 3
 4089 |       else if (reflect[1 - pa] && reflect[1 - pa]->get_handler_player() == pa) {
      |            ^
src\puzzlepro_core/./processor.cc:4089:32: note: +1
 4089 |       else if (reflect[1 - pa] && reflect[1 - pa]->get_handler_player() == pa) {
      |                                ^
src\puzzlepro_core/./processor.cc:4093:12: note: +1, nesting level increased to 3
 4093 |       else if (reflect[pa] && reflect[pa]->get_handler_player() == 1 - pa) {
      |            ^
src\puzzlepro_core/./processor.cc:4093:28: note: +1
 4093 |       else if (reflect[pa] && reflect[pa]->get_handler_player() == 1 - pa) {
      |                            ^
src\puzzlepro_core/./processor.cc:4097:12: note: +1, nesting level increased to 3
 4097 |       else if (reflect[1 - pa] && reflect[1 - pa]->get_handler_player() == 1 - pa) {
      |            ^
src\puzzlepro_core/./processor.cc:4097:32: note: +1
 4097 |       else if (reflect[1 - pa] && reflect[1 - pa]->get_handler_player() == 1 - pa) {
      |                                ^
src\puzzlepro_core/./processor.cc:4102:5: note: +1, nesting level increased to 2
 4102 |     else {
      |     ^
src\puzzlepro_core/./processor.cc:4103:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 4103 |       if (reflect[damaged_player]) {
      |       ^
src\puzzlepro_core/./processor.cc:4104:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 4104 |         if (!also[1 - damaged_player]) {
      |         ^
src\puzzlepro_core/./processor.cc:4108:9: note: +1, nesting level increased to 4
 4108 |         else {
      |         ^
src\puzzlepro_core/./processor.cc:4113:12: note: +1, nesting level increased to 3
 4113 |       else if (also[damaged_player]) {
      |            ^
src\puzzlepro_core/./processor.cc:4114:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 4114 |         if (!reflect[1 - damaged_player]) {
      |         ^
src\puzzlepro_core/./processor.cc:4117:9: note: +1, nesting level increased to 4
 4117 |         else {
      |         ^
src\puzzlepro_core/./processor.cc:4127:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 4127 |     if (dam_card) {
      |     ^
src\puzzlepro_core/./processor.cc:4133:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 4133 |     for (uint8_t p = 0; p < 2; ++p) {
      |     ^
src\puzzlepro_core/./processor.cc:4138:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 4138 |       for (effect_set::size_type i = 0; i < eset.size(); ++i) {
      |       ^
src\puzzlepro_core/./processor.cc:4140:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 4140 |         if (!eset[i]->is_flag(EFFECT_FLAG_PLAYER_TARGET)) {
      |         ^
src\puzzlepro_core/./processor.cc:4144:14: note: +1, nesting level increased to 4
 4144 |         else if (eset[i]->is_target_player(p)) {
      |              ^
src\puzzlepro_core/./processor.cc:4147:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 4147 |         if (val == 0) {
      |         ^
src\puzzlepro_core/./processor.cc:4151:14: note: +1, nesting level increased to 4
 4151 |         else if (val > 0 && val < current_min) {
      |              ^
src\puzzlepro_core/./processor.cc:4151:26: note: +1
 4151 |         else if (val > 0 && val < current_min) {
      |                          ^
src\puzzlepro_core/./processor.cc:4155:14: note: +1, nesting level increased to 4
 4155 |         else if (val == DOUBLE_DAMAGE) {
      |              ^
src\puzzlepro_core/./processor.cc:4158:14: note: +1, nesting level increased to 4
 4158 |         else if (val == HALF_DAMAGE) {
      |              ^
src\puzzlepro_core/./processor.cc:4162:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 4162 |       if (double_dam && half_dam) {
      |       ^
src\puzzlepro_core/./processor.cc:4162:22: note: +1
 4162 |       if (double_dam && half_dam) {
      |                      ^
src\puzzlepro_core/./processor.cc:4166:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 4166 |       if (double_dam) {
      |       ^
src\puzzlepro_core/./processor.cc:4169:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 4169 |       if (half_dam) {
      |       ^
src\puzzlepro_core/./processor.cc:4172:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 4172 |       if (dam_value >= 0 && core.battle_damage[p] > 0) {
      |       ^
src\puzzlepro_core/./processor.cc:4172:26: note: +1
 4172 |       if (dam_value >= 0 && core.battle_damage[p] > 0) {
      |                          ^
src\puzzlepro_core/./processor.cc:4176:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 4176 |     if (reason_card->is_affected_by_effect(EFFECT_NO_BATTLE_DAMAGE) || dam_card && dam_card->is_affected_by_effect(EFFECT_AVOID_BATTLE_DAMAGE, reason_card) || is_player_affected_by_effect(damaged_player, EFFECT_AVOID_BATTLE_DAMAGE)) {
      |     ^
src\puzzlepro_core/./processor.cc:4176:157: note: +1
 4176 |     if (reason_card->is_affected_by_effect(EFFECT_NO_BATTLE_DAMAGE) || dam_card && dam_card->is_affected_by_effect(EFFECT_AVOID_BATTLE_DAMAGE, reason_card) || is_player_affected_by_effect(damaged_player, EFFECT_AVOID_BATTLE_DAMAGE)) {
      |                                                                                                                                                             ^
src\puzzlepro_core/./processor.cc:4176:81: note: +1
 4176 |     if (reason_card->is_affected_by_effect(EFFECT_NO_BATTLE_DAMAGE) || dam_card && dam_card->is_affected_by_effect(EFFECT_AVOID_BATTLE_DAMAGE, reason_card) || is_player_affected_by_effect(damaged_player, EFFECT_AVOID_BATTLE_DAMAGE)) {
      |                                                                                 ^
src\puzzlepro_core/./processor.cc:4181:7: note: +3, including nesting penalty of 2, nesting level increased to 3
 4181 |       for (int32_t i = 0; i < eset.size(); ++i) {
      |       ^
src\puzzlepro_core/./processor.cc:4182:9: note: +4, including nesting penalty of 3, nesting level increased to 4
 4182 |         if (eset[i]->operation) {
      |         ^
src\puzzlepro_core/./processor.cc:4188:5: note: +2, including nesting penalty of 1, nesting level increased to 2
 4188 |     if (dam_card && dam_card->is_affected_by_effect(EFFECT_NO_BATTLE_DAMAGE) || reason_card->is_affected_by_effect(EFFECT_AVOID_BATTLE_DAMAGE, dam_card) || is_player_affected_by_effect(1 - damaged_player, EFFECT_AVOID_BATTLE_DAMAGE)) {
      |     ^
src\puzzlepro_core/./processor.cc:4188:154: note: +1
 4188 |     if (dam_card && dam_card->is_affected_by_effect(EFFECT_NO_BATTLE_DAMAGE) || reason_card->is_affected_by_effect(EFFECT_AVOID_BATTLE_DAMAGE, dam_card) || is_player_affected_by_effect(1 - damaged_player, EFFECT_AVOID_BATTLE_DAMAGE)) {
      |                                                                                                                                                          ^
src\puzzlepro_core/./processor.cc:4188:18: note: +1
 4188 |     if (dam_card && dam_card->is_affected_by_effect(EFFECT_NO_BATTLE_DAMAGE) || reason_card->is_affected_by_effect(EFFECT_AVOID_BATTLE_DAMAGE, dam_card) || is_player_affected_by_effect(1 - damaged_player, EFFECT_AVOID_BATTLE_DAMAGE)) {
      |                  ^
src\puzzlepro_core/./processor.cc:4201:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 4201 |   if (!core.battle_damage[damaged_player] && !core.battle_damage[1 - damaged_player]) {
      |   ^
src\puzzlepro_core/./processor.cc:4201:43: note: +1
 4201 |   if (!core.battle_damage[damaged_player] && !core.battle_damage[1 - damaged_player]) {
      |                                           ^
src\puzzlepro_core/./processor.cc:4204:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 4204 |   if (pdamchange) {
      |   ^
src\puzzlepro_core/./processor.cc:4207:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 4207 |   if (preason_card) {
      |   ^
src\puzzlepro_core/./processor.cc:4210:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 4210 |   if (battle_destroyed) {
      |   ^
src\puzzlepro_core/./processor.cc:4216:16: warning: function 'process_turn' has cognitive complexity of 103 (threshold 25) [readability-function-cognitive-complexity]
 4216 | int32_t field::process_turn(uint16_t step, uint8_t turn_player) {
      |                ^
src\puzzlepro_core/./processor.cc:4217:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 4217 |   switch (step) {
      |   ^
src\puzzlepro_core/./processor.cc:4220:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4220 |       for (const auto &ev : core.used_event) {
      |       ^
src\puzzlepro_core/./processor.cc:4221:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 4221 |         if (ev.event_cards) {
      |         ^
src\puzzlepro_core/./processor.cc:4226:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4226 |       for (auto &peffect : core.reseted_effects) {
      |       ^
src\puzzlepro_core/./processor.cc:4233:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4233 |       for (uint8_t p = 0; p < 2; ++p) {
      |       ^
src\puzzlepro_core/./processor.cc:4234:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 4234 |         for (auto &pcard : player[p].list_mzone) {
      |         ^
src\puzzlepro_core/./processor.cc:4235:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 4235 |           if (!pcard) {
      |           ^
src\puzzlepro_core/./processor.cc:4252:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 4252 |         for (auto &pcard : player[p].list_szone) {
      |         ^
src\puzzlepro_core/./processor.cc:4253:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 4253 |           if (!pcard) {
      |           ^
src\puzzlepro_core/./processor.cc:4270:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4270 |       for (auto &peffect : effects.rechargeable) {
      |       ^
src\puzzlepro_core/./processor.cc:4271:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 4271 |         if (!peffect->is_flag(EFFECT_FLAG_NO_TURN_RESET)) {
      |         ^
src\puzzlepro_core/./processor.cc:4275:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4275 |       for (auto &iter : core.summon_counter) {
      |       ^
src\puzzlepro_core/./processor.cc:4278:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4278 |       for (auto &iter : core.normalsummon_counter) {
      |       ^
src\puzzlepro_core/./processor.cc:4281:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4281 |       for (auto &iter : core.spsummon_counter) {
      |       ^
src\puzzlepro_core/./processor.cc:4284:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4284 |       for (auto &iter : core.flipsummon_counter) {
      |       ^
src\puzzlepro_core/./processor.cc:4287:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4287 |       for (auto &iter : core.attack_counter) {
      |       ^
src\puzzlepro_core/./processor.cc:4290:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4290 |       for (auto &iter : core.chain_counter) {
      |       ^
src\puzzlepro_core/./processor.cc:4293:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4293 |       if (core.global_flag & GLOBALFLAG_SPSUMMON_COUNT) {
      |       ^
src\puzzlepro_core/./processor.cc:4294:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 4294 |         for (auto &peffect : effects.spsummon_count_eff) {
      |         ^
src\puzzlepro_core/./processor.cc:4296:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 4296 |           if (!peffect->is_flag(EFFECT_FLAG_NO_TURN_RESET)) {
      |           ^
src\puzzlepro_core/./processor.cc:4306:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4306 |       if ((core.duel_options & DUEL_TAG_MODE) && infos.turn_id != 1) {
      |       ^
src\puzzlepro_core/./processor.cc:4306:47: note: +1
 4306 |       if ((core.duel_options & DUEL_TAG_MODE) && infos.turn_id != 1) {
      |                                               ^
src\puzzlepro_core/./processor.cc:4309:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4309 |       if (is_player_affected_by_effect(infos.turn_player, EFFECT_SKIP_TURN)) {
      |       ^
src\puzzlepro_core/./processor.cc:4330:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4330 |       if (is_player_affected_by_effect(infos.turn_player, EFFECT_SKIP_DP)) {
      |       ^
src\puzzlepro_core/./processor.cc:4344:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4344 |       if (core.new_fchain.size() || core.new_ochain.size()) {
      |       ^
src\puzzlepro_core/./processor.cc:4344:34: note: +1
 4344 |       if (core.new_fchain.size() || core.new_ochain.size()) {
      |                                  ^
src\puzzlepro_core/./processor.cc:4351:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4351 |       if ((core.duel_rule <= 2) || (infos.turn_id > 1)) {
      |       ^
src\puzzlepro_core/./processor.cc:4351:33: note: +1
 4351 |       if ((core.duel_rule <= 2) || (infos.turn_id > 1)) {
      |                                 ^
src\puzzlepro_core/./processor.cc:4353:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 4353 |         if (count > 0) {
      |         ^
src\puzzlepro_core/./processor.cc:4373:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4373 |       if (is_player_affected_by_effect(infos.turn_player, EFFECT_SKIP_SP)) {
      |       ^
src\puzzlepro_core/./processor.cc:4387:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4387 |       if (core.new_fchain.size() || core.new_ochain.size() || core.instant_event.back().event_code != EVENT_PHASE_START + PHASE_STANDBY) {
      |       ^
src\puzzlepro_core/./processor.cc:4387:60: note: +1
 4387 |       if (core.new_fchain.size() || core.new_ochain.size() || core.instant_event.back().event_code != EVENT_PHASE_START + PHASE_STANDBY) {
      |                                                            ^
src\puzzlepro_core/./processor.cc:4416:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4416 |       if (returns.ivalue[0] == 7) { // End Phase
      |       ^
src\puzzlepro_core/./processor.cc:4430:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4430 |       if (is_player_affected_by_effect(infos.turn_player, EFFECT_SKIP_BP)) {
      |       ^
src\puzzlepro_core/./processor.cc:4444:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4444 |       if (core.new_fchain.size() || core.new_ochain.size()) {
      |       ^
src\puzzlepro_core/./processor.cc:4444:34: note: +1
 4444 |       if (core.new_fchain.size() || core.new_ochain.size()) {
      |                                  ^
src\puzzlepro_core/./processor.cc:4462:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4462 |       if (core.units.begin()->arg2 == 0 && returns.ivalue[1]) { // 2nd Battle Phase
      |       ^
src\puzzlepro_core/./processor.cc:4462:41: note: +1
 4462 |       if (core.units.begin()->arg2 == 0 && returns.ivalue[1]) { // 2nd Battle Phase
      |                                         ^
src\puzzlepro_core/./processor.cc:4465:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 4465 |         for (uint8_t p = 0; p < 2; ++p) {
      |         ^
src\puzzlepro_core/./processor.cc:4466:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 4466 |           for (auto &pcard : player[p].list_mzone) {
      |           ^
src\puzzlepro_core/./processor.cc:4467:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 4467 |             if (!pcard) {
      |             ^
src\puzzlepro_core/./processor.cc:4481:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4481 |       if (returns.ivalue[0] == 3) { // End Phase
      |       ^
src\puzzlepro_core/./processor.cc:4493:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4493 |       if (core.new_fchain.size() || core.new_ochain.size()) {
      |       ^
src\puzzlepro_core/./processor.cc:4493:34: note: +1
 4493 |       if (core.new_fchain.size() || core.new_ochain.size()) {
      |                                  ^
src\puzzlepro_core/./processor.cc:4513:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4513 |       if (is_player_affected_by_effect(infos.turn_player, EFFECT_SKIP_EP)) {
      |       ^
src\puzzlepro_core/./processor.cc:4527:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4527 |       if (core.new_fchain.size() || core.new_ochain.size()) {
      |       ^
src\puzzlepro_core/./processor.cc:4527:34: note: +1
 4527 |       if (core.new_fchain.size() || core.new_ochain.size()) {
      |                                  ^
src\puzzlepro_core/./processor.cc:4559:16: warning: function 'add_chain' has cognitive complexity of 128 (threshold 25) [readability-function-cognitive-complexity]
 4559 | int32_t field::add_chain(uint16_t step) {
      |                ^
src\puzzlepro_core/./processor.cc:4560:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 4560 |   switch (step) {
      |   ^
src\puzzlepro_core/./processor.cc:4562:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4562 |       if (!core.new_chains.size()) {
      |       ^
src\puzzlepro_core/./processor.cc:4570:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4570 |       for (effect_set::size_type i = 0; i < eset.size(); ++i) {
      |       ^
src\puzzlepro_core/./processor.cc:4574:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 4574 |         if (!pduel->lua->check_condition(eset[i]->target, 3)) {
      |         ^
src\puzzlepro_core/./processor.cc:4577:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 4577 |         if (eset[i]->operation) {
      |         ^
src\puzzlepro_core/./processor.cc:4582:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4582 |       if (peffect->type & EFFECT_TYPE_ACTIVATE) {
      |       ^
src\puzzlepro_core/./processor.cc:4583:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 4583 |         if (peffect->get_required_handorset_effects(&clit.required_handorset_effects, clit.triggering_player, clit.evt) != 2) {
      |         ^
src\puzzlepro_core/./processor.cc:4586:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 4586 |         if (phandler->current.location == LOCATION_HAND) {
      |         ^
src\puzzlepro_core/./processor.cc:4588:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 4588 |           if (!(phandler->data.type & (TYPE_FIELD | TYPE_PENDULUM)) && peffect->is_flag(EFFECT_FLAG_LIMIT_ZONE)) {
      |           ^
src\puzzlepro_core/./processor.cc:4588:69: note: +1
 4588 |           if (!(phandler->data.type & (TYPE_FIELD | TYPE_PENDULUM)) && peffect->is_flag(EFFECT_FLAG_LIMIT_ZONE)) {
      |                                                                     ^
src\puzzlepro_core/./processor.cc:4597:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 4597 |             if (!zone) {
      |             ^
src\puzzlepro_core/./processor.cc:4603:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 4603 |           if (phandler->data.type & TYPE_FIELD) {
      |           ^
src\puzzlepro_core/./processor.cc:4606:169: note: +4, including nesting penalty of 3, nesting level increased to 4
 4606 |           move_to_field(phandler, phandler->current.controler, phandler->current.controler, LOCATION_SZONE, POS_FACEUP, FALSE, 0, (phandler->data.type & TYPE_PENDULUM) ? TRUE : FALSE, zone);
      |                                                                                                                                                                         ^
src\puzzlepro_core/./processor.cc:4608:9: note: +1, nesting level increased to 3
 4608 |         else {
      |         ^
src\puzzlepro_core/./processor.cc:4620:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4620 |       if (peffect->type & EFFECT_TYPE_ACTIVATE) {
      |       ^
src\puzzlepro_core/./processor.cc:4631:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4631 |       for (auto &ch_lim : core.chain_limit) {
      |       ^
src\puzzlepro_core/./processor.cc:4636:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4636 |       if ((peffect->card_type & (TYPE_TRAP | TYPE_MONSTER)) == (TYPE_TRAP | TYPE_MONSTER)) {
      |       ^
src\puzzlepro_core/./processor.cc:4640:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4640 |       if (peffect->type & EFFECT_TYPE_XMATERIAL) {
      |       ^
src\puzzlepro_core/./processor.cc:4651:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4651 |       if (phandler->current.location == LOCATION_HAND) {
      |       ^
src\puzzlepro_core/./processor.cc:4658:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4658 |       if (!peffect->is_flag(EFFECT_FLAG_FIELD_ONLY) && (!(peffect->type & (EFFECT_TYPE_TRIGGER_F | EFFECT_TYPE_TRIGGER_O)) || peffect->get_code_type() == CODE_PHASE)) {
      |       ^
src\puzzlepro_core/./processor.cc:4658:53: note: +1
 4658 |       if (!peffect->is_flag(EFFECT_FLAG_FIELD_ONLY) && (!(peffect->type & (EFFECT_TYPE_TRIGGER_F | EFFECT_TYPE_TRIGGER_O)) || peffect->get_code_type() == CODE_PHASE)) {
      |                                                     ^
src\puzzlepro_core/./processor.cc:4658:124: note: +1
 4658 |       if (!peffect->is_flag(EFFECT_FLAG_FIELD_ONLY) && (!(peffect->type & (EFFECT_TYPE_TRIGGER_F | EFFECT_TYPE_TRIGGER_O)) || peffect->get_code_type() == CODE_PHASE)) {
      |                                                                                                                            ^
src\puzzlepro_core/./processor.cc:4664:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4664 |       if (!peffect->is_flag(EFFECT_FLAG_FIELD_ONLY) && phandler->is_has_relation(clit) && (deffect = phandler->is_affected_by_effect(EFFECT_DISABLE_EFFECT))) {
      |       ^
src\puzzlepro_core/./processor.cc:4664:88: note: +1
 4664 |       if (!peffect->is_flag(EFFECT_FLAG_FIELD_ONLY) && phandler->is_has_relation(clit) && (deffect = phandler->is_affected_by_effect(EFFECT_DISABLE_EFFECT))) {
      |                                                                                        ^
src\puzzlepro_core/./processor.cc:4680:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4680 |       if (get_cteffect(peffect, playerid, TRUE)) {
      |       ^
src\puzzlepro_core/./processor.cc:4681:62: note: +1
 4681 |         const bool damage_step = infos.phase == PHASE_DAMAGE && !peffect->is_flag(EFFECT_FLAG_DAMAGE_STEP);
      |                                                              ^
src\puzzlepro_core/./processor.cc:4682:65: note: +1
 4682 |         const bool damage_cal = infos.phase == PHASE_DAMAGE_CAL && !peffect->is_flag(EFFECT_FLAG_DAMAGE_CAL);
      |                                                                 ^
src\puzzlepro_core/./processor.cc:4683:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 4683 |         if (damage_step || damage_cal) {
      |         ^
src\puzzlepro_core/./processor.cc:4683:25: note: +1
 4683 |         if (damage_step || damage_cal) {
      |                         ^
src\puzzlepro_core/./processor.cc:4689:7: note: +1, nesting level increased to 2
 4689 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:4695:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4695 |       if (!returns.ivalue[0]) {
      |       ^
src\puzzlepro_core/./processor.cc:4701:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4701 |       if (core.select_chains.size() > 1) {
      |       ^
src\puzzlepro_core/./processor.cc:4705:7: note: +1, nesting level increased to 2
 4705 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:4719:60: note: +2, including nesting penalty of 1, nesting level increased to 2
 4719 |       pduel->write_buffer32(core.select_options.size() > 1 ? core.select_options[returns.ivalue[0]] : 65);
      |                                                            ^
src\puzzlepro_core/./processor.cc:4724:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4724 |       if (!(peffect->type & EFFECT_TYPE_ACTIVATE)) {
      |       ^
src\puzzlepro_core/./processor.cc:4742:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4742 |       if (!clit.required_handorset_effects.size()) {
      |       ^
src\puzzlepro_core/./processor.cc:4746:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4746 |       if (clit.required_handorset_effects.size() == 1) {
      |       ^
src\puzzlepro_core/./processor.cc:4750:7: note: +1, nesting level increased to 2
 4750 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:4755:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 4755 |         for (int32_t i = 0; i < clit.required_handorset_effects.size(); ++i) {
      |         ^
src\puzzlepro_core/./processor.cc:4759:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 4759 |           if (!id || ceffect_unique_id != id) {
      |           ^
src\puzzlepro_core/./processor.cc:4759:19: note: +1
 4759 |           if (!id || ceffect_unique_id != id) {
      |                   ^
src\puzzlepro_core/./processor.cc:4763:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 4763 |           if (!ceffect_unique_id) {
      |           ^
src\puzzlepro_core/./processor.cc:4767:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 4767 |         if (ceffect_unique_id) {
      |         ^
src\puzzlepro_core/./processor.cc:4774:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4774 |       for (int32_t i = 0; i < clit.required_handorset_effects.size(); ++i) {
      |       ^
src\puzzlepro_core/./processor.cc:4784:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4784 |       if (ceffect->description) {
      |       ^
src\puzzlepro_core/./processor.cc:4790:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4790 |       if (ceffect->cost) {
      |       ^
src\puzzlepro_core/./processor.cc:4801:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4801 |       if (peffect->cost) {
      |       ^
src\puzzlepro_core/./processor.cc:4810:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4810 |       if (peffect->target) {
      |       ^
src\puzzlepro_core/./processor.cc:4823:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4823 |       if (clit.target_cards && clit.target_cards->container.size()) {
      |       ^
src\puzzlepro_core/./processor.cc:4823:29: note: +1
 4823 |       if (clit.target_cards && clit.target_cards->container.size()) {
      |                             ^
src\puzzlepro_core/./processor.cc:4824:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 4824 |         if (peffect->is_flag(EFFECT_FLAG_CARD_TARGET)) {
      |         ^
src\puzzlepro_core/./processor.cc:4825:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 4825 |           for (auto &pcard : clit.target_cards->container) {
      |           ^
src\puzzlepro_core/./processor.cc:4829:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 4829 |           if (clit.target_cards->container.size()) {
      |           ^
src\puzzlepro_core/./processor.cc:4834:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4834 |       if (peffect->type & EFFECT_TYPE_ACTIVATE) {
      |       ^
src\puzzlepro_core/./processor.cc:4836:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 4836 |         if (!(phandler->data.type & (TYPE_CONTINUOUS | TYPE_FIELD | TYPE_EQUIP | TYPE_PENDULUM)) && !phandler->is_affected_by_effect(EFFECT_REMAIN_FIELD)) {
      |         ^
src\puzzlepro_core/./processor.cc:4836:98: note: +1
 4836 |         if (!(phandler->data.type & (TYPE_CONTINUOUS | TYPE_FIELD | TYPE_EQUIP | TYPE_PENDULUM)) && !phandler->is_affected_by_effect(EFFECT_REMAIN_FIELD)) {
      |                                                                                                  ^
src\puzzlepro_core/./processor.cc:4840:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4840 |       if ((phandler->get_type() & (TYPE_SPELL | TYPE_TRAP)) && (phandler->get_type() & (TYPE_CONTINUOUS | TYPE_FIELD | TYPE_EQUIP | TYPE_PENDULUM)) && phandler->is_has_relation(clit) && phandler->current.location == LOCATION_SZONE && !peffect->is_flag(EFFECT_FLAG_FIELD_ONLY)) {
      |       ^
src\puzzlepro_core/./processor.cc:4840:232: note: +1
 4840 |       if ((phandler->get_type() & (TYPE_SPELL | TYPE_TRAP)) && (phandler->get_type() & (TYPE_CONTINUOUS | TYPE_FIELD | TYPE_EQUIP | TYPE_PENDULUM)) && phandler->is_has_relation(clit) && phandler->current.location == LOCATION_SZONE && !peffect->is_flag(EFFECT_FLAG_FIELD_ONLY)) {
      |                                                                                                                                                                                                                                        ^
src\puzzlepro_core/./processor.cc:4847:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4847 |       if (core.new_chains.size()) {
      |       ^
src\puzzlepro_core/./processor.cc:4874:16: warning: function 'solve_continuous' has cognitive complexity of 35 (threshold 25) [readability-function-cognitive-complexity]
 4874 | int32_t field::solve_continuous(uint16_t step) {
      |                ^
src\puzzlepro_core/./processor.cc:4875:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 4875 |   switch (step) {
      |   ^
src\puzzlepro_core/./processor.cc:4881:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4881 |       if (!peffect->check_count_limit(triggering_player)) {
      |       ^
src\puzzlepro_core/./processor.cc:4886:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4886 |       if (peffect->is_flag(EFFECT_FLAG_DELAY) || peffect->get_code_type() == CODE_PHASE) {
      |       ^
src\puzzlepro_core/./processor.cc:4886:47: note: +1
 4886 |       if (peffect->is_flag(EFFECT_FLAG_DELAY) || peffect->get_code_type() == CODE_PHASE) {
      |                                               ^
src\puzzlepro_core/./processor.cc:4891:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4891 |       if (!peffect->target) {
      |       ^
src\puzzlepro_core/./processor.cc:4905:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4905 |       if (!peffect->operation) {
      |       ^
src\puzzlepro_core/./processor.cc:4918:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4918 |       if (core.continuous_chain.back().target_cards) {
      |       ^
src\puzzlepro_core/./processor.cc:4921:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4921 |       for (auto &oit : core.continuous_chain.back().opinfos) {
      |       ^
src\puzzlepro_core/./processor.cc:4922:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 4922 |         if (oit.second.op_cards) {
      |         ^
src\puzzlepro_core/./processor.cc:4928:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4928 |       if (peffect->is_flag(EFFECT_FLAG_DELAY) || peffect->get_code_type() == CODE_PHASE) {
      |       ^
src\puzzlepro_core/./processor.cc:4928:47: note: +1
 4928 |       if (peffect->is_flag(EFFECT_FLAG_DELAY) || peffect->get_code_type() == CODE_PHASE) {
      |                                               ^
src\puzzlepro_core/./processor.cc:4936:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4936 |       if (core.conti_player == PLAYER_NONE) {
      |       ^
src\puzzlepro_core/./processor.cc:4939:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4939 |       if (core.conti_player == infos.turn_player) {
      |       ^
src\puzzlepro_core/./processor.cc:4940:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 4940 |         if (core.delayed_continuous_tp.size()) {
      |         ^
src\puzzlepro_core/./processor.cc:4944:9: note: +1, nesting level increased to 3
 4944 |         else {
      |         ^
src\puzzlepro_core/./processor.cc:4948:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4948 |       if (core.conti_player == 1 - infos.turn_player) {
      |       ^
src\puzzlepro_core/./processor.cc:4949:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 4949 |         if (core.delayed_continuous_ntp.size()) {
      |         ^
src\puzzlepro_core/./processor.cc:4953:14: note: +1, nesting level increased to 3
 4953 |         else if (core.delayed_continuous_tp.size()) {
      |              ^
src\puzzlepro_core/./processor.cc:4958:9: note: +1, nesting level increased to 3
 4958 |         else {
      |         ^
src\puzzlepro_core/./processor.cc:4968:16: warning: function 'solve_chain' has cognitive complexity of 120 (threshold 25) [readability-function-cognitive-complexity]
 4968 | int32_t field::solve_chain(uint16_t step, uint32_t chainend_arg1, uint32_t chainend_arg2) {
      |                ^
src\puzzlepro_core/./processor.cc:4969:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 4969 |   if (core.current_chain.size() == 0 && step == 0) {
      |   ^
src\puzzlepro_core/./processor.cc:4969:38: note: +1
 4969 |   if (core.current_chain.size() == 0 && step == 0) {
      |                                      ^
src\puzzlepro_core/./processor.cc:4973:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 4973 |   switch (step) {
      |   ^
src\puzzlepro_core/./processor.cc:4986:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 4986 |       if (cait->flag & CHAIN_DISABLE_ACTIVATE && is_chain_negatable(cait->chain_count)) {
      |       ^
src\puzzlepro_core/./processor.cc:4986:47: note: +1
 4986 |       if (cait->flag & CHAIN_DISABLE_ACTIVATE && is_chain_negatable(cait->chain_count)) {
      |                                               ^
src\puzzlepro_core/./processor.cc:4988:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 4988 |         if (peffect->is_flag(EFFECT_FLAG_COUNT_LIMIT) && (peffect->count_code & EFFECT_COUNT_CODE_OATH)) {
      |         ^
src\puzzlepro_core/./processor.cc:4988:55: note: +1
 4988 |         if (peffect->is_flag(EFFECT_FLAG_COUNT_LIMIT) && (peffect->count_code & EFFECT_COUNT_CODE_OATH)) {
      |                                                       ^
src\puzzlepro_core/./processor.cc:4992:35: note: nesting level increased to 3
 4992 |         core.new_fchain.remove_if([chaincount = cait->chain_count](chain ch) {
      |                                   ^
src\puzzlepro_core/./processor.cc:4993:54: note: +1
 4993 |           return ch.evt.event_code == EVENT_CHAINING && ch.evt.event_value == chaincount;
      |                                                      ^
src\puzzlepro_core/./processor.cc:4995:35: note: nesting level increased to 3
 4995 |         core.new_ochain.remove_if([chaincount = cait->chain_count](chain ch) {
      |                                   ^
src\puzzlepro_core/./processor.cc:4996:54: note: +1
 4996 |           return ch.evt.event_code == EVENT_CHAINING && ch.evt.event_value == chaincount;
      |                                                      ^
src\puzzlepro_core/./processor.cc:5013:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5013 |       if ((cait->flag & CHAIN_CONTINUOUS_CARD) && !pcard->is_has_relation(*cait)) {
      |       ^
src\puzzlepro_core/./processor.cc:5013:48: note: +1
 5013 |       if ((cait->flag & CHAIN_CONTINUOUS_CARD) && !pcard->is_has_relation(*cait)) {
      |                                                ^
src\puzzlepro_core/./processor.cc:5017:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5017 |       if ((peffect->type & EFFECT_TYPE_ACTIVATE) && pcard->is_has_relation(*cait) && !cait->replace_op) {
      |       ^
src\puzzlepro_core/./processor.cc:5017:83: note: +1
 5017 |       if ((peffect->type & EFFECT_TYPE_ACTIVATE) && pcard->is_has_relation(*cait) && !cait->replace_op) {
      |                                                                                   ^
src\puzzlepro_core/./processor.cc:5019:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5019 |         if (core.duel_rule <= 2) {
      |         ^
src\puzzlepro_core/./processor.cc:5020:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 5020 |           if (pcard->data.type & TYPE_FIELD) {
      |           ^
src\puzzlepro_core/./processor.cc:5022:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 5022 |             if (fscard && fscard->is_position(POS_FACEUP)) {
      |             ^
src\puzzlepro_core/./processor.cc:5022:24: note: +1
 5022 |             if (fscard && fscard->is_position(POS_FACEUP)) {
      |                        ^
src\puzzlepro_core/./processor.cc:5031:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5031 |       if (is_chain_disablable(cait->chain_count) && (!peffect->is_flag(EFFECT_FLAG_CONTINUOUS_TARGET) || cait->replace_op)) {
      |       ^
src\puzzlepro_core/./processor.cc:5031:50: note: +1
 5031 |       if (is_chain_disablable(cait->chain_count) && (!peffect->is_flag(EFFECT_FLAG_CONTINUOUS_TARGET) || cait->replace_op)) {
      |                                                  ^
src\puzzlepro_core/./processor.cc:5031:103: note: +1
 5031 |       if (is_chain_disablable(cait->chain_count) && (!peffect->is_flag(EFFECT_FLAG_CONTINUOUS_TARGET) || cait->replace_op)) {
      |                                                                                                       ^
src\puzzlepro_core/./processor.cc:5032:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5032 |         if (is_chain_disabled(cait->chain_count) || (pcard->get_status(STATUS_DISABLED | STATUS_FORBIDDEN) && pcard->is_has_relation(*cait))) {
      |         ^
src\puzzlepro_core/./processor.cc:5032:50: note: +1
 5032 |         if (is_chain_disabled(cait->chain_count) || (pcard->get_status(STATUS_DISABLED | STATUS_FORBIDDEN) && pcard->is_has_relation(*cait))) {
      |                                                  ^
src\puzzlepro_core/./processor.cc:5032:108: note: +1
 5032 |         if (is_chain_disabled(cait->chain_count) || (pcard->get_status(STATUS_DISABLED | STATUS_FORBIDDEN) && pcard->is_has_relation(*cait))) {
      |                                                                                                            ^
src\puzzlepro_core/./processor.cc:5033:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 5033 |           if (!(cait->flag & CHAIN_DISABLE_EFFECT)) {
      |           ^
src\puzzlepro_core/./processor.cc:5048:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5048 |       if ((cait->flag & CHAIN_CONTINUOUS_CARD) && !pcard->is_has_relation(*cait)) {
      |       ^
src\puzzlepro_core/./processor.cc:5048:48: note: +1
 5048 |       if ((cait->flag & CHAIN_CONTINUOUS_CARD) && !pcard->is_has_relation(*cait)) {
      |                                                ^
src\puzzlepro_core/./processor.cc:5051:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5051 |       if (cait->replace_op) {
      |       ^
src\puzzlepro_core/./processor.cc:5055:7: note: +1, nesting level increased to 2
 5055 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:5058:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5058 |       if (cait->triggering_effect->operation) {
      |       ^
src\puzzlepro_core/./processor.cc:5067:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5067 |       if (core.units.begin()->arg4) {
      |       ^
src\puzzlepro_core/./processor.cc:5077:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5077 |       if (core.delayed_continuous_tp.size()) {
      |       ^
src\puzzlepro_core/./processor.cc:5082:12: note: +1, nesting level increased to 2
 5082 |       else if (core.delayed_continuous_ntp.size()) {
      |            ^
src\puzzlepro_core/./processor.cc:5087:7: note: +1, nesting level increased to 2
 5087 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:5101:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5101 |       if ((peffect->type & EFFECT_TYPE_ACTIVATE) && (cait->flag & CHAIN_ACTIVATING)) {
      |       ^
src\puzzlepro_core/./processor.cc:5101:50: note: +1
 5101 |       if ((peffect->type & EFFECT_TYPE_ACTIVATE) && (cait->flag & CHAIN_ACTIVATING)) {
      |                                                  ^
src\puzzlepro_core/./processor.cc:5104:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5104 |       if ((cait->flag & CHAIN_HAND_EFFECT) && !pcard->is_position(POS_FACEUP) && (pcard->current.location == LOCATION_HAND)) {
      |       ^
src\puzzlepro_core/./processor.cc:5104:79: note: +1
 5104 |       if ((cait->flag & CHAIN_HAND_EFFECT) && !pcard->is_position(POS_FACEUP) && (pcard->current.location == LOCATION_HAND)) {
      |                                                                               ^
src\puzzlepro_core/./processor.cc:5107:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5107 |       if (cait->target_cards && cait->target_cards->container.size()) {
      |       ^
src\puzzlepro_core/./processor.cc:5107:30: note: +1
 5107 |       if (cait->target_cards && cait->target_cards->container.size()) {
      |                              ^
src\puzzlepro_core/./processor.cc:5108:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5108 |         for (auto &ptarget : cait->target_cards->container) {
      |         ^
src\puzzlepro_core/./processor.cc:5112:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5112 |       if ((pcard->data.type & TYPE_EQUIP) && (peffect->type & EFFECT_TYPE_ACTIVATE) && !pcard->equiping_target && pcard->is_has_relation(*cait)) {
      |       ^
src\puzzlepro_core/./processor.cc:5112:112: note: +1
 5112 |       if ((pcard->data.type & TYPE_EQUIP) && (peffect->type & EFFECT_TYPE_ACTIVATE) && !pcard->equiping_target && pcard->is_has_relation(*cait)) {
      |                                                                                                                ^
src\puzzlepro_core/./processor.cc:5115:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5115 |       if (core.duel_rule <= 2) {
      |       ^
src\puzzlepro_core/./processor.cc:5116:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5116 |         if ((pcard->data.type & TYPE_FIELD) && (peffect->type & EFFECT_TYPE_ACTIVATE) && !pcard->is_status(STATUS_LEAVE_CONFIRMED) && pcard->is_has_relation(*cait)) {
      |         ^
src\puzzlepro_core/./processor.cc:5116:132: note: +1
 5116 |         if ((pcard->data.type & TYPE_FIELD) && (peffect->type & EFFECT_TYPE_ACTIVATE) && !pcard->is_status(STATUS_LEAVE_CONFIRMED) && pcard->is_has_relation(*cait)) {
      |                                                                                                                                    ^
src\puzzlepro_core/./processor.cc:5118:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 5118 |           if (fscard && fscard->is_position(POS_FACEUP)) {
      |           ^
src\puzzlepro_core/./processor.cc:5118:22: note: +1
 5118 |           if (fscard && fscard->is_position(POS_FACEUP)) {
      |                      ^
src\puzzlepro_core/./processor.cc:5127:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5127 |       if (cait->target_cards) {
      |       ^
src\puzzlepro_core/./processor.cc:5130:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5130 |       for (auto &oit : cait->opinfos) {
      |       ^
src\puzzlepro_core/./processor.cc:5131:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5131 |         if (oit.second.op_cards) {
      |         ^
src\puzzlepro_core/./processor.cc:5135:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5135 |       for (auto &cit : core.delayed_enable_set) {
      |       ^
src\puzzlepro_core/./processor.cc:5136:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5136 |         if (cit->current.location == LOCATION_MZONE) {
      |         ^
src\puzzlepro_core/./processor.cc:5143:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5143 |       if (!core.current_chain.size()) {
      |       ^
src\puzzlepro_core/./processor.cc:5144:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5144 |         for (auto &ch_lim : core.chain_limit) {
      |         ^
src\puzzlepro_core/./processor.cc:5150:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5150 |       if (core.summoning_card) {
      |       ^
src\puzzlepro_core/./processor.cc:5158:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5158 |       for (auto cit = core.leave_confirmed.begin(); cit != core.leave_confirmed.end();) {
      |       ^
src\puzzlepro_core/./processor.cc:5159:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5159 |         if (!(*cit)->is_status(STATUS_LEAVE_CONFIRMED)) {
      |         ^
src\puzzlepro_core/./processor.cc:5162:9: note: +1, nesting level increased to 3
 5162 |         else {
      |         ^
src\puzzlepro_core/./processor.cc:5166:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5166 |       if (core.leave_confirmed.size()) {
      |       ^
src\puzzlepro_core/./processor.cc:5174:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5174 |       for (auto &ch_lim_p : core.chain_limit_p) {
      |       ^
src\puzzlepro_core/./processor.cc:5182:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5182 |       if (core.summoning_card) {
      |       ^
src\puzzlepro_core/./processor.cc:5185:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5185 |       if (core.effect_damage_step == 1) {
      |       ^
src\puzzlepro_core/./processor.cc:5195:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5195 |       if (chainend_arg1 != 0x101 || chainend_arg2 != TRUE) {
      |       ^
src\puzzlepro_core/./processor.cc:5195:34: note: +1
 5195 |       if (chainend_arg1 != 0x101 || chainend_arg2 != TRUE) {
      |                                  ^
src\puzzlepro_core/./processor.cc:5273:16: warning: function 'refresh_location_info' has cognitive complexity of 44 (threshold 25) [readability-function-cognitive-complexity]
 5273 | int32_t field::refresh_location_info(uint16_t step) {
      |                ^
src\puzzlepro_core/./processor.cc:5274:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 5274 |   switch (step) {
      |   ^
src\puzzlepro_core/./processor.cc:5284:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5284 |       for (effect_set::size_type i = 0; i < eset.size(); ++i) {
      |       ^
src\puzzlepro_core/./processor.cc:5286:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5286 |         if (value) {
      |         ^
src\puzzlepro_core/./processor.cc:5290:9: note: +1, nesting level increased to 3
 5290 |         else {
      |         ^
src\puzzlepro_core/./processor.cc:5296:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5296 |       for (effect_set::size_type i = 0; i < eset.size(); ++i) {
      |       ^
src\puzzlepro_core/./processor.cc:5300:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5300 |         if ((uint32_t)field_used_count[(value >> 16) & 0x1f] < (value & 0xffff)) {
      |         ^
src\puzzlepro_core/./processor.cc:5306:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5306 |       for (effect_set::size_type i = 0; i < eset.size(); ++i) {
      |       ^
src\puzzlepro_core/./processor.cc:5310:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5310 |         if ((uint32_t)field_used_count[(value >> 16) & 0x1f] < (value & 0xffff)) {
      |         ^
src\puzzlepro_core/./processor.cc:5317:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5317 |       if (core.disfield_effects.size() == 0) {
      |       ^
src\puzzlepro_core/./processor.cc:5324:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5324 |       if (!peffect->operation) {
      |       ^
src\puzzlepro_core/./processor.cc:5335:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5335 |       if (returns.ivalue[0] == 0) {
      |       ^
src\puzzlepro_core/./processor.cc:5338:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5338 |       if (core.units.begin()->peffect->get_handler_player() == 0) {
      |       ^
src\puzzlepro_core/./processor.cc:5343:7: note: +1, nesting level increased to 2
 5343 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:5352:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5352 |       if (core.extra_mzone_effects.size() == 0) {
      |       ^
src\puzzlepro_core/./processor.cc:5361:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5361 |       if (mzone_flag == 0x1f) {
      |       ^
src\puzzlepro_core/./processor.cc:5369:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5369 |       if (dis_count > empty_count) {
      |       ^
src\puzzlepro_core/./processor.cc:5380:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5380 |       for (uint32_t i = 0; i < dis_count; ++i) {
      |       ^
src\puzzlepro_core/./processor.cc:5392:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5392 |       if (core.extra_szone_effects.size() == 0) {
      |       ^
src\puzzlepro_core/./processor.cc:5401:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5401 |       if (szone_flag == 0x1f) {
      |       ^
src\puzzlepro_core/./processor.cc:5409:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5409 |       if (dis_count > empty_count) {
      |       ^
src\puzzlepro_core/./processor.cc:5420:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5420 |       for (uint32_t i = 0; i < dis_count; ++i) {
      |       ^
src\puzzlepro_core/./processor.cc:5435:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5435 |       if (dis != (uint32_t)core.units.begin()->arg2) {
      |       ^
src\puzzlepro_core/./processor.cc:5445:16: warning: function 'adjust_step' has cognitive complexity of 283 (threshold 25) [readability-function-cognitive-complexity]
 5445 | int32_t field::adjust_step(uint16_t step) {
      |                ^
src\puzzlepro_core/./processor.cc:5446:3: note: +1, including nesting penalty of 0, nesting level increased to 1
 5446 |   switch (step) {
      |   ^
src\puzzlepro_core/./processor.cc:5454:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5454 |       if (player[0].lp <= 0 && player[1].lp > 0) {
      |       ^
src\puzzlepro_core/./processor.cc:5454:29: note: +1
 5454 |       if (player[0].lp <= 0 && player[1].lp > 0) {
      |                             ^
src\puzzlepro_core/./processor.cc:5458:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5458 |       if (core.overdraw[0] && !core.overdraw[1]) {
      |       ^
src\puzzlepro_core/./processor.cc:5458:28: note: +1
 5458 |       if (core.overdraw[0] && !core.overdraw[1]) {
      |                            ^
src\puzzlepro_core/./processor.cc:5462:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5462 |       if (player[1].lp <= 0 && player[0].lp > 0) {
      |       ^
src\puzzlepro_core/./processor.cc:5462:29: note: +1
 5462 |       if (player[1].lp <= 0 && player[0].lp > 0) {
      |                             ^
src\puzzlepro_core/./processor.cc:5466:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5466 |       if (core.overdraw[1] && !core.overdraw[0]) {
      |       ^
src\puzzlepro_core/./processor.cc:5466:28: note: +1
 5466 |       if (core.overdraw[1] && !core.overdraw[0]) {
      |                            ^
src\puzzlepro_core/./processor.cc:5470:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5470 |       if (player[1].lp <= 0 && player[0].lp <= 0) {
      |       ^
src\puzzlepro_core/./processor.cc:5470:29: note: +1
 5470 |       if (player[1].lp <= 0 && player[0].lp <= 0) {
      |                             ^
src\puzzlepro_core/./processor.cc:5474:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5474 |       if (core.overdraw[1] && core.overdraw[0]) {
      |       ^
src\puzzlepro_core/./processor.cc:5474:28: note: +1
 5474 |       if (core.overdraw[1] && core.overdraw[0]) {
      |                            ^
src\puzzlepro_core/./processor.cc:5478:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5478 |       if (winp != 5) {
      |       ^
src\puzzlepro_core/./processor.cc:5486:12: note: +1, nesting level increased to 2
 5486 |       else if (core.win_player != 5) {
      |            ^
src\puzzlepro_core/./processor.cc:5499:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5499 |       for (uint8_t p = 0; p < 2; ++p) {
      |       ^
src\puzzlepro_core/./processor.cc:5500:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5500 |         for (auto &pcard : player[tp].list_mzone) {
      |         ^
src\puzzlepro_core/./processor.cc:5501:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 5501 |           if (pcard) {
      |           ^
src\puzzlepro_core/./processor.cc:5505:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5505 |         for (auto &pcard : player[tp].list_szone) {
      |         ^
src\puzzlepro_core/./processor.cc:5506:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 5506 |           if (pcard) {
      |           ^
src\puzzlepro_core/./processor.cc:5520:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5520 |       for (uint8_t p = 0; p < 2; ++p) {
      |       ^
src\puzzlepro_core/./processor.cc:5521:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5521 |         for (auto &pcard : player[p].list_mzone) {
      |         ^
src\puzzlepro_core/./processor.cc:5522:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 5522 |           if (!pcard) {
      |           ^
src\puzzlepro_core/./processor.cc:5525:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 5525 |           if ((pcard->get_type() & TYPE_TRAPMONSTER) && pcard->is_affected_by_effect(EFFECT_DISABLE_TRAPMONSTER)) {
      |           ^
src\puzzlepro_core/./processor.cc:5525:54: note: +1
 5525 |           if ((pcard->get_type() & TYPE_TRAPMONSTER) && pcard->is_affected_by_effect(EFFECT_DISABLE_TRAPMONSTER)) {
      |                                                      ^
src\puzzlepro_core/./processor.cc:5530:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5530 |       if (core.trap_monster_adjust_set[0].size() || core.trap_monster_adjust_set[1].size()) {
      |       ^
src\puzzlepro_core/./processor.cc:5530:50: note: +1
 5530 |       if (core.trap_monster_adjust_set[0].size() || core.trap_monster_adjust_set[1].size()) {
      |                                                  ^
src\puzzlepro_core/./processor.cc:5541:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5541 |       for (uint8_t p = 0; p < 2; ++p) {
      |       ^
src\puzzlepro_core/./processor.cc:5542:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5542 |         for (auto &pcard : player[p].list_mzone) {
      |         ^
src\puzzlepro_core/./processor.cc:5543:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 5543 |           if (!pcard) {
      |           ^
src\puzzlepro_core/./processor.cc:5550:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 5550 |           if (cur != ref && pcard->is_capable_change_control()) {
      |           ^
src\puzzlepro_core/./processor.cc:5550:26: note: +1
 5550 |           if (cur != ref && pcard->is_capable_change_control()) {
      |                          ^
src\puzzlepro_core/./processor.cc:5552:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 5552 |             if (peffect && (!(peffect->type & EFFECT_TYPE_SINGLE) || peffect->condition)) {
      |             ^
src\puzzlepro_core/./processor.cc:5552:25: note: +1
 5552 |             if (peffect && (!(peffect->type & EFFECT_TYPE_SINGLE) || peffect->condition)) {
      |                         ^
src\puzzlepro_core/./processor.cc:5552:67: note: +1
 5552 |             if (peffect && (!(peffect->type & EFFECT_TYPE_SINGLE) || peffect->condition)) {
      |                                                                   ^
src\puzzlepro_core/./processor.cc:5558:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5558 |       if (core.control_adjust_set[0].size() || core.control_adjust_set[1].size()) {
      |       ^
src\puzzlepro_core/./processor.cc:5558:45: note: +1
 5558 |       if (core.control_adjust_set[0].size() || core.control_adjust_set[1].size()) {
      |                                             ^
src\puzzlepro_core/./processor.cc:5562:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5562 |         for (auto &rcard : reason_cards) {
      |         ^
src\puzzlepro_core/./processor.cc:5564:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 5564 |           if (core.readjust_map[rcard] > 3) {
      |           ^
src\puzzlepro_core/./processor.cc:5574:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5574 |       if (core.global_flag & GLOBALFLAG_BRAINWASHING_CHECK) {
      |       ^
src\puzzlepro_core/./processor.cc:5579:36: note: +3, including nesting penalty of 2, nesting level increased to 3
 5579 |         uint32_t res = eset.size() ? TRUE : FALSE;
      |                                    ^
src\puzzlepro_core/./processor.cc:5580:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5580 |         if (res) {
      |         ^
src\puzzlepro_core/./processor.cc:5581:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 5581 |           for (uint8_t p = 0; p < 2; ++p) {
      |           ^
src\puzzlepro_core/./processor.cc:5582:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 5582 |             for (auto &pcard : player[p].list_mzone) {
      |             ^
src\puzzlepro_core/./processor.cc:5583:15: note: +6, including nesting penalty of 5, nesting level increased to 6
 5583 |               if (pcard && pcard->is_affected_by_effect(EFFECT_REMOVE_BRAINWASHING)) {
      |               ^
src\puzzlepro_core/./processor.cc:5583:25: note: +1
 5583 |               if (pcard && pcard->is_affected_by_effect(EFFECT_REMOVE_BRAINWASHING)) {
      |                         ^
src\puzzlepro_core/./processor.cc:5586:17: note: +7, including nesting penalty of 6, nesting level increased to 7
 5586 |                 for (auto eit = pr.first; eit != pr.second;) {
      |                 ^
src\puzzlepro_core/./processor.cc:5589:19: note: +8, including nesting penalty of 7, nesting level increased to 8
 5589 |                   if (!peffect->condition) {
      |                   ^
src\puzzlepro_core/./processor.cc:5593:17: note: +7, including nesting penalty of 6, nesting level increased to 7
 5593 |                 if (p != pcard->owner && pcard->is_capable_change_control()) {
      |                 ^
src\puzzlepro_core/./processor.cc:5593:39: note: +1
 5593 |                 if (p != pcard->owner && pcard->is_capable_change_control()) {
      |                                       ^
src\puzzlepro_core/./processor.cc:5601:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5601 |         if (core.control_adjust_set[0].size() || core.control_adjust_set[1].size()) {
      |         ^
src\puzzlepro_core/./processor.cc:5601:47: note: +1
 5601 |         if (core.control_adjust_set[0].size() || core.control_adjust_set[1].size()) {
      |                                               ^
src\puzzlepro_core/./processor.cc:5611:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5611 |       if (adjust_grant_effect()) {
      |       ^
src\puzzlepro_core/./processor.cc:5617:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5617 |       if (core.selfdes_disabled) {
      |       ^
src\puzzlepro_core/./processor.cc:5629:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5629 |       for (uint8_t p = 0; p < 2; ++p) {
      |       ^
src\puzzlepro_core/./processor.cc:5630:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5630 |         for (uint8_t i = 0; i < 5; ++i) {
      |         ^
src\puzzlepro_core/./processor.cc:5632:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 5632 |           if (pcard && pcard->equiping_target && !pcard->is_affected_by_effect(EFFECT_EQUIP_LIMIT, pcard->equiping_target)) {
      |           ^
src\puzzlepro_core/./processor.cc:5632:47: note: +1
 5632 |           if (pcard && pcard->equiping_target && !pcard->is_affected_by_effect(EFFECT_EQUIP_LIMIT, pcard->equiping_target)) {
      |                                               ^
src\puzzlepro_core/./processor.cc:5638:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5638 |       if (destroy_set.size()) {
      |       ^
src\puzzlepro_core/./processor.cc:5649:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5649 |       for (uint8_t p = 0; p < 2; ++p) {
      |       ^
src\puzzlepro_core/./processor.cc:5650:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5650 |         for (auto &pcard : player[tp].list_mzone) {
      |         ^
src\puzzlepro_core/./processor.cc:5651:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 5651 |           if (!pcard || (pcard->data.type & TYPE_LINK) || pcard->is_affected_by_effect(EFFECT_CANNOT_CHANGE_POS_E)) {
      |           ^
src\puzzlepro_core/./processor.cc:5651:56: note: +1
 5651 |           if (!pcard || (pcard->data.type & TYPE_LINK) || pcard->is_affected_by_effect(EFFECT_CANNOT_CHANGE_POS_E)) {
      |                                                        ^
src\puzzlepro_core/./processor.cc:5656:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 5656 |           if (eset.size()) {
      |           ^
src\puzzlepro_core/./processor.cc:5658:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 5658 |             if ((pos & 0xff) != pcard->current.position) {
      |             ^
src\puzzlepro_core/./processor.cc:5661:15: note: +6, including nesting penalty of 5, nesting level increased to 6
 5661 |               if (pcard->is_status(STATUS_JUST_POS)) {
      |               ^
src\puzzlepro_core/./processor.cc:5664:15: note: +1, nesting level increased to 6
 5664 |               else {
      |               ^
src\puzzlepro_core/./processor.cc:5668:13: note: +1, nesting level increased to 5
 5668 |             else {
      |             ^
src\puzzlepro_core/./processor.cc:5676:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5676 |       if (pos_adjust.size()) {
      |       ^
src\puzzlepro_core/./processor.cc:5687:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5687 |       for (auto &pcard : player[0].list_hand) {
      |       ^
src\puzzlepro_core/./processor.cc:5689:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5689 |         if (!pub && pcard->is_position(POS_FACEUP)) {
      |         ^
src\puzzlepro_core/./processor.cc:5689:18: note: +1
 5689 |         if (!pub && pcard->is_position(POS_FACEUP)) {
      |                  ^
src\puzzlepro_core/./processor.cc:5692:39: note: +3, including nesting penalty of 2, nesting level increased to 3
 5692 |         pcard->current.position = pub ? POS_FACEUP : POS_FACEDOWN;
      |                                       ^
src\puzzlepro_core/./processor.cc:5694:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5694 |       for (auto &pcard : player[1].list_hand) {
      |       ^
src\puzzlepro_core/./processor.cc:5696:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5696 |         if (!pub && pcard->is_position(POS_FACEUP)) {
      |         ^
src\puzzlepro_core/./processor.cc:5696:18: note: +1
 5696 |         if (!pub && pcard->is_position(POS_FACEUP)) {
      |                  ^
src\puzzlepro_core/./processor.cc:5699:39: note: +3, including nesting penalty of 2, nesting level increased to 3
 5699 |         pcard->current.position = pub ? POS_FACEUP : POS_FACEDOWN;
      |                                       ^
src\puzzlepro_core/./processor.cc:5701:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5701 |       if (core.shuffle_hand_check[infos.turn_player]) {
      |       ^
src\puzzlepro_core/./processor.cc:5704:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5704 |       if (core.shuffle_hand_check[1 - infos.turn_player]) {
      |       ^
src\puzzlepro_core/./processor.cc:5713:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5713 |       if (core.global_flag & GLOBALFLAG_DECK_REVERSE_CHECK) {
      |       ^
src\puzzlepro_core/./processor.cc:5715:27: note: +3, including nesting penalty of 2, nesting level increased to 3
 5715 |         res = eset.size() ? TRUE : FALSE;
      |                           ^
src\puzzlepro_core/./processor.cc:5716:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5716 |         if (core.deck_reversed ^ res) {
      |         ^
src\puzzlepro_core/./processor.cc:5720:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 5720 |           if (res) {
      |           ^
src\puzzlepro_core/./processor.cc:5721:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 5721 |             if (player[0].list_main.size()) {
      |             ^
src\puzzlepro_core/./processor.cc:5726:15: note: +6, including nesting penalty of 5, nesting level increased to 6
 5726 |               if (ptop->current.position != POS_FACEUP_DEFENSE) {
      |               ^
src\puzzlepro_core/./processor.cc:5729:15: note: +1, nesting level increased to 6
 5729 |               else {
      |               ^
src\puzzlepro_core/./processor.cc:5733:13: note: +5, including nesting penalty of 4, nesting level increased to 5
 5733 |             if (player[1].list_main.size()) {
      |             ^
src\puzzlepro_core/./processor.cc:5738:15: note: +6, including nesting penalty of 5, nesting level increased to 6
 5738 |               if (ptop->current.position != POS_FACEUP_DEFENSE) {
      |               ^
src\puzzlepro_core/./processor.cc:5741:15: note: +1, nesting level increased to 6
 5741 |               else {
      |               ^
src\puzzlepro_core/./processor.cc:5754:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5754 |       if (!attacker) {
      |       ^
src\puzzlepro_core/./processor.cc:5757:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5757 |       if (attacker->is_status(STATUS_ATTACK_CANCELED)) {
      |       ^
src\puzzlepro_core/./processor.cc:5760:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5760 |       if (infos.phase != PHASE_DAMAGE && infos.phase != PHASE_DAMAGE_CAL) {
      |       ^
src\puzzlepro_core/./processor.cc:5760:39: note: +1
 5760 |       if (infos.phase != PHASE_DAMAGE && infos.phase != PHASE_DAMAGE_CAL) {
      |                                       ^
src\puzzlepro_core/./processor.cc:5761:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5761 |         if (!core.attacker->is_capable_attack() || core.attacker->current.controler != core.attacker->attack_controler || core.attacker->fieldid_r != core.pre_field[0]) {
      |         ^
src\puzzlepro_core/./processor.cc:5761:120: note: +1
 5761 |         if (!core.attacker->is_capable_attack() || core.attacker->current.controler != core.attacker->attack_controler || core.attacker->fieldid_r != core.pre_field[0]) {
      |                                                                                                                        ^
src\puzzlepro_core/./processor.cc:5765:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5765 |         if (core.attack_rollback) {
      |         ^
src\puzzlepro_core/./processor.cc:5769:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5769 |         for (auto &pcard : player[1 - infos.turn_player].list_mzone) {
      |         ^
src\puzzlepro_core/./processor.cc:5770:11: note: +4, including nesting penalty of 3, nesting level increased to 4
 5770 |           if (pcard) {
      |           ^
src\puzzlepro_core/./processor.cc:5774:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5774 |         if (fidset != core.opp_mzone || !confirm_attack_target()) {
      |         ^
src\puzzlepro_core/./processor.cc:5774:38: note: +1
 5774 |         if (fidset != core.opp_mzone || !confirm_attack_target()) {
      |                                      ^
src\puzzlepro_core/./processor.cc:5778:7: note: +1, nesting level increased to 2
 5778 |       else {
      |       ^
src\puzzlepro_core/./processor.cc:5779:9: note: +3, including nesting penalty of 2, nesting level increased to 3
 5779 |         if (core.attacker->current.location != LOCATION_MZONE || core.attacker->fieldid_r != core.pre_field[0] || ((core.attacker->current.position & POS_DEFENSE) && !(core.attacker->is_affected_by_effect(EFFECT_DEFENSE_ATTACK))) || core.attacker->current.controler != core.attacker->attack_controler || (core.attack_target && (core.attack_target->current.location != LOCATION_MZONE || core.attack_target->current.controler != core.attack_target->attack_controler || core.attack_target->fieldid_r != core.pre_field[1]))) {
      |         ^
src\puzzlepro_core/./processor.cc:5779:302: note: +1
 5779 |         if (core.attacker->current.location != LOCATION_MZONE || core.attacker->fieldid_r != core.pre_field[0] || ((core.attacker->current.position & POS_DEFENSE) && !(core.attacker->is_affected_by_effect(EFFECT_DEFENSE_ATTACK))) || core.attacker->current.controler != core.attacker->attack_controler || (core.attack_target && (core.attack_target->current.location != LOCATION_MZONE || core.attack_target->current.controler != core.attack_target->attack_controler || core.attack_target->fieldid_r != core.pre_field[1]))) {
      |                                                                                                                                                                                                                                                                                                              ^
src\puzzlepro_core/./processor.cc:5779:164: note: +1
 5779 |         if (core.attacker->current.location != LOCATION_MZONE || core.attacker->fieldid_r != core.pre_field[0] || ((core.attacker->current.position & POS_DEFENSE) && !(core.attacker->is_affected_by_effect(EFFECT_DEFENSE_ATTACK))) || core.attacker->current.controler != core.attacker->attack_controler || (core.attack_target && (core.attack_target->current.location != LOCATION_MZONE || core.attack_target->current.controler != core.attack_target->attack_controler || core.attack_target->fieldid_r != core.pre_field[1]))) {
      |                                                                                                                                                                    ^
src\puzzlepro_core/./processor.cc:5779:325: note: +1
 5779 |         if (core.attacker->current.location != LOCATION_MZONE || core.attacker->fieldid_r != core.pre_field[0] || ((core.attacker->current.position & POS_DEFENSE) && !(core.attacker->is_affected_by_effect(EFFECT_DEFENSE_ATTACK))) || core.attacker->current.controler != core.attacker->attack_controler || (core.attack_target && (core.attack_target->current.location != LOCATION_MZONE || core.attack_target->current.controler != core.attack_target->attack_controler || core.attack_target->fieldid_r != core.pre_field[1]))) {
      |                                                                                                                                                                                                                                                                                                                                     ^
src\puzzlepro_core/./processor.cc:5779:465: note: +1
 5779 |         if (core.attacker->current.location != LOCATION_MZONE || core.attacker->fieldid_r != core.pre_field[0] || ((core.attacker->current.position & POS_DEFENSE) && !(core.attacker->is_affected_by_effect(EFFECT_DEFENSE_ATTACK))) || core.attacker->current.controler != core.attacker->attack_controler || (core.attack_target && (core.attack_target->current.location != LOCATION_MZONE || core.attack_target->current.controler != core.attack_target->attack_controler || core.attack_target->fieldid_r != core.pre_field[1]))) {
      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 ^
src\puzzlepro_core/./processor.cc:5791:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5791 |       if (core.re_adjust) {
      |       ^
src\puzzlepro_core/./processor.cc:5795:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5795 |       if (core.shuffle_hand_check[0]) {
      |       ^
src\puzzlepro_core/./processor.cc:5798:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5798 |       if (core.shuffle_hand_check[1]) {
      |       ^
src\puzzlepro_core/./processor.cc:5801:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5801 |       if (core.shuffle_deck_check[0]) {
      |       ^
src\puzzlepro_core/./processor.cc:5804:7: note: +2, including nesting penalty of 1, nesting level increased to 2
 5804 |       if (core.shuffle_deck_check[1]) {
      |       ^
src\puzzlepro_core/./scriptlib.cc:23:20: warning: function 'check_param' has cognitive complexity of 26 (threshold 25) [readability-function-cognitive-complexity]
   23 | int32_t scriptlib::check_param(lua_State *L, int32_t param_type, int32_t index, int32_t retfalse) {
      |                    ^
src\puzzlepro_core/./scriptlib.cc:24:3: note: +1, including nesting penalty of 0, nesting level increased to 1
   24 |   switch (param_type) {
      |   ^
src\puzzlepro_core/./scriptlib.cc:28:7: note: +2, including nesting penalty of 1, nesting level increased to 2
   28 |       if (lua_isuserdata(L, index) && lua_getmetatable(L, index)) {
      |       ^
src\puzzlepro_core/./scriptlib.cc:28:36: note: +1
   28 |       if (lua_isuserdata(L, index) && lua_getmetatable(L, index)) {
      |                                    ^
src\puzzlepro_core/./scriptlib.cc:32:7: note: +2, including nesting penalty of 1, nesting level increased to 2
   32 |       if (result) {
      |       ^
src\puzzlepro_core/./scriptlib.cc:35:7: note: +2, including nesting penalty of 1, nesting level increased to 2
   35 |       if (retfalse) {
      |       ^
src\puzzlepro_core/./scriptlib.cc:42:7: note: +2, including nesting penalty of 1, nesting level increased to 2
   42 |       if (lua_isuserdata(L, index) && check_data_type(L, index, "Group")) {
      |       ^
src\puzzlepro_core/./scriptlib.cc:42:36: note: +1
   42 |       if (lua_isuserdata(L, index) && check_data_type(L, index, "Group")) {
      |                                    ^
src\puzzlepro_core/./scriptlib.cc:45:7: note: +2, including nesting penalty of 1, nesting level increased to 2
   45 |       if (retfalse) {
      |       ^
src\puzzlepro_core/./scriptlib.cc:52:7: note: +2, including nesting penalty of 1, nesting level increased to 2
   52 |       if (lua_isuserdata(L, index) && check_data_type(L, index, "Effect")) {
      |       ^
src\puzzlepro_core/./scriptlib.cc:52:36: note: +1
   52 |       if (lua_isuserdata(L, index) && check_data_type(L, index, "Effect")) {
      |                                    ^
src\puzzlepro_core/./scriptlib.cc:55:7: note: +2, including nesting penalty of 1, nesting level increased to 2
   55 |       if (retfalse) {
      |       ^
src\puzzlepro_core/./scriptlib.cc:62:7: note: +2, including nesting penalty of 1, nesting level increased to 2
   62 |       if (lua_isfunction(L, index)) {
      |       ^
src\puzzlepro_core/./scriptlib.cc:65:7: note: +2, including nesting penalty of 1, nesting level increased to 2
   65 |       if (retfalse) {
      |       ^
src\puzzlepro_core/./scriptlib.cc:72:7: note: +2, including nesting penalty of 1, nesting level increased to 2
   72 |       if (lua_isstring(L, index)) {
      |       ^
src\puzzlepro_core/./scriptlib.cc:75:7: note: +2, including nesting penalty of 1, nesting level increased to 2
   75 |       if (retfalse) {
      |       ^
